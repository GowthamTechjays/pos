var vr=Object.defineProperty,br=Object.defineProperties;var Cr=Object.getOwnPropertyDescriptors;var ms=Object.getOwnPropertySymbols;var To=Object.prototype.hasOwnProperty,No=Object.prototype.propertyIsEnumerable;var ko=(a,n,o)=>n in a?vr(a,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):a[n]=o,Z=(a,n)=>{for(var o in n||(n={}))To.call(n,o)&&ko(a,o,n[o]);if(ms)for(var o of ms(n))No.call(n,o)&&ko(a,o,n[o]);return a},ue=(a,n)=>br(a,Cr(n));var cn=(a,n)=>{var o={};for(var l in a)To.call(a,l)&&n.indexOf(l)<0&&(o[l]=a[l]);if(a!=null&&ms)for(var l of ms(a))n.indexOf(l)<0&&No.call(a,l)&&(o[l]=a[l]);return o};import{j as e,B as bt,r as s,a as t,b as xn,d as Sr,c as wr,S as xr,A as Ar,e as Mo,f as Ir,g as Tr,F as xe,T as es,h as Lo,C as Xt,E as $o,m as Nr,D as kr,i as te,P as ts,R as Ie,k as Mr,l as Lr,n as en,u as rt,o as st,s as va,p as qn,t as It,q as Et,v as Ua,w as as,x as ja,y as Va,z as ka,G as Dt,H as q,I as Rt,J as qt,K as et,L as mt,M as us,N as tn,O as Ue,Q as Ma,U as La,V as Fo,W as Eo,X as Do,Y as gt,Z as Po,_ as Ho,$ as ps,a0 as zn,a1 as $r,a2 as Fr,a3 as Er,a4 as Dr,a5 as Bo,a6 as Oo,a7 as ns,a8 as hs,a9 as Wo,aa as $a,ab as Fa,ac as Bs,ad as Os,ae as Ws,af as Rs,ag as Ro,ah as zt,ai as Pr,aj as Pt,ak as ba,al as ss,am as qo,an as os,ao as Hr,ap as zo,aq as Br,ar as Or,as as Wr,at as _s,au as Rr,av as Uo,aw as qr,ax as jo,ay as Vo,az as Go,aA as Jo,aB as Zo,aC as Yo,aD as gs,aE as fs,aF as ys,aG as vs,aH as qs,aI as zs,aJ as Us,aK as js,aL as Vs,aM as Ko,aN as Xo,aO as dn,aP as Qo,aQ as ei,aR as ti,aS as ai,aT as bs,aU as zr,aV as Ur,aW as jr,aX as Vr,aY as Gr,aZ as Jr}from"./vendor.643cad32.js";const Zr=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const m of document.querySelectorAll('link[rel="modulepreload"]'))l(m);new MutationObserver(m=>{for(const i of m)if(i.type==="childList")for(const d of i.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&l(d)}).observe(document,{childList:!0,subtree:!0});function o(m){const i={};return m.integrity&&(i.integrity=m.integrity),m.referrerpolicy&&(i.referrerPolicy=m.referrerpolicy),m.crossorigin==="use-credentials"?i.credentials="include":m.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function l(m){if(m.ep)return;m.ep=!0;const i=o(m);fetch(m.href,i)}};Zr();const Ke=a=>e(bt,{href:a.href,disabled:a.disabled,className:a.disabled?"cosell-primary-button-disabled":"cosell-primary-button",variant:"contained",style:a.style,type:a.type||"button",onClick:a.onClick,children:a.children});var Gs="/assets/closeIcon.dd7703c0.svg";const Yr="_sideGrayBackground_ixbzn_1",Kr="_sideBarLayoutLeft_ixbzn_27",Xr="_sideBarLayoutRight_ixbzn_51",Qr="_sideBarHeaderLeft_ixbzn_79",el="_sideBarHeaderRight_ixbzn_95",tl="_closeIcon_ixbzn_111",al="_sideHeadTextLeft_ixbzn_123",nl="_sideHeadTextRight_ixbzn_133",sl="_sideBarContent_ixbzn_151",ol="_sidebarRightContent_ixbzn_165",il="_marginGapDiv_ixbzn_171",rl="_sidebarLeftContent_ixbzn_181";var ga={sideGrayBackground:Yr,sideBarLayoutLeft:Kr,sideBarLayoutRight:Xr,sideBarHeaderLeft:Qr,sideBarHeaderRight:el,closeIcon:tl,sideHeadTextLeft:al,sideHeadTextRight:nl,sideBarContent:sl,sidebarRightContent:ol,marginGapDiv:il,sidebarLeftContent:rl};const ll=a=>{const{renderRightElement:n,renderLeftElement:o,closeHandler:l,title:m,previewTitle:i}=a;return s.exports.useEffect(()=>{document.body.style.overflow="hidden"},[]),s.exports.useEffect(()=>()=>{document.body.style.overflow="auto"},[]),e("div",{className:ga.sideGrayBackground,children:t("div",{className:ga.sideBarLayoutRight,children:[t("div",{className:ga.sidebarLeftContent,children:[e("div",{className:ga.sideBarHeaderRight,children:e("p",{className:ga.sideHeadTextRight,children:i})}),e("div",{children:e("div",{className:ga.sideBarContent,children:o})})]}),e("div",{className:ga.marginGapDiv}),t("div",{className:ga.sidebarRightContent,children:[t("div",{className:ga.sideBarHeaderRight,children:[e("p",{className:ga.sideHeadTextRight,children:m}),e("div",{className:ga.closeWrap,children:e("img",{className:ga.closeIcon,onClickCapture:l,src:Gs,alt:"close"})})]}),e("div",{children:e("div",{className:ga.sideBarContent,children:n})})]})]})})};xn.defaults.baseURL="https://api.stg.cosell.partners/api/v1/";const Ca=async(a,n=new FormData,o={})=>{const l=ue(Z({},o),{"Content-Type":"multipart/form-data"});return await await xn.post(a,n,{headers:l}).then(d=>d.data).catch(d=>d.response)},ta=async(a,n=new FormData,o={})=>{const l=ue(Z({},o),{"Content-Type":"multipart/form-data"});return await await xn.put(a,n,{headers:l}).then(d=>d.data).catch(d=>d.response)},xt=async(a,n={},o={})=>await await xn.post(a,n,{headers:o}).then(i=>i.data).catch(i=>i.response),fe=async(a,n={})=>await await xn.get(a,{headers:n}).then(m=>m.data).catch(m=>m.response),Cs=async(a,n={},o={})=>await await xn.put(a,n,{headers:o}).then(i=>i.data).catch(i=>i.response),mn=async(a,n={},o={})=>await await xn.delete(a,{headers:n,data:o}).then(i=>i.data).catch(i=>i.response),cl="_loaderWrap_1u0yr_1",dl="_background_1u0yr_13";var ni={loaderWrap:cl,background:dl};const ft=()=>e(Sr,{active:!0,spinner:e("div",{className:ni.loaderWrap,children:e(wr.BounceLoader,{size:"75px",color:"#4C70E3"})}),children:e("div",{className:ni.background})}),ml=a=>e(Ir,ue(Z({},a),{direction:"left"})),Ht=a=>e("div",{children:e(xr,{autoHideDuration:3e3,style:{height:"24%",marginLeft:"5%"},anchorOrigin:{vertical:"top",horizontal:"center"},open:a.showalert,TransitionComponent:ml,onClose:()=>a.handler("","",!1),children:e(Ar,{action:t(bt,{children:[e(Mo,{onClick:()=>a.handler("","",!1)})," "]}),style:{width:"400px",justifyContent:"center",fontSize:"18px"},severity:a.severity,children:a.message})})});const At=a=>e(Tr,{href:a.href,disabled:a.disabled,className:a.disabled?"cosell-secondary-button-disabled":"cosell-secondary-button",variant:"outlined",style:a.style,onClick:a.onClick,type:a.type,children:a.children}),Qt=({placeholder:a,label:n,error:o,field:l,type:m,InputProps:i,innerRef:d})=>t(xe,{children:[console.log(d,a),e(es,ue(Z({fullWidth:!0,InputLabelProps:{shrink:!1},placeholder:a,label:n,type:m},l),{variant:"outlined",margin:"dense",error:o,innerRef:d,style:{width:"100%"},InputProps:i}))]}),An=({placeholder:a,label:n,type:o,error:l,field:m,multiline:i,InputProps:d,required:u,disabled:r})=>e(es,ue(Z({placeholder:a,label:n,type:o},m),{required:u||!1,disabled:r||!1,multiline:i||!1,InputProps:d,variant:"outlined",margin:"dense",error:l,style:{marginBottom:"15px",width:"100%"}})),Js=({label:a,checked:n,field:o})=>e(Lo,{control:e(Xt,ue(Z({},o),{checked:n,size:"medium",color:"primary"})),style:{margin:"0",color:"#707683",fontSize:"14px !important"},label:a}),ut=({name:a})=>e($o,{name:a,children:n=>e("div",{style:{color:"red",fontSize:"12px",padding:"10px 0px"},children:n})}),In=({label:a})=>e("div",{style:{color:"#707683",fontSize:"14px",fontWeight:500,marginTop:"2%"},children:a});const yt=Nr({root:{"& .MuiOutlinedInput-root .MuiOutlinedInput-notchedOutline ":{borderColor:"var(--app--border--color)",color:"var(--app--placeholder)"},"& .MuiOutlinedInput-inputMarginDense::placeholder":{color:"var(--app--placeholder)",fontSize:"14px",fontFamily:"Inter, sans-serif"},"& .MuiOutlinedInput-inputMarginDense":{color:"var(--app--placeholder)"}},paperScrollPaper:{"& .MuiPaper-root ,.MuiPaper-elevation ,.MuiPaper-rounded ,.MuiPaper-elevation24 ,.MuiDialog-paper ,.MuiDialog-paperScrollPaper ,.MuiDialog-paperWidthMd ,.MuiDialog-paperFullWidth ,.css-rnmm7m-MuiPaper-root-MuiDialog-paper":{minWidth:"70vw",width:"80vw",maxWidth:"100vw"}}});function Bt(a){const n=yt(),{title:o,primaryContent:l,secondaryContent:m,secondaryButton:i=null,tertiaryContent:d="",fieldValue:u,primaryButton:r,handleDialogBoxClose:c,handleAgree:p,fullScreen:h,btnAlign:y,show:_}=a;return e("div",{children:t(kr,{open:_,maxWidth:"md",fullWidth:h||!1,onClose:c,className:h?n.paperScrollPaper:"",children:[o!==""&&e("div",{className:"dialogbox_title_container",children:e("div",{className:"dialogbox_title",children:o})}),t("div",{className:"dialogbox_content_container",children:[e("div",{className:"dialogbox_content_div",children:e("div",{className:"dialogbox_primary_content",children:l})}),e("div",{className:"dialogbox_content_div",children:e("div",{className:"dialogbox_secondary_content",children:m})}),d!==""&&e("div",{className:"dialogbox_content_div",children:t("div",{className:"dialogbox_tertiary_content",children:[d,e(te,{type:"password",value:u,component:An})]})})]}),i&&t("div",{className:`${h?"dialogbox_button_container_left_sales_force":y?"dialogbox_button_container_left":"dialogbox_button_container"}`,children:[e(At,{style:{marginRight:"20px"},onClick:c,children:i}),e(Ke,{onClick:p,autoFocus:!0,children:r})]})]})})}const ul="_assetCollectionMainContainer_1fnam_1",pl="_assetCollectionContainer_1fnam_13",hl="_assetCollectionTitleContainer_1fnam_35",_l="_assetCollectionTitle_1fnam_35",gl="_createIconButtonImage_1fnam_63",fl="_generalInfoDiv_1fnam_71",yl="_generalInfoContentDiv_1fnam_95",vl="_assetCollectionFormField_1fnam_109",bl="_assetCollectionInfoForm_1fnam_133",Cl="_assetCollectionInfoFormContainer_1fnam_151",Sl="_assetCollectionInfoFormContentContainer_1fnam_167",wl="_manageAssetsContainer_1fnam_179",xl="_manageAssetsContentContainer_1fnam_197",Al="_manageAssetsTitle_1fnam_213",Il="_manageAssetsTitleBtn_1fnam_221",Tl="_saveButtonContainer_1fnam_229",Nl="_semiDiv_1fnam_265",kl="_txtField_1fnam_273",Ml="_searchSide_1fnam_281",Ll="_assetHead_1fnam_299",$l="_assetTitle_1fnam_311",Fl="_flexBackground_1fnam_323",El="_assetHeadWrap_1fnam_333",Dl="_filterWrap_1fnam_341",Pl="_centerDropDown_1fnam_357",Hl="_searchbar_1fnam_365",Bl="_inputWrap_1fnam_395",Ol="_searchIcon_1fnam_405",Wl="_assetBtn_1fnam_419",Rl="_plusWrap_1fnam_441",ql="_dropDownFilter_1fnam_461",zl="_dropdownBtn_1fnam_483",Ul="_arrowIcon_1fnam_537",jl="_arrowIconActive_1fnam_553",Vl="_dropdown_1fnam_483",Gl="_menuWrap_1fnam_569",Jl="_dropdownMenu_1fnam_593",Zl="_docTypeCell_1fnam_609",Yl="_assetTable_1fnam_627",Kl="_tagChip_1fnam_679",Xl="_searchBtn_1fnam_705",Ql="_chipsWrap_1fnam_713",ec="_assetCheckBox_1fnam_723",tc="_modal_1fnam_731",ac="_modalActive_1fnam_775",nc="_modalcontent_1fnam_819",sc="_modalcontenttitle_1fnam_839",oc="_modalSecContenttitle_1fnam_853",ic="_btnPrimary_1fnam_871",rc="_btnOutlined_1fnam_873",lc="_btnTopWrap_1fnam_921",cc="_tagInput_1fnam_939",dc="_noAssetsMessage_1fnam_957",mc="_filtersCover_1fnam_973",uc="_assetCollectionCard_1fnam_985",pc="_assetCollectCard_1fnam_1003",hc="_assetCollectionEachCard_1fnam_1011",_c="_paginationWrap_1fnam_1023",gc="_textArea_1fnam_1035",fc="_assetCollectionEachCardCheckbox_1fnam_1063",yc="_assetCollectionEachCardCheckboxClicked_1fnam_1083",vc="_assetCollectionPaginationContainer_1fnam_1107";var Ne={assetCollectionMainContainer:ul,assetCollectionContainer:pl,assetCollectionTitleContainer:hl,assetCollectionTitle:_l,createIconButtonImage:gl,generalInfoDiv:fl,generalInfoContentDiv:yl,assetCollectionFormField:vl,assetCollectionInfoForm:bl,assetCollectionInfoFormContainer:Cl,assetCollectionInfoFormContentContainer:Sl,manageAssetsContainer:wl,manageAssetsContentContainer:xl,manageAssetsTitle:Al,manageAssetsTitleBtn:Il,saveButtonContainer:Tl,"MuiInputBase-input":"_MuiInputBase-input_1fnam_257",semiDiv:Nl,txtField:kl,searchSide:Ml,assetHead:Ll,assetTitle:$l,flexBackground:Fl,assetHeadWrap:El,filterWrap:Dl,centerDropDown:Pl,searchbar:Hl,inputWrap:Bl,searchIcon:Ol,assetBtn:Wl,plusWrap:Rl,dropDownFilter:ql,dropdownBtn:zl,arrowIcon:Ul,arrowIconActive:jl,dropdown:Vl,menuWrap:Gl,dropdownMenu:Jl,docTypeCell:Zl,assetTable:Yl,tagChip:Kl,searchBtn:Xl,chipsWrap:Ql,assetCheckBox:ec,modal:tc,modalActive:ac,modalcontent:nc,modalcontenttitle:sc,modalSecContenttitle:oc,btnPrimary:ic,btnOutlined:rc,btnTopWrap:lc,tagInput:cc,noAssetsMessage:dc,filtersCover:mc,assetCollectionCard:uc,assetCollectCard:pc,assetCollectionEachCard:hc,paginationWrap:_c,textArea:gc,"Mui-selected":"_Mui-selected_1fnam_1055",assetCollectionEachCardCheckbox:fc,assetCollectionEachCardCheckboxClicked:yc,assetCollectionPaginationContainer:vc};const Ea={devPortal:"https://portal.dev",localPortal:"http://localhost:3000/",prodPortal:"https://portal.stg",localSalesHub:"http://localhost:3001/",localCampaign:"http://localhost:3002/"},Tn={salesHub:"saleshub account rep",manager:"alliance manager",campaign:"campaign hub"},si={content:'"When Sales and Marketing adopt an Account-Based Strategy, Organizations Report Improved Results"',tagLine:"Gartner Account Based Benchmark Report"},ct={continue:"Continue",cancel:"Cancel",previous:"Previous",previewAndSave:"Preview and save",update:"Update",addAsset:"Add asset",add:"Add",delete:"Delete",save:"Save",search:"Search",back:"< Back to the previous page",sendInvite:"Send Invite"},un={deletePartnership:"Delete partnership",addPartnershipButton:"Add partnership",confirmDelete:"Are you sure you want to delete the partnership?",cancelButton:" Cancel",deleteButton:"Delete",snackbarMsg:"Partnership deleted successfully !"},Ga={signInlabel:"Sign in",email:"Email",password:"Password",rememberMe:"Remember me",signUpLabel:"Don't have an account?",signUpButton:"Sign up",forgotPassword:"Forgot password?"},Tt={createAccount:"Create Account",accountSetupContent:"Setup your account and start Co - Selling",alreadyHaveAccount:"Already have an account?",firstName:"First name",lastName:"Last name",workEmail:"Work email",agreeTxt:"I agree to the",termsAndConditions:"Terms & conditions",password:"Password",signInlabel:"Sign in",signUpButton:"Sign up",companyName:"Company name",role:"Role",salesRegion:"Sales region"},is={inviteHeader:"Thank you for accepting the invite",inviteSubHeader:"You are part of the account team",inviteContent:"You will receive regular updates on the account",inviteSignup:"Learn more about the partnership?",signUp:"Sign up"},pn={verifyEmail:"Verify your email",emailSentTxt:"We\u2019ve sent a verification link to your email",address:"address: ",checkTxt:" Please check your",spamMail:" Spam mail",resend:"Resend",mailReceiveLabel:"Didn\u2019t receive an email?",signIn:"Sign In"},hn={email:"Email",resend:"Resend",send:"Send",signIn:"Sign In",mailReceiveLabel:"Didn\u2019t receive an email?",forgotPasswordLabel:"Forgot password?",forgotPasswordContent:"Enter the e-mail address associated with your account and we\u2019ll send you a link to reset your password"},_n={resetPassword:"Reset password",newPassword:"New password",confirmPassword:"Confirm password",changePassword:"Change password",signInwithNewPw:"Sign in with your new password",signIn:"Sign In"},Xe={accounts:"Accounts & opportunities",accountsEngagements:"Account Engagements",campaigns:"Campaigns",content:"Content",sales:"Sales enablement",report:"Report",setup:"Setup",assets:"Assets",assetCollection:"Asset collection",salesHub:"Sales hub",salesMotion:"Sales Motions",salesContact:"Sales contacts",settings:"Partnership Settings"},Mt={accountSetupHeader:"Let's set up your account",accountSetupSubHeader:"Complete the following steps to get started",addPartnership:"Add a partnership",addPartnershipDescription:"Enter the company information about your partnership",addPartnershipButtonLabel:"Create partnership",uploadAssets:"Upload assets",uploadAssetsDescription:"Upload sales and marketing content on your partnership",uploadAssetsButtonLabel:"Upload assets",createAssetCollection:"Create asset collection",createAssetCollectionDescription:"Organize your assets into content playlists covering a solution or theme",createAssetCollectionButtonLabel:"Create asset collection",configureSalesHub:"Configure sales hub",configureSalesHubDescription:"Define the sales enablement content for internal sales reps",configureSalesHubButtonLabel:"Create sales hub",createABMCampaign:"Create an ABM campaign",createABMCampaignDescription:"Set up Sales Motion for target accounts",createABMCampaignButtonLabel:"Create campaigns",accountEngagement:"Account Engagements",accountTargetDescription:"Define your joint account targets and sales opportunities",accountEngagementButtonLabel:"Create Accounts",createSalesMotion:"Create a Sales Motion",createSalesMotionButtonLabel:"Create Sales Motion"},Zs={step1:"Step 1",step2:"Step 2",step3:"Step 3",step4:"Step 4"},gn={partnershipInfoTitle:"Enter the information of the partnership",partnershipName:"Partnership name",websiteSubDomainName:"Content hub website subdomain name",websiteSubDomainNameLabel:"Sub domain name",whitelistedDomainLabel:"Whitelisted Domains",whitelistedDomain:"Whitelisted Domains",domainEndPoint:".cosell.partners"},Lt={companyInfoTitle:"Enter your company information",companyName:"Company name",companyAddress:"Company address",city:"City",country:"Country",privacyPolicyURL:"Privacy policy URL",siteTermsURL:"Site terms URL",cookiePolicy:"Cookie policy",companyLogo:"Company logo",state:"State",zipCode:"Zip code"},Da={companyPartnerInfoTitle:"Enter partner company information",partnerCompanyName:"Partner company name",partnerCompanyLogo:"Partner company logo",partnerCompanyLogoLabel:"Upload logo",partnerCompanyPrivacyPolicyURL:"Partner company privacy policy URL",partnerCompanyPrivacyPolicyURLLabel:"Privacy policy URL",partnerCompanySiteTermsURL:"Partner company site terms URL",partnerCompanySiteTermsURLLabel:"Site terms URL",partnerCompanyCookiePolicy:"Partner company cookie policy",partnerCompanyCookiePolicyLabel:"Cookie policy"},Be={titleLabel:"Update partnership",cancelButtonLabel:"Cancel",saveButtonLabel:"Save",partnershipInfoLabel:"Partnership information",partnershipNameLabel:"Partnership Name",webSubdomainNameLabel:"Content hub website subdomain name",endAdornmentTextLabel:".cosell.com",companyInfoLabel:"Company information",companyNameLabel:"Company name",companyLogoLabel:"Company logo",companyAddressLabel:"Company address",cityLabel:"City",stateLabel:"State",countryLabel:"Country",zipLabel:"Zip code",privacyPolicyURLLabel:"Privacy policy URL",siteTermsURLLabel:"Site terms URL",cookiePolicyLabel:"Cookie policy",partnerCompanyInfoLabel:"Partner company information",partnerCompanyNameLabel:"Partner company name",partnerCompanySiteTermsURLLabel:"Partner company site terms URL",partnerCompanyLogoLabel:"Partner company logo",partnerCompanyCookiePolicyLabel:"Partner company cookie policy",partnerCompanyPrivacyPolicyURLLabel:"Partner company privacy policy URL",partnershipTeamLabel:"Partnership team",addCollaboratorButtonLabel:"Add collaborator",snackbarMsg:"Partnership created successfully",snackbarUpdateMsg:"Partnership updated successfully",snackbarDeleteMsg:"Partnership deleted successfully",webSubDomainNamePlaceholder:"Sub domain name",companyLogoPlaceholder:"Upload logo",fileErrorMessage:"Invalid file format. Please use jpg, png, or svg.",whitelistedDomain:"Whitelisted Domains",domainEndPoint:".cosell.partners"},ot={manageAssets:"Manage assets",addAsset:"Add asset",searchAsset:"Search assets",filterByAccessType:"Filter by access type",filterByDocType:"Filter by document type",name:"Name",docType:"Document type",accessType:"Access type",tags:"Tags",uploadTitle:"Upload asset",assetInfo:"Asset information",assetName:"Asset name",uploadFile:"Upload file",status:"Status",cancel:"Cancel",save:"Save",active:"Active",inActive:"Inactive",deleteAsset:"Delete asset",updateAsset:"Update asset",search:"Search",size:"Size",fileErrorMessage:"Invalid file format. Please use jpg, png, or svg.",noRecords:"No Results Found",confirmDeleteAsset:"Are you sure you want to delete the Asset? Assets mapped to any Asset Collections will be removed"},Pe={companyName:"Company name is required",companyAddress:"Company address is required",city:"City is required",invalidCity:"Invalid city",country:"Country is required",invalidCountry:"Invalid country",state:"State is required",zipCode:"Zip code is required",invalidZipCode:"Invalid zip code",invalidState:"Invalid state",partnerCompanyName:"Partner company name is required",partnershipName:"Partnership name is required",subDomain:"Subdomain name is required",websiteSubDomain:"Subdomain is required",privacyPolicy:"Privacy policy URL is required",cookiePolicy:"Cookie policy is required",siteTermsURL:"Site terms URL is required",partnerCompanySiteTermsURL:"Partner company site terms URL is required",partnerCompanyCookiePolicy:"Partner company cookie policy is required",partnerCompanyPrivacyPolicyURL:"Partner company privacy policy URL is required",email:"Email is required",validEmail:"Must be a valid email",invalidURL:"Invalid URL",fileErrorMessage:"Invalid file format. Please use jpg, png, or svg.",whitelistedDomains:"Whitelisted Domain is required"},Vt={firstName:"First name",lastName:"Last name",profileImage:"Profile Image",changeImage:"Change image",uploadImage:"Upload image",emailAddress:"Email address",changePassword:"Change password",newPassword:"New password",confirmPassword:"Confirm password",currentPassword:"Current password",cancel:"Cancel",update:"Update",successMsg:"Account details updated successfully",successProfileMsg:"Profile updated successfully",fileErrorMessage:"Invalid file format. Please upload a Image file"},tt={firstName:"First name",lastName:"Last name",profileImg:"Profile Image",fileErrorMessage:"Invalid file format. Please upload a Image file",changeImage:"Change image",uploadImage:"Upload image",companyName:"Company name",role:"Role",salesRegion:"Sales region",emailAddress:"Email address",changePassword:"Change password",newPassword:"New password",confirmPassword:"Confirm password",currentPassword:"Current password",deleteProfile:"Delete profile",cancel:"Cancel",update:"Update",successMsg:"Account details updated successfully",successProfileMsg:"Profile updated successfully",profileDeleteSuccessMsg:"Profile deleted successfully",deleteConfirmation:"Are you sure you want to delete the Sales Rep profile?",requestPassword:"Enter the Sales rep password to delete the account",delete:"Delete",password:"Password"},me={companyName:"Company name",companyLogo:"Company logo",domainName:"Domain name",industry:"Industry",targetBuyerTitles:"Target buyer titles",accessType:"Access type",accountType:"Account type",teamCadence:"Team check-in cadence",salesMotion:"Sales motion",headerText:"Header text",subHeaderText:"Sub header text",headerImage:"Header image",fontColor:"Font color",fontStyle:"Font style",ctaName:"CTA name",ctaImage:"CTA image",embeddedCode:"Embedded Code",cadenceId:"Every",salesHubSiteSuccessMsg:"Account updated successfully",salesHubSiteCreateSuccessMsg:"Account created  successfully",createdBy:"Created by",filterBySalesMotion:"Filter by Sales Motion",filterByStatus:"Filter by Status",status:"Status",companyWebsite:"Company website",servicePartnerInvloved:"Service partner involved",servicePartnerName:"Service provider name",servicePartnerLogo:"Service provider logo",accountTeamLabel:"Account team",enterEmailLabel:"Enter email",seperateByCommaHelperText:"Separate multiple emails with a comma(,)",TargetBuyerHelperText:"Press enter to add target buyer titles",salesOpportunities:"Sales opportunities",opportunityName:"Opportunity name",salesStage:"Sales stage",createdDate:"Created date",estimatedCloseDate:"Estimated close date",estimatedDealAmount:"Estimated deal amount",addSalesOpportunity:"Add Sales Opportunity",removeOpportunity:"Remove Opportunity",createSalesOpportunity:"Create sales opportunity",updateSalesOpportunity:"Update sales opportunity"},an={general:"General",siteLayout:"Site layout details",calloutSection1:"Call out section #1",calloutSection2:"Call out section #2",sollutinNarrative:"Asset Collection",cta:"CTA",accountsTeam:"Accounts Team",userInformation:"User Information",salesOpportunities:"Sales Opportunities"},Sa={accountName:"Account Name",accountType:"Account Type",industry:"Industry",salesMotion:"Sales Motion",status:"Status",createdBy:"Created by"},Nn={cardTile:"Recommended content for you",tableTile:"Account Engagements",buttonCreate:" Create Account",inviteAccTeam:"Invite Account Team",noAssetCollection:"No asset collection is available"},Gt={title:"Asset collection",previewTitle:"Asset Collection Preview",formTitle:"Create asset collection",updateTitle:"Update asset collection",deleteTitle:"Delete Asset collection",createButton:"Create new",general:"General",name:"Name",description:"Description",thumbnailImage:"Thumbnail image",tags:"Tags",assets:"Assets",add:"Add",addAssets:"Add assets",manageAssets:"Manage assets",noAssetsMessage:"No assets added to the asset collection",learnMore:"Learn more"},Ja={deleteDialogAssetCollectPrimaryContent:"Delete asset collection",deleteDialogAssetCollectSecondaryContent:"Are you sure you want to delete the asset collection ?",deleteDialogSecondaryButton:"Cancel",deleteDialogPrimaryButton:"Delete",deleteAssetCollectMsg:"Asset collection deleted successfully",deleteDialogSalesMotionPrimaryContent:"Delete Sales motion",deleteDialogSalesMotionSecondaryContent:"Are you sure you want to delete the sales motion ?",deleteSalesMotionMsg:"Sales motion deleted successfully"},aa={titleLabel:"Sales hub",previewButton:"Preview",saveButton:"Save",cancel:"Cancel",salesHubLayout:"Sales hub layout",headerText:"Header text",subHeaderText:"Sub header text",headerImg:"Header image",headerImgField:"Upload Header image",fontColor:"Font color",selectFontColor:"Select Font Color",fontFamily:"Font family",selectFontFamily:"Select Font Family",assetCollection:"Asset Collection",addAssetCollection:"Add asset collection",addAssetCollectionButton:"Add asset collection",manageAssetCollectButtonLabel:"Manage asset collection",noAssetMsg:"No asset collections mapped to the sales hub"},ma={titleLabel:"Sales hub asset collections",manageAssetCollection:"Manage asset collections",addNew:"Add New",remove:"Remove",cancel:"Cancel",save:"Save",tableName:"Name",tableNoOfAssets:"Number of assets",tableTags:"Tags",viewAssetCollections:"To view Asset Collections Choose SalesMotion in SiteLayout",noSalesMotionMapped:"No Asset collections mapped for this SalesMotion"},rs={signInLabel:"To Sign in please click ",here:"here",verifiedTxt:"Your email address has been verified",thanksTxt:"Thank you",cosellTeam:"Symbio team"},He={title:"Sales Motions",createSalesMotion:"Create Sales Motion",deleteSalesMotion:"Delete Sales Motion",createNew:"Create new",addNew:"Add New",remove:"Remove",cancel:"Cancel",save:"Save",name:"Name",description:"Description",targetBuyerTitles:"Target buyer titles",TargetBuyerHelperText:"Press enter to add target buyer titles",domainName:"Domain name",domainEndAdornment:".lp.parterns",headerTxt:"Header text",subHeaderTxt:"Sub header text",headerImage:"Header image",fontColor:"Font color",fontStyle:"Font style",ctaName:"CTA name",ctaImage:"CTA image",embeddedCode:"Embedded Code",salesMotionSuccessMsg:"Sales motion created successfully",salesMotionUpdateSuccessMsg:"Sales motion updated successfully"},Ct={title:"Account Engagements",deleteAccount:"Delete Account",createAccount:"Create Account",cancel:"Cancel",confirmDeleteAccount:"Are you sure you want to delete the sales hub account ?",inviteAccTeam:"Invite Account Team",accountTeamSuccessMsg:"User invited to the account successfully",deleteAccountMsg:"Account deleted successfully",deleteAccountTeamUser:"Delete Account Team User",confirmDeleteAccountTeamUser:"Are you sure you want to remove the account team user ?",deleteAccountUser:"Remove User",deleteAccountUserSuccessMsg:"User removed successfully",resendSucessMsg:"Email resent successfully",salesOpportunitiesSuccessMsg:"Sales opportunity created successfully",salesOpportunitiesupdateSuccessMsg:"Sales opportunity updated successfully",confirmDeleteSalesOpportunity:"Are you sure you want to remove the sales opportunity ?",deleteSalesOpportunity:"Delete Sales Opportunity",deleteSalesOpportunitySuccessMsg:"Sales opportunity deleted successfully"},Ys={siteUrl:"Site Terms",privacyPolicyUrl:"Privacy Policy",cookiePolicyUrl:" Cookie Policy"},nn={title:"Manage Account Team",enterEmail:"Enter Email",firstName:"First name",lastName:"Last name",email:"Email",role:"Role",company:"Company",inviteStatus:"Invite Status",manageAccountTeamLabel:"Manage Account Team",addUser:"Add User",removeUser:"Remove user"},Un={recommendedContent:" Recommended content for you",viewContentLabel:"View Content",siteTerms:" Site Terms",privacyPolicy:"Privacy Policy",noAssetPreview:"No Asset to preview",noAssetCollection:"No asset collection is available"},oi={backLinkLabel:"< Back to the previous page",ctaTermPolicy:"By entering your information you agree to your information being used in accordance with privacy policies for both "},Le={companyLogo:"COMPANY_LOGO",partnerCompanyLogo:"PARTNER_COMPANY_LOGO",servicePartnerCompanyLogo:"SERVICE_PARTNER_COMPANY_LOGO",siteLayoutImage:"SITELAYOUT_HEADER_IMAGE",calloutOneImage:"CALLOUT_SEC_ONE_HEADER_IMAGE",calloutTwoImage:"CALLOUT_SEC_TWO_HEADER_IMAGE",ctaImage:"CTA_IMAGE",salesHubImage:"SALESHUB_HEADER_IMAGE",profileImage:"PROFILE_IMAGE"},kn={contacts:"Contacts",ip:"IP",organization:"Organization",TotalEngagedTime:"Total engaged time",SiteSessions:"Site sessions",TopAssetEngagement:"Top asset engagement",export:"Export"};var Ks="/assets/create_icon.91d07330.svg";const bc="_chipWrap_176pg_1",Cc="_chip_176pg_1";var ii={chipWrap:bc,chip:Cc};function jn(n){var a=cn(n,[]);const S=a,{selectedTags:o,placeholder:l,tags:m,selectedChip:i,error:d,setFieldValue:u}=S,r=cn(S,["selectedTags","placeholder","tags","selectedChip","error","setFieldValue"]),[c,p]=Ie.useState(""),h=f=>{if(f.key==="Enter"){const A=[...i];if(A.indexOf(f.target.value.trim())!==-1){p("");return}if(!f.target.value.replace(/\s/g,"").length)return;A.push(f.target.value.trim()),u(r.id,A),p("")}i.length&&!c.length&&f.key==="Backspace"&&u(r.id,i.slice(0,i.length-1))},y=f=>{let A=[...i];A.indexOf(f)===-1&&(A=[...A,f]),p(""),u(r.id,A)},_=f=>()=>{const A=[...i];A.splice(A.indexOf(f),1),u(r.id,A)},b=f=>{p(f.target.value)};return e(xe,{children:e(Mr,{id:"downshift-multiple",inputValue:c,onChange:y,selectedItem:i,children:({getInputProps:f})=>{const $=f({onKeyDown:h,placeholder:l}),{onBlur:A,onChange:I,onFocus:N}=$,W=cn($,["onBlur","onChange","onFocus"]),D=Z({},W);return e("div",{children:e(es,Z({className:ii.chipWrap,style:{flexWrap:"wrap",paddingLeft:0},"data-value":i,variant:"outlined",InputProps:{startAdornment:i==null?void 0:i.map(P=>e(Lr,{tabIndex:-1,label:P,className:ii.chip,variant:"outlined",onDelete:_(P)},P)),onChange:P=>{b(P)},inputProps:D}},r))})}})})}jn.defaultProps={tags:[]};jn.propTypes={selectedTags:ts.func.isRequired,tags:ts.arrayOf(ts.string)};const Sc="_assetHead_3fpk4_1",wc="_assetTitle_3fpk4_13",xc="_chipsWrap_3fpk4_23",Ac="_tagChip_3fpk4_31",Ic="_noResults_3fpk4_55",Tc="_flexBackground_3fpk4_71",Nc="_assetHeadWrap_3fpk4_81",kc="_filterWrap_3fpk4_89",Mc="_centerDropDown_3fpk4_101",Lc="_searchbar_3fpk4_109",$c="_docTypeCell_3fpk4_131",Fc="_assetTable_3fpk4_145",Ec="_inputWrap_3fpk4_217",Dc="_searchIcon_3fpk4_225",Pc="_assetBtn_3fpk4_239",Hc="_assetCheckBox_3fpk4_261",Bc="_checkBoxTd_3fpk4_267",Oc="_plusWrap_3fpk4_275";var Mn={assetHead:Sc,assetTitle:wc,chipsWrap:xc,tagChip:Ac,noResults:Ic,flexBackground:Tc,assetHeadWrap:Nc,filterWrap:kc,centerDropDown:Mc,searchbar:Lc,docTypeCell:$c,assetTable:Fc,inputWrap:Ec,searchIcon:Dc,assetBtn:Pc,assetCheckBox:Hc,checkBoxTd:Bc,plusWrap:Oc};const Wc={errorMsg:"",assetInfo:[],thumbnailUploadedTime:Date.now(),selectedAssetCollectionIds:[],assetCollectionInfo:[],refreshTimeStamp:Date.now(),selectedAssets:[],selectedAssetsIds:[]},ri=en({name:"uploadAsset",initialState:Wc,reducers:{setErrMsg(a,{payload:n}){a.errorMsg=n.errorMsg},setAssetInfo(a,{payload:n}){a.assetInfo=n.assetInfo},setThumbnailUploadedTime(a,{payload:n}){a.thumbnailUploadedTime=n.thumbnailUploadedTime},setSlectedAssetCollectionIds(a,{payload:n}){a.selectedAssetCollectionIds=n.selectedAssetCollectionIds},setSlectedAssetCollectionInfo(a,{payload:n}){a.assetCollectionInfo=n.assetCollectionInfo},setSelectedAssets(a,{payload:n}){a.selectedAssets=n.selectedAssets},setSelectedAssetsIds(a,{payload:n}){a.selectedAssetsIds=n.selectedAssetsIds},setRefreshTimeStamp(a,{payload:n}){a.refreshTimeStamp=n.refreshTimeStamp}}}),{setErrMsg:li,setAssetInfo:Zw,setThumbnailUploadedTime:Rc,setSlectedAssetCollectionIds:Yw,setSlectedAssetCollectionInfo:Kw,setRefreshTimeStamp:Xs,setSelectedAssets:Ln,setSelectedAssetsIds:$n}=ri.actions,qc=(a,n,o,l,m,i,d)=>u=>{console.log("inside asset collection action",n);const r=localStorage.getItem("token"),c=new FormData;c.append("name",a.name),c.append("description",a.description),c.append("image",a.thumbnailImage),c.append("partnership_id",o),c.append("tags",JSON.stringify(a.tags)),c.append("asset_ids",JSON.stringify(a.assetIds)),n?(c.append("solution_narrative_id",n),ta("partnership/solution-narrative/",c,{Accept:"application/json",Authorization:`Token ${r}`}).then(p=>{p.result===!0?(Xs({refreshTimeStamp:Date.now()}),l(),i(),m("success"),d()):(i(),u(li({errorMsg:p.data.msg})),l(),d())})):Ca("partnership/solution-narrative/",c,{Accept:"application/json",Authorization:`Token ${r}`}).then(p=>{p.result===!0?(Xs({refreshTimeStamp:Date.now()}),l(),i(),m("success"),d()):(i(),u(li({errorMsg:p.data.msg})),l(),d())})},zc=(a,n,o,l,m,i)=>d=>{const u=localStorage.getItem("token");mn("partnership/solution-narrative/",{Authorization:`Token ${u}`},{partnership_id:a,solution_narrative_ids:n}).then(r=>{r.result===!0&&(Xs({refreshTimeStamp:Date.now()}),o(),l("success"),m(),i())})},Ss=a=>a.assetCollectionSlice;var Uc=ri.reducer,ws="/assets/pdf_mini.ea5194d8.svg",Qs="/assets/ppt_mini.e8abf1fe.svg",xs="/assets/img_mini.2684e12e.svg",As="/assets/video_mini.72bfea3a.svg",eo="/assets/word_mini.0358a2c9.svg",to="/assets/excel_mini.dac1702d.svg",Is="/assets/others_preview.d2ea7ece.svg";const jc=a=>{const{assetData:n}=a,o=rt(),[l,m]=s.exports.useState(""),i=st(Ss);i.selectedAssets;const d=(h,y,_)=>{h.stopPropagation();const b=i.selectedAssetsIds.indexOf(y),S=i.selectedAssets.findIndex(I=>I.asset_id===y);let f=[],A=[];b===-1?f=f.concat(i.selectedAssetsIds,y):b===0?f=f.concat(i.selectedAssetsIds.slice(1)):b===i.selectedAssetsIds.length-1?f=f.concat(i.selectedAssetsIds.slice(0,-1)):b>0&&(f=f.concat(i.selectedAssetsIds.slice(0,b),i.selectedAssetsIds.slice(b+1))),S===-1?A=A.concat(i.selectedAssets,_):S===0?A=A.concat(i.selectedAssets.slice(1)):S===i.selectedAssetsIds.length-1?A=A.concat(i.selectedAssets.slice(0,-1)):S>0&&(A=A.concat(i.selectedAssets.slice(0,S),i.selectedAssets.slice(S+1))),o(Ln({selectedAssets:A})),o($n({selectedAssetsIds:f}))},u=h=>{if(h.target.checked){const b=n.map(S=>S.asset_id);o($n({selectedAssetsIds:Array.from(new Set([...i.selectedAssetsIds,...b]))})),o(Ln({selectedAssets:Array.from(new Set([...i.selectedAssets,...n]))}));return}const y=i.selectedAssets.filter(b=>n.filter(S=>b.asset_id===S.asset_id).length===0),_=y.map(b=>b.asset_id);o($n({selectedAssetsIds:_})),o(Ln({selectedAssets:y}))};s.exports.useEffect(()=>{const y=new URLSearchParams(window.location.search).get("partner_id")||"0";m(y)},[]);const r=h=>{let y="";switch(h){case"pdf":case"Pdf":y=ws;break;case"ppt":case"pptx":case"Powerpoint":y=Qs;break;case"Video":case"mp4":case"mkv":case"MP4":case"webm":case"MOV":case"mov":case"avi":y=As;break;case"PNG":case"png":case"jpg":case"gif":case"Image":case"jpeg":case"webp":case"jfif":case"svg":y=xs;break;case"Word":case"word":case"docx":case"doc":y=eo;break;case"Excel":case"xlsx":case"xls":case"csv":y=to;break;default:y=Is}return y},c=va(qn)(({theme:h})=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),p=va(Et)(({theme:h})=>({"&:last-child td, &:last-child th":{border:0}}));return e(Ua,{component:as,children:t(ja,{sx:{minWidth:350},"aria-label":"customized table",className:Mn.assetTable,children:[e(Va,{children:t(Et,{children:[e(c,{children:e(Xt,{checked:n.length>0&&n.length===n.filter(h=>i.selectedAssetsIds.includes(h.asset_id)).length,className:n.length>0&&n.length===n.filter(h=>i.selectedAssetsIds.includes(h.asset_id)).length?Mn.assetCheckBox:"",onChange:h=>u(h)})}),e(c,{}),e(c,{children:ot.name}),e(c,{children:ot.accessType}),e(c,{children:ot.tags})]})}),e(ka,{children:n.length>0?n.map((h,y)=>t(p,{children:[e(c,{component:"td",className:Mn.checkBoxTd,children:e(Xt,{className:i.selectedAssetsIds.length>0&&i.selectedAssetsIds.includes(h.asset_id)?Mn.assetCheckBox:"",checked:i.selectedAssetsIds.length>0?i.selectedAssetsIds.includes(h.asset_id):!1,onClick:_=>d(_,h.asset_id,h)})}),e(c,{align:"center",children:e("div",{children:e("img",{src:r(h.file.split(".").pop()),alt:""})})}),e(c,{children:h.asset_name}),e(c,{children:h.access_type}),e(c,{children:e("div",{className:Mn.chipsWrap,children:h.tags.map((_,b)=>e("span",{className:Mn.tagChip,children:_},`${b+1}+${_}`))})})]},h.asset_id)):e(c,{colSpan:6,className:Mn.noResults,children:"No Records Found"})})]})})};var wa="/assets/upload-logo.f971ce98.svg",Vc="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC1SURBVHgBzVJBDcMwDLSGIBACoRDGpGUyCmNQCBmDbAgyBtEYlEHmTrZmVbZT9dWTTknk8zlODEBorQXkDVnaHxk5Qg8oisgqEqtyjp4Bi+/rTTbGiW9jJU8kmJ0CmTSjFuSeo2NwJc1DC/56hA4s3QW5wH4smsEbGXst0PajGbxoPxvJQcQSGKIiBmeQlUXM/CX+bzmBW2RaSxNzohlNJK7ExP2LAr6JYx5OafKEIyCT9a2GLw+SUkUjfp9CAAAAAElFTkSuQmCC",St="/assets/DownArrow.122c6206.svg";const fn=({placeholder:a,label:n,error:o,field:l,type:m,InputProps:i,classes:d,innerRef:u})=>e(es,ue(Z({fullWidth:!0,InputLabelProps:{shrink:!1},placeholder:a,label:n,type:m},l),{variant:"outlined",margin:"dense",error:o,style:{width:"100%"},InputProps:i,innerRef:u,className:d.root||""})),Se=({placeholder:a,label:n,error:o,field:l,multiline:m,InputProps:i,required:d,disabled:u,classes:r})=>e(es,ue(Z({placeholder:a,label:n},l),{required:d||!1,disabled:u||!1,multiline:m||!1,InputProps:i,variant:"outlined",margin:"dense",error:o,style:{marginBottom:"15px",width:"100%"},className:r.root||""})),Gc=({label:a,checked:n,field:o})=>e(Lo,{control:e(Xt,ue(Z({},o),{checked:n,size:"medium",color:"primary"})),style:{margin:"0",color:"#707683",fontSize:"14px !important"},label:a}),le=({name:a})=>e($o,{name:a,children:n=>e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:n})}),ls=({label:a})=>e("div",{style:{color:"#707683",fontSize:"14px",fontWeight:500,marginTop:"2%"},children:a}),Jc={name:"",description:"",thumbnailImage:"",tags:[]},Zc=a=>{const n=yt(),{assetCollectionId:o,cancelHandler:l,selectedAssetCollectId:m,setSelectedAssetCollectId:i,initialSelectedAssetCollectId:d,setInitialSelectedAssetCollectId:u,selectedAssetCollectativeObj:r,setSelectedAssetCollectativeObj:c,refreshAssetCollectionInformation:p,selectedAssetIdsFromPreview:h,sendFormValues:y,showAlert:_,showCloseWarning:b,setShowCloseWarning:S,isFormEdited:f,setIsFormEdited:A,setIsDirty:I}=a,N=[{key:"Internal",id:1,value:"Internal"},{key:"External",id:2,value:"External"}],W=rt(),D=s.exports.useRef(null),$=s.exports.useRef(null),[P,E]=s.exports.useState(),[M,U]=s.exports.useState(!1),[L,k]=s.exports.useState(),[g,w]=s.exports.useState([]),[x,V]=s.exports.useState(0),[G,ie]=s.exports.useState(10),[Y,re]=s.exports.useState(0),[ye,H]=s.exports.useState(!1),[pe,v]=s.exports.useState(!1),[R,K]=s.exports.useState(""),[de,ve]=s.exports.useState(""),[ke,Oe]=s.exports.useState(""),[Ae,qe]=s.exports.useState(!0),[_e,We]=s.exports.useState(!0),[Te,Qe]=s.exports.useState(""),[vt,se]=s.exports.useState(!1),[ge,ce]=s.exports.useState(1);s.exports.useState([]);const[oe,T]=s.exports.useState({showAlert:!1,severity:"",message:""}),[ee,Fe]=s.exports.useState([]),be=st(Ss),nt=Ie.useRef(),pt=Ie.useRef(),Re=()=>{const O=localStorage.getItem("token");fe("partnership/asset/get-file-type-list/",{Authorization:`Token ${O}`}).then(ne=>{if(ne.result===!0){const ae=ne.data.map(z=>({key:z.name,id:z.file_type_id,value:z.name}));Fe(ae)}})};s.exports.useEffect(()=>{JSON.stringify([...d].sort((ne,ae)=>ne-ae))===JSON.stringify([...be==null?void 0:be.selectedAssetsIds].sort((ne,ae)=>ne-ae))?f&&!P.thumbnailImageFile&&A(!1):A(!0)},[be]),s.exports.useEffect(()=>{y(L)},[L]);const Ft=(O,ne)=>{ce(ne),V((ne-1)*G)},it=()=>o==null||o==="",wt=()=>{const O=localStorage.getItem("token"),ae=new URLSearchParams(window.location.search).get("partner_id")||"0";se(!0),fe(`partnership/asset/?partnership_id=${ae}&offset=${x}&limit=${G}`,{Authorization:`Token ${O}`}).then(z=>{z.result===!0&&(w(z.data),z.count&&re(z.count)),se(!1)})},Ta=O=>{const ne=localStorage.getItem("token");fe(`partnership/solution-narrative/?solution_narrative_id=${O}`,{Accept:"application/json",Authorization:`Token ${ne}`}).then(ae=>{ae.result===!0&&E({name:ae.data.name,description:ae.data.description,thumbnailImage:ae.data.image&&`${ae.data.image}?time=${new Date().getTime()}`,tags:ae.data.tags})})},pa=(O,ne,ae)=>{se(!0);const z=localStorage.getItem("token");ae&&(fe(`partnership/solution-narrative/get-assets/?partnership_id=${O}&solution_narrative_id=${ne}&is_selected=true`,{Accept:"application/json",Authorization:`Token ${z}`}).then(B=>{if(B.result===!0){const we=B.data.filter(Ge=>Ge.asset_id);W(Ln({selectedAssets:we}));const Ce=we.map(Ge=>Ge.asset_id);u(Ce),W($n({selectedAssetsIds:Ce}))}}),se(!1)),fe(`partnership/solution-narrative/get-assets/?partnership_id=${O}&solution_narrative_id=${ne}&offset=${x}&limit=${G}`,{Accept:"application/json",Authorization:`Token ${z}`}).then(B=>{B.result===!0&&(w(B.data),B.count&&re(B.count),U(!0))}),se(!1)};s.exports.useEffect(()=>{const ne=new URLSearchParams(window.location.search).get("partner_id")||"0";Qe(ne),it()?E(Z(Z({},P),Jc)):(Ta(o),pa(ne,o,"init")),Re(),wt()},[]),s.exports.useEffect(()=>{it()&&wt()},[P]);const oa=O=>{var ae,z;const ne=O.target.files[0];if(ne&&ne.name&&$&&$.current&&ne.type.includes("image/")){const B=ne.name;(ae=$==null?void 0:$.current)==null||ae.setFieldValue("thumbnailImageFile",ne),(z=$==null?void 0:$.current)==null||z.setFieldValue("thumbnailImage",B),A(!0),W(Rc({thumbnailUploadedTime:Date.now()}))}else T(B=>ue(Z({},B),{showAlert:!0,message:Pe.fileErrorMessage,severity:"error"}))},Ut=(O,ne)=>{O==="accDocType"?Oe(ne):O==="accType"&&ve(ne)},jt=()=>{const O=de!==""&&de!=="All"?N.filter(Ge=>Ge.value===de)[0].id:"",ne=ke!==""&&ke!=="All"?ee.length>0&&ee.filter(Ge=>Ge.value===ke)[0].id:"",ae=R!==""?`&name=${R}`:"",z=de!==""&&O!==""?`&access_type_id=${O}`:"",B=ke!==""&&ne!==""?`&file_type_id=${ne}`:"",we=o==null||o===""?"":`&solution_narrative_id=${o}`,Ce=localStorage.getItem("token");it()?fe(`partnership/asset/?partnership_id=${Te}${ae}${z}${B}&offset=${x}&limit=${G}`,{Authorization:`Token ${Ce}`}).then(Ge=>{Ge.result===!0&&(w(Ge.data),Ge.count&&re(Ge.count))}):fe(`partnership/solution-narrative/get-assets/?partnership_id=${Te}${we}${ae}${z}${B}&offset=${x}&limit=${G}`,{Authorization:`Token ${Ce}`}).then(Ge=>{Ge.result===!0&&(w(Ge.data),Ge.count&&re(Ge.count))})},Ot=O=>{nt.current&&!nt.current.contains(O.target)&&v(!1),pt.current&&!pt.current.contains(O.target)&&H(!1)};s.exports.useEffect(()=>(document.addEventListener("mousedown",Ot),()=>document.removeEventListener("mousedown",Ot)),[]),s.exports.useEffect(()=>{const ne=new URLSearchParams(window.location.search).get("partner_id")||"0";(de===""||de==="All")&&(ke===""||ke==="All")&&R===""?o?pa(ne,o,""):wt():jt()},[x]);const Yt=()=>{U(!0)},J=Dt().shape({name:q().trim().required("Name is required"),thumbnailImage:q().required("Thumbnail image is required")});return t("div",{children:[P&&e(Rt,{innerRef:$,enableReinitialize:!0,initialValues:P,validate:()=>({}),validationSchema:J,onSubmit:(O,{setFieldError:ne})=>{se(!0),V(0),ce(1),W(qc({name:O.name,description:O.description,thumbnailImage:O.thumbnailImageFile?O.thumbnailImageFile:O.thumbnailImage,tags:O.tags,assetIds:be.selectedAssetsIds},o,Te,()=>se(!1),_,l,()=>p()))},children:O=>{const{values:ne,handleChange:ae,handleSubmit:z,errors:B,touched:we,handleBlur:Ce,setFieldValue:Ge,dirty:ht}=O;return k(ne),I(ht),e(qt,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onSubmit:Ve=>{Ve.preventDefault(),qe(!0),We(!0),z(Ve)},onKeyDown:Ve=>{Ve.key==="Enter"&&Ve.preventDefault()},children:t("div",{className:Ne.assetCollectionInfoForm,children:[e("div",{role:"button",className:Ne.generalInfoDiv,onClickCapture:()=>qe(!Ae),children:t("div",{className:Ne.generalInfoContentDiv,children:[Gt.general,e(et,{children:e("img",{src:St,alt:""})})]})}),Ae?t("div",{className:Ne.assetCollectionInfoFormContainer,children:[e("div",{className:Ne.assetCollectionInfoFormContentContainer,children:t("div",{className:Ne.assetCollectionFormField,children:[e("div",{className:Ne.semiDiv,children:Gt.name}),t("div",{className:`${Ne.semiDiv} ${Ne.txtField}`,children:[e(te,{type:"text",name:"name",style:{width:"100%"},value:ne.name,onChange:ae,onBlur:Ce,placeholder:Gt.name,hasError:B.name&&we.name,errorMessage:B.name,component:Se,classes:n}),e(le,{name:"name"})]})]})}),e("div",{className:Ne.assetCollectionInfoFormContentContainer,children:t("div",{className:Ne.assetCollectionFormField,children:[e("div",{className:Ne.semiDiv,children:Gt.description}),t("div",{className:`${Ne.semiDiv} ${Ne.txtField}  ${Ne.textArea}`,children:[e(te,{type:"text",name:"description",style:{width:"100%"},value:ne.description,onChange:ae,onBlur:Ce,placeholder:Gt.description,hasError:B.description&&we.description,errorMessage:B.description,component:Se,classes:n,multiline:!0}),e(le,{name:"description"})]})]})}),e("div",{className:Ne.assetCollectionInfoFormContentContainer,children:t("div",{className:Ne.assetCollectionFormField,children:[e("div",{className:Ne.semiDiv,children:Gt.thumbnailImage}),t("div",{className:`${Ne.semiDiv} disabledFile`,children:[e(te,{type:"file",name:"thumbnailImage",value:ne.thumbnailImage,disabled:!0,placeholder:Gt.thumbnailImage,component:Se,classes:n,InputProps:{endAdornment:e(mt,{position:"end",style:{width:"auto"},children:t(et,{onClick:Ve=>{D&&D.current&&D.current.click()},children:[e("input",{accept:"*",ref:D,type:"file",style:{display:"none"},onChange:Ve=>oa(Ve)}),e("img",{src:wa,alt:""})]})}),accept:"*",readOnly:!0}}),e(le,{name:"thumbnailImage"})]})]})}),e("div",{className:Ne.assetCollectionInfoFormContentContainer,children:t("div",{className:Ne.assetCollectionFormField,children:[e("div",{className:Ne.semiDiv,children:Gt.tags}),t("div",{className:Ne.semiDiv,children:[e(jn,{selectedTags:Ve=>console.log(Ve),fullWidth:!0,selectedChip:ne.tags,className:`${Ne.tagInput} tagsField`,variant:"outlined",id:"tags",name:"tags",placeholder:"Add tags",hasError:!0,errorMessage:B.tags&&we.tags,setFieldValue:Ge}),e(le,{name:"tags"})]})]})})]}):null,e("div",{className:Ne.generalInfoDiv,onClickCapture:()=>We(!_e),children:t("div",{className:Ne.generalInfoContentDiv,children:[Gt.assets,e(et,{children:e("img",{src:St,alt:""})})]})}),_e?t("div",{className:Ne.manageAssetsContainer,children:[t("div",{className:Ne.manageAssetsContentContainer,children:[e("div",{className:Ne.manageAssetsTitle,children:Gt.addAssets}),!M&&e("div",{className:Ne.manageAssetsTitleBtn,children:e(Ke,{onClick:()=>Yt(),style:{minWidth:"160px"},children:ct.addAsset})})]}),M&&e("div",{style:{width:"100%"},children:t("div",{className:Ne.filterWrap,children:[t("div",{className:Ne.inputWrap,style:{width:"100%"},children:[e("form",{children:e("input",{type:"text",name:"name",onChange:Ve=>K(Ve.target.value),placeholder:"Search assets",className:`${Ne.searchbar} search`})}),e(us,{className:Ne.searchIcon})]}),t("div",{className:Ne.filtersCover,children:[e("div",{className:Ne.centerDropDown,children:t("div",{className:Ne.dropdown,ref:pt,children:[t("button",{type:"button",className:Ne.dropdownBtn,onClick:()=>H(!ye),children:[" ",de===""?e("span",{style:{fontSize:"12px"},children:ot.filterByAccessType}):de,e(tn,{className:`${Ne.arrowIcon}  ${ye?Ne.arrowIconActive:""}`})]}),e("div",{className:`${Ne.menuWrap} ${ye?Ne.dropdownMenuActive:Ne.dropdownMenu}`,children:ye&&t(xe,{children:[e(Ue,{value:"",onClick:()=>{Ut("accType","All"),H(!1)},children:"All"}),N.map(Ve=>e(Ue,{value:Ve.value,onClick:()=>{Ut("accType",Ve.value),H(!1)},children:Ve.value},Ve.id))]})})]})}),e("div",{children:t("div",{className:Ne.dropdown,ref:nt,children:[t("button",{type:"button",className:Ne.dropdownBtn,style:{margin:"0 15px"},onClick:()=>v(!pe),children:[ke===""?e("span",{style:{fontSize:"12px"},children:ot.filterByDocType}):ke,e(tn,{className:`${Ne.arrowIcon}  ${ye?Ne.arrowIconActive:""}`})]}),e("div",{className:`${Ne.menuWrap} ${pe?Ne.dropdownMenuActive:Ne.dropdownMenu}`,children:pe&&t(xe,{children:[e(Ue,{value:"",onClick:()=>{Ut("accDocType","All"),v(!1)},children:"All"}),ee&&ee.map(Ve=>e(Ue,{value:Ve.value,onClick:()=>{Ut("accDocType",Ve.value),v(!1)},children:Ve.value},Ve.id))]})})]})}),e("div",{children:e(bt,{className:Ne.searchSide,onClick:()=>{V(0),ce(1),jt()},children:e("img",{src:Vc,alt:""})})})]}),e("div",{style:{width:"100%"},children:e(jc,{assetData:g,setAssetData:w})}),Y>G&&e(Ma,{spacing:2,className:Ne.paginationWrap,children:e(La,{count:Math.ceil(Y/G),shape:"rounded",page:ge,onChange:(Ve,Je)=>Ft(Ve,Je)})})]})})]}):null,!M&&t("div",{className:Ne.noAssetsMessage,children:[" ",Gt.noAssetsMessage]}),t("div",{className:Ne.saveButtonContainer,children:[e(At,{style:{marginRight:"30px",minWidth:"160px"},onClick:()=>{ht||f?S(!0):l()},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.save})]})]})})}}),b&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>S(!1),handleAgree:()=>l(),show:!0}),vt===!0&&e(ft,{}),oe.showAlert&&e(Ht,{severity:oe.severity,handler:()=>{T(O=>ue(Z({},O),{showAlert:!1}))},showalert:oe.showAlert,message:oe.message})]})},Yc="_previewContainer_1t9u7_1",Kc="_imageAndContentContainer_1t9u7_13",Xc="_image_1t9u7_13",Qc="_contentContainer_1t9u7_41",ed="_title_1t9u7_55",td="_description_1t9u7_79",ad="_imageAndAssetsMainContainer_1t9u7_105",nd="_imageAndAssetsContentContainer_1t9u7_125",sd="_pfdImage_1t9u7_141",od="_pdfTitle_1t9u7_149";var Pa={previewContainer:Yc,imageAndContentContainer:Kc,image:Xc,contentContainer:Qc,title:ed,description:td,imageAndAssetsMainContainer:ad,imageAndAssetsContentContainer:nd,pfdImage:sd,pdfTitle:od},ci="/assets/drag_icon.fd1c4fc1.svg";const id=a=>{const{formValues:n,assetCollectionId:o,selectedAssetCollectativeObj:l,reArrangedAssetIds:m}=a,i=rt(),[d,u]=s.exports.useState();s.exports.useState([]);const r=st(Ss);s.exports.useEffect(()=>{o?n&&(n.thumbnailImageFile?u(URL.createObjectURL(n.thumbnailImageFile)):u(n.thumbnailImage)):n&&n.thumbnailImageFile&&n.thumbnailImageFile!==""&&u(URL.createObjectURL(n.thumbnailImageFile))},[n]);const c=y=>{let _="";switch(console.log(y,"file_type"),y){case"pdf":case"Pdf":_=ws;break;case"ppt":case"pptx":case"Powerpoint":_=Qs;break;case"Video":case"mp4":case"mkv":case"MP4":case"webm":case"MOV":case"mov":case"avi":_=As;break;case"PNG":case"png":case"jpg":case"gif":case"Image":case"jpeg":case"webp":case"jfif":case"svg":_=xs;break;case"Word":case"word":case"docx":case"doc":_=eo;break;case"Excel":case"xlsx":case"xls":case"csv":_=to;break;default:_=Is}return _},p=(y,_,b)=>{let S;S=Array.from(y);const[f]=S.splice(_,1);return S.splice(b,0,f),S},h=y=>{if(!y.destination)return;let _=p(r.selectedAssets,y.source.index,y.destination.index);const b=_.map(S=>S.asset_id);i(Ln({selectedAssets:_})),i($n({selectedAssetsIds:b}))};return t("div",{className:Pa.previewContainer,children:[t("div",{className:Pa.imageAndContentContainer,children:[e("div",{className:Pa.imageContainer,children:d&&e("img",{src:d,className:Pa.image,alt:""})}),t("div",{className:Pa.contentContainer,children:[e("div",{className:Pa.title,children:n?n.name:""}),e("div",{className:Pa.description,children:n?n.description:""})]})]}),e(Fo,{onDragEnd:h,children:e(Eo,{droppableId:"droppable",direction:"vertical",children:y=>t("div",ue(Z({ref:y.innerRef},y.droppableProps),{children:[r.selectedAssets.length>0?r.selectedAssets.map((_,b)=>e(Do,{draggableId:_.asset_id.toString(),index:b,children:(S,f)=>e("div",ue(Z({ref:S.innerRef},S.draggableProps),{style:Z({},S.draggableProps.style),id:_.asset_id,className:Pa.imageAndAssetsMainContainer,children:t("div",{className:Pa.imageAndAssetsContentContainer,children:[e("div",ue(Z({},S.dragHandleProps),{children:e("img",{src:ci,alt:""})})),e("img",{className:Pa.pfdImage,src:c(_.file.split(".").pop()),alt:"img"}),e("div",{className:Pa.pdfTitle,children:_.asset_name})]})}))},_.asset_id)):null,y.placeholder]}))})})]})},rd="_solution_narrative_card_main_div_4s016_1",ld="_solution_narrative_card_img_div_4s016_27",cd="_solution_narrative_card_img_4s016_27",dd="_solution_narrative_card_main_contents_div_4s016_51",md="_solution_narrative_card_title_div_4s016_71",ud="_solution_narrative_card_content_div_4s016_95",pd="_solution_narrative_card_link_4s016_123";var Vn={solution_narrative_card_main_div:rd,solution_narrative_card_img_div:ld,solution_narrative_card_img:cd,solution_narrative_card_main_contents_div:dd,solution_narrative_card_title_div:md,solution_narrative_card_content_div:ud,solution_narrative_card_link:pd};function di(a){var n,o;return t("div",{className:Vn.solution_narrative_card_main_div,children:[e("div",{className:Vn.solution_narrative_card_img_div,children:e("img",{className:Vn.solution_narrative_card_img,src:(a==null?void 0:a.img)?`${a==null?void 0:a.img}?t=${new Date().getTime()}`:a==null?void 0:a.img,alt:"img"})}),t("div",{className:Vn.solution_narrative_card_main_contents_div,children:[t("div",{className:Vn.solution_narrative_card_title_div,children:[a.title.slice(0,25),((n=a.title)==null?void 0:n.length)>25?"...":""]}),t("div",{className:Vn.solution_narrative_card_content_div,children:[a.content.slice(0,150),((o=a.content)==null?void 0:o.length)>150?"...":""]})]})]})}const hd=()=>{const a=rt(),[n,o]=s.exports.useState([]),[l,m]=s.exports.useState(!1),[i,d]=s.exports.useState(!1),[u,r]=s.exports.useState(),[c,p]=s.exports.useState([]),[h,y]=s.exports.useState({}),[_,b]=s.exports.useState(""),[S,f]=s.exports.useState(),[A,I]=s.exports.useState([]),[N,W]=s.exports.useState(0),[D,$]=s.exports.useState(9),[P,E]=s.exports.useState(0);s.exports.useState(!1);const[M,U]=s.exports.useState(!1),[L,k]=s.exports.useState(!1),[g,w]=s.exports.useState({showAlert:!1,severity:"",message:""}),[x,V]=s.exports.useState([]),[G,ie]=s.exports.useState([]),[Y,re]=s.exports.useState([]),[ye,H]=s.exports.useState(1),pe=new URLSearchParams(window.location.search),v=pe.get("partner_id")||"0",R=pe.get("assetCollectionModal")||"false",K=gt(),[de,ve]=s.exports.useState(!1),[ke,Oe]=s.exports.useState(!1),Ae=ce=>{o([]),b(v);const oe=localStorage.getItem("token");W(ce),fe(`partnership/solution-narrative/?partnership_id=${v}&offset=${ce}&limit=${D}`,{Authorization:`Token ${oe}`}).then(T=>{T.result===!0&&(o(T.data),T.count&&E(T.count))})},qe=(ce,oe)=>{H(oe),W((oe-1)*D),Ae((oe-1)*D)};s.exports.useEffect(()=>{Ae(0),R==="true"&&m(!0)},[]);const _e=ce=>{y(ce)},We=ce=>{r(ce)},Te=ce=>{f(ce.solution_narrative_id.toString()),m(!0)},Qe=()=>{U(!0),a(zc(_,c,()=>U(!1),ce=>w(oe=>ue(Z({},oe),{showAlert:!0,message:Ja.deleteAssetCollectMsg,severity:ce})),()=>Ae(0),()=>k(!1))),W(0),p([])},vt=()=>{c.length>0?k(!0):(m(!0),f(null),p([]),_e({}),r({description:"",name:"",tags:[""],thumbnailImage:""}),re([]),V([]))},se=()=>{p([]),k(!1)},ge=(ce,oe)=>{const T=c.indexOf(oe);let ee=[];T===-1?ee=ee.concat(c,oe):T===0?ee=ee.concat(c.slice(1)):T===c.length-1?ee=ee.concat(c.slice(0,-1)):T>0&&(ee=ee.concat(c.slice(0,T),c.slice(T+1))),p(ee)};return t("div",{className:Ne.assetCollectionMainContainer,children:[t("div",{className:Ne.assetCollectionContainer,children:[t("div",{className:Ne.assetCollectionTitleContainer,children:[e("div",{className:Ne.assetCollectionTitle,children:Gt.title}),e("div",{children:t(Ke,{style:{minWidth:"200px"},onClick:()=>{vt()},children:[c.length>0?"":e("img",{className:Ne.createIconButtonImage,src:Ks,alt:""}),c.length>0?Gt.deleteTitle:Gt.createButton]})})]}),e("div",{className:Ne.assetCollectionCard,children:n.length>0&&n.map(ce=>t("div",{className:Ne.assetCollectionEachCard,children:[e(Po,{onChange:oe=>{ge(oe.target.checked,ce.solution_narrative_id)},checked:c.includes(ce.solution_narrative_id),className:c.includes(ce.solution_narrative_id)?Ne.assetCollectionEachCardCheckboxClicked:Ne.assetCollectionEachCardCheckbox}),e("div",{onClickCapture:()=>{Te(ce)},children:e(di,{img:`${ce.image}?time=${new Date().getTime()}`,title:ce.name,content:ce.description})})]}))}),e("div",{className:Ne.assetCollectionPaginationContainer,children:P>D&&e("div",{className:Ne.assetCollectionPaginationContainer,children:e(Ma,{spacing:2,children:e(La,{count:Math.ceil(P/D),shape:"rounded",page:ye,onChange:qe})})})}),l&&e(ll,{title:S?Gt.updateTitle:Gt.formTitle,previewTitle:Gt.previewTitle,closeHandler:()=>{ke||de?d(!0):(m(!1),d(!1),ve(!1),Oe(!1),V([]),ie([]),re([]),a(Ln({selectedAssets:[]})),a($n({selectedAssetsIds:[]})),K.push(`/assetCollection?partner_id=${v}`))},renderLeftElement:e(id,{reArrangedAssetIds:ce=>{I(ce)},assetCollectionId:S,assetInfo:h,formValues:u,selectedAssetCollectativeObj:Y}),renderRightElement:e(Zc,{selectedAssetIdsFromPreview:A,assetCollectionId:S,sendAssetData:_e,showAlert:ce=>w(oe=>ue(Z({},oe),{showAlert:!0,message:S==null||S===""?"Asset collection created successfully":"Asset collection updated successfully",severity:"success"})),sendFormValues:We,fetchAssetCollectionData:Ae,cancelHandler:()=>{m(!1),d(!1),ve(!1),Oe(!1),V([]),a(Ln({selectedAssets:[]})),a($n({selectedAssetsIds:[]})),re([]),ie([]),K.push(`/assetCollection?partner_id=${v}`)},selectedAssetCollectId:x,setSelectedAssetCollectId:V,initialSelectedAssetCollectId:G,setInitialSelectedAssetCollectId:ie,refreshAssetCollectionInformation:()=>{Ae(0),H(1)},showCloseWarning:i,setShowCloseWarning:d,isFormEdited:de,setIsFormEdited:ve,setIsDirty:Oe})}),console.log(S,"assetColl"),e(Bt,{title:"",primaryContent:Ja.deleteDialogAssetCollectPrimaryContent,secondaryContent:Ja.deleteDialogAssetCollectSecondaryContent,secondaryButton:Ja.deleteDialogSecondaryButton,primaryButton:Ja.deleteDialogPrimaryButton,show:L,handleDialogBoxClose:()=>se(),handleAgree:()=>Qe()})]}),M===!0&&e(ft,{}),g.showAlert&&e(Ht,{severity:g.severity,handler:()=>{w(ce=>ue(Z({},ce),{showAlert:!1}))},showalert:g.showAlert,message:g.message})]})},_d="_main_omqxg_39",gd="_headerDiv_omqxg_45",fd="_backButton_omqxg_59",yd="_headBg_omqxg_93",vd="_bannerTxtWrap_omqxg_127",bd="_accEngagementWrap_omqxg_161",Cd="_engagementEditMode_omqxg_171",Sd="_backWrap_omqxg_179",wd="_accHead_omqxg_201",xd="_centerContentWrap_omqxg_215",Ad="_recommendHeadTxt_omqxg_221",Id="_salesHubTable_omqxg_237",Td="_cardWrap_omqxg_243",Nd="_fieldDisabled_omqxg_257",kd="_bannerCard_omqxg_271",Md="_cardContainer_omqxg_307",Ld="_loadLink_omqxg_329",$d="_noAssetCollectionMsg_omqxg_345",Fd="_table_headers_omqxg_371",Ed="_table_header_omqxg_371",Dd="_table_columns_omqxg_401",Pd="_table_row_omqxg_411",Hd="_assetCollectTableWrap_omqxg_429",Bd="_salesAccTable_omqxg_441",Od="_customBox_omqxg_491",Wd="_paginationWrap_omqxg_499",Rd="_salesHubAccDropDownButton_omqxg_513",qd="_filterWrap_omqxg_541",zd="_centerDropDown_omqxg_551",Ud="_searchbar_omqxg_557",jd="_inputWrap_omqxg_587",Vd="_searchIcon_omqxg_595",Gd="_dropDownFilter_omqxg_609",Jd="_dropdownBtn_omqxg_631",Zd="_arrowIcon_omqxg_679",Yd="_arrowIconActive_omqxg_693",Kd="_dropdown_omqxg_631",Xd="_menuWrap_omqxg_705",Qd="_dropdownMenu_omqxg_737",em="_chooseText_omqxg_743",tm="_noResults_omqxg_751",am="_backArrowBtn_omqxg_763",nm="_searchBtn_omqxg_771",sm="_searchBtnWrap_omqxg_799";var sn={main:_d,headerDiv:gd,backButton:fd,headBg:yd,bannerTxtWrap:vd,accEngagementWrap:bd,engagementEditMode:Cd,backWrap:Sd,accHead:wd,centerContentWrap:xd,recommendHeadTxt:Ad,salesHubTable:Id,cardWrap:Td,fieldDisabled:Nd,bannerCard:kd,cardContainer:Md,loadLink:Ld,noAssetCollectionMsg:$d,table_headers:Fd,table_header:Ed,table_columns:Dd,table_row:Pd,assetCollectTableWrap:Hd,salesAccTable:Bd,customBox:Od,paginationWrap:Wd,salesHubAccDropDownButton:Rd,filterWrap:qd,centerDropDown:zd,searchbar:Ud,inputWrap:jd,searchIcon:Vd,dropDownFilter:Gd,dropdownBtn:Jd,arrowIcon:Zd,arrowIconActive:Yd,dropdown:Kd,menuWrap:Xd,dropdownMenu:Qd,chooseText:em,noResults:tm,backArrowBtn:am,searchBtn:nm,searchBtnWrap:sm};const om="_headerWrap_1suhl_1",im="_logoImg_1suhl_13";var ao={headerWrap:om,logoImg:im};const mi=({companyLogo:a,partnerLogo:n})=>t("div",{className:ao.headerWrap,children:[e("div",{className:ao.logoImg,children:e("img",{src:a,alt:""})}),e("div",{className:ao.logoImg,children:e("img",{src:n,alt:""})})]}),rm="_footWrap_meh2l_21",lm="_addressTxt_meh2l_35",cm="_linksWrap_meh2l_61",dm="_disabledLinksWrap_meh2l_71",mm="_link_meh2l_61";var Fn={footWrap:rm,addressTxt:lm,linksWrap:cm,disabledLinksWrap:dm,link:mm};const ui=({address:a,darkMode:n,isPreview:o})=>t("div",{className:Fn.footWrap,"data-theme":o?"":n?"dark":"light",children:[t("div",{className:Fn.addressTxt,children:[e("div",{children:a.company_name}),e("div",{children:a.company_address}),e("div",{children:`${a.city}, ${a.state}, ${a.zipcode}`}),e("div",{children:a.country})]}),e("div",{children:t("div",{className:`${o?Fn.disabledLinksWrap:Fn.linksWrap}`,children:[e("a",{className:Fn.link,target:"_blank",rel:"noreferrer",href:a.cookie_policy.includes("https://")||a.cookie_policy.includes("http://")?a.cookie_policy:`https://${a.cookie_policy}`,children:Ys.cookiePolicyUrl}),e("a",{className:Fn.link,target:"_blank",rel:"noreferrer",href:a.site_terms_url.includes("https://")||a.site_terms_url.includes("http://")?a.site_terms_url:`https://${a.site_terms_url}`,children:Ys.siteUrl}),e("a",{className:Fn.link,rel:"noreferrer",target:"_blank",href:a.privacy_policy_url.includes("https://")||a.privacy_policy_url.includes("http://")?a.privacy_policy_url:`https://${a.privacy_policy_url}`,children:Ys.privacyPolicyUrl})]})})]}),um=()=>{const[a,n]=s.exports.useState(""),[o,l]=s.exports.useState(""),[m,i]=s.exports.useState(!1),[d,u]=s.exports.useState(!1),[r,c]=s.exports.useState();s.exports.useState("");const[p,h]=s.exports.useState(!1);s.exports.useState("");const[y,_]=s.exports.useState(!1);s.exports.useState(""),s.exports.useState([]),s.exports.useState([]),gt(),new URLSearchParams(window.location.search).get("partner_id"),rt();const S=s.exports.useRef(),f=s.exports.useRef(),A=N=>{S.current&&!S.current.contains(N.target)&&h(!1),f.current&&!f.current.contains(N.target)&&_(!1)};s.exports.useEffect(()=>(document.addEventListener("mousedown",A),console.log("window",document.referrer),()=>document.removeEventListener("mousedown",A)),[]);const I=()=>{const N=localStorage.getItem("token"),W=localStorage.getItem("subDomainName"),D={Authorization:`Token ${N}`};i(!0),W&&fe(`partnership/sales-hub/site/?subdomain=${W}`,D).then($=>{if($){const P=$.data;c({headerText:P.sales_hub.header_text,subHeaderText:P.sales_hub.sub_header_text,headerImage:P.sales_hub.header_image,solutinNarrative:P.solution_narratives,companyLogo:P.company_information.logo,partnerLogo:P.partner_company_information.logo,address:P.company_information}),n(P.sales_hub.font_family.name),l(P.sales_hub.font_color.name)}i(!1)}).finally(()=>i(!1))};return s.exports.useEffect(()=>{I()},[]),e("div",{style:{fontFamily:a},className:sn.main,"data-theme":d?"dark":"light",children:t("div",{children:[r&&t(xe,{children:[e("div",{className:sn.headerDiv,children:e(mi,{companyLogo:r==null?void 0:r.companyLogo,partnerLogo:r==null?void 0:r.partnerLogo})}),t("div",{className:sn.headBg,children:[e("img",{src:(r==null?void 0:r.headerImage)?`${r==null?void 0:r.headerImage}?time=${Date.now()}`:r==null?void 0:r.headerImage,alt:""}),t("div",{className:sn.bannerTxtWrap,"data-theme":o==="Dark"?"dark-text":"light-text",children:[e("h1",{children:r==null?void 0:r.headerText}),e("p",{children:r==null?void 0:r.subHeaderText})]})]}),e("div",{className:sn.recommendHeadTxt,children:Nn.cardTile}),e("div",{className:sn.cardWrap,children:r&&r.solutinNarrative.length>0?r.solutinNarrative.map(N=>t("div",{className:sn.bannerCard,children:[e("img",{src:(N==null?void 0:N.image)?`${N==null?void 0:N.image}?time=${Date.now()}`:N==null?void 0:N.image,alt:""}),t("div",{className:sn.cardContainer,children:[e("h4",{children:N.name}),e("p",{children:N.description})]})]})):e("div",{className:sn.noAssetCollectionMsg,children:Nn.noAssetCollection})})]}),r&&e(ui,{address:r==null?void 0:r.address,darkMode:d,isPreview:!0}),m===!0&&e(ft,{})]})})},$t=a=>{const i=a,{layout:n,component:o,session:l}=i,m=cn(i,["layout","component","session"]);return e(Ho,ue(Z({},m),{render:d=>e(n,{children:e(o,Z({},d))})}))},pm="_sideGrayBackground_1j0io_25",hm="_sideBarLayoutLeft_1j0io_53",_m="_sideBarLayoutRight_1j0io_77",gm="_sideBarHeaderLeft_1j0io_103",fm="_sideBarHeaderRight_1j0io_119",ym="_BG_1j0io_133",vm="_closeIcon_1j0io_141",bm="_sideHeadTextLeft_1j0io_153",Cm="_sideHeadTextRight_1j0io_163",Sm="_sideBarContent_1j0io_179";var on={sideGrayBackground:pm,sideBarLayoutLeft:hm,sideBarLayoutRight:_m,sideBarHeaderLeft:gm,sideBarHeaderRight:fm,BG:ym,closeIcon:vm,sideHeadTextLeft:bm,sideHeadTextRight:Cm,sideBarContent:Sm};const Ha=a=>{const{renderElement:n,closeHandler:o,title:l}=a;return s.exports.useEffect(()=>{document.body.style.overflow="hidden"},[]),s.exports.useEffect(()=>()=>{setTimeout(()=>{document.body.removeAttribute("style")},1)},[]),e("div",{className:on.sideGrayBackground,children:t("div",{className:on.sideBarLayoutRight,children:[t("div",{className:l==="My Account"?`${on.sideBarHeaderRight} ${on.BG}`:on.sideBarHeaderRight,children:[e("p",{className:on.sideHeadTextRight,children:l}),e("div",{className:on.closeWrap,children:e("img",{className:on.closeIcon,onClickCapture:o,src:Gs,alt:"close"})})]}),e("div",{className:on.sideBarContent,children:n})]})})},wm="_title_rtxsz_1",xm="_contentTitle_rtxsz_13",Am="_icon_rtxsz_21",Im="_list_rtxsz_31",Tm="_dropdown_rtxsz_45",Nm="_arrowIcon_rtxsz_55",km="_arrowIconActive_rtxsz_73",Mm="_dropdownMenu_rtxsz_81",Lm="_dropdownMenuActive_rtxsz_111",$m="_dropdownMenuActiveContainer_rtxsz_139",Fm="_dropdownBtn_rtxsz_171",Em="_dropdownBtnLabel_rtxsz_193",Dm="_dropdownBtnLabelSelected_rtxsz_207",Pm="_clicked_rtxsz_223",Hm="_modal_rtxsz_295",Bm="_modalActive_rtxsz_339",Om="_modalcontent_rtxsz_383",Wm="_modalcontenttitle_rtxsz_403",Rm="_modalSecContenttitle_rtxsz_417",qm="_btnPrimary_rtxsz_435",zm="_btnOutlined_rtxsz_437",Um="_addBtn_rtxsz_485";var Jt={title:wm,contentTitle:xm,icon:Am,list:Im,dropdown:Tm,arrowIcon:Nm,arrowIconActive:km,dropdownMenu:Mm,dropdownMenuActive:Lm,dropdownMenuActiveContainer:$m,dropdownBtn:Fm,dropdownBtnLabel:Em,dropdownBtnLabelSelected:Dm,clicked:Pm,modal:Hm,modalActive:Bm,modalcontent:Om,modalcontenttitle:Wm,modalSecContenttitle:Rm,btnPrimary:qm,btnOutlined:zm,addBtn:Um};const jm=({partnerships:a,editPartnership:n})=>(gt(),t("div",{className:Jt.dropdownMenuActiveContainer,children:[a.map((o,l)=>e("table",{children:e("tr",{children:e("td",{style:{width:"70%",textAlign:"left",paddingLeft:"10px"},onClickCapture:()=>n(o.partnership_id),children:o.partnership_name})})},`${l+1}${o.partnership_name}`)),e(bt,{className:Jt.addBtn,href:"/createPartnership",children:un.addPartnershipButton})]}));var no="/assets/accountEngagements.7ffcf370.svg",Vm="/assets/accountEngagementsActive.24d36d85.svg",so="/assets/salesMotions.4dfaf7dc.svg",Gm="/assets/salesMotionActive.32cb61c5.svg",oo="/assets/Content.0375c87e.svg",io="/assets/Sales_enablement.abe93663.svg",ro="/assets/Setup.0dd74790.svg",Jm="/assets/DownArrow.c18a111e.svg",Zm="/assets/setup_done.754e62b8.svg",lo="/assets/settings_icon.cdd40417.svg",Ym="/assets/settings_active_icon.04c64721.svg";let ia=localStorage.getItem("token");const Km={partnershipId:"",companyInformationId:"",partnerCompanyInformationId:"",errorMsg:"",validationErrField:"",timeStamp:Date.now(),refreshTimeStamp:Date.now(),refreshAccDetailTimeStamp:Date.now(),partnerCompanyName:""},pi=en({name:"createPartnership",initialState:Km,reducers:{setPartnershipID(a,{payload:n}){a.partnershipId=n.id},setCompanyInfoID(a,{payload:n}){a.companyInformationId=n.companyInfoId},setPartnerCompanyInfoID(a,{payload:n}){a.partnerCompanyInformationId=n.partnerCompanyInformationId},setPartnerCompanyName(a,{payload:n}){a.partnerCompanyName=n.partnerCompanyName},setErrMsg(a,{payload:n}){a.errorMsg=n.errorMsg,a.validationErrField=n.validationErrField,a.timeStamp=n.timeStamp},setPreviewRefresh(a,{payload:n}){a.refreshTimeStamp=n.refreshTimeStamp},setAccountDetailRefresh(a,{payload:n}){a.refreshAccDetailTimeStamp=n.refreshAccDetailTimeStamp}}}),{setPartnershipID:co,setCompanyInfoID:mo,setPartnerCompanyInfoID:uo,setErrMsg:na,setPreviewRefresh:Xm,setPartnerCompanyName:Qm,setAccountDetailRefresh:hi}=pi.actions,eu=(a,n,o,l,m,i,d)=>u=>{ia=localStorage.getItem("token"),o?Cs("partnership/",{partnership_id:l,partnership_name:a.partnershipName,content_hub_subdomain_name:a.websiteSubDomain,whitelisted_domains:a.whitelistedDomains},{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${ia}`}).then(r=>{r.result===!0?(u(co({id:r.data.partnership_id})),u(na({errorMsg:"",validationErrField:"",timeStamp:0})),n.push(m?`/createPartnership?form=CompanyInfo&partner_id=${l}&type=update`:`/createPartnership?form=CompanyInfo&partner_id=${l}`)):(u(na({errorMsg:r.data.msg,validationErrField:r.data.validation_error_field,timeStamp:Date.now()})),d()),d()}):xt("partnership/",{partnership_name:a.partnershipName,content_hub_subdomain_name:a.websiteSubDomain,whitelisted_domains:a.whitelistedDomains},{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${ia}`}).then(r=>{r.result===!0?(u(co({id:r.data.partnership_id})),u(na({errorMsg:"",validationErrField:"",timeStamp:0})),n.push(m?`/createPartnership?form=CompanyInfo&partner_id=${r.data.partnership_id}&type=update`:`/createPartnership?form=CompanyInfo&partner_id=${r.data.partnership_id}`)):u(na({errorMsg:r.data.msg,validationErrField:r.data.validation_error_field,timeStamp:Date.now()})),d()})},tu=(a,n,o,l,m,i,d,u)=>r=>{const c=new FormData;c.append("partnership_id",l),c.append("company_name",a.companyName),c.append("company_address",a.companyAddress),c.append("city",a.city),c.append("country",a.country),c.append("privacy_policy_url",a.privacyPolicyURL),c.append("site_terms_url",a.siteTermsURL),c.append("cookie_policy",a.cookiePolicy),c.append("state",a.state),c.append("zipcode",a.zipCode),c.append("logo",d),ia=localStorage.getItem("token"),o?(c.append("company_information_id",m),ta("partnership/company-information/",c,{Accept:"application/json",Authorization:`Token ${ia}`}).then(p=>{p.result===!0&&(r(mo({companyInfoId:p.data.company_information.company_information_id})),r(na({errorMsg:"",validationErrField:"",timeStamp:0})),n.push(i?`/createPartnership?form=CompanyPartnerInfo&partner_id=${l}&type=update`:`/createPartnership?form=CompanyPartnerInfo&partner_id=${l}`)),u()})):Ca("partnership/company-information/",c,{Accept:"application/json",Authorization:`Token ${ia}`}).then(p=>{p.result===!0&&(r(mo({companyInfoId:p.data.company_information.company_information_id})),r(na({errorMsg:"",validationErrField:"",timeStamp:0})),n.push(i?`/createPartnership?form=CompanyPartnerInfo&partner_id=${l}&type=update`:`/createPartnership?form=CompanyPartnerInfo&partner_id=${l}`)),u()})},au=(a,n,o,l,m,i,d)=>u=>{const r=new FormData;r.append("partnership_id",l),r.append("company_name",a.partnerCompanyName),r.append("privacy_policy_url",a.partnerCompanyPrivacyPolicyURL),r.append("site_terms_url",a.partnerCompanySiteTermsURL),r.append("cookie_policy",a.partnerCompanyCookiePolicy),r.append("logo",i),ia=localStorage.getItem("token"),o?(r.append("partner_company_information_id",m),ta("partnership/partner-company-information/",r,{Accept:"application/json",Authorization:`Token ${ia}`}).then(c=>{c.result===!0?(u(uo({partnerCompanyInformationId:c.data.partner_company_information.partner_company_information_id})),u(na({errorMsg:"",validationErrField:"",timeStamp:0})),n.push(`/createPartnership?form=CoordinatorPartnerInfo&partner_id=${l}`)):u(na({errorMsg:c.data.msg,validationErrField:c.data.validation_error_field,timeStamp:Date.now()})),d()})):Ca("partnership/partner-company-information/",r,{Accept:"application/json",Authorization:`Token ${ia}`}).then(c=>{c.result===!0?(n.push(`/previewPartnership?partner_id=${l}&isCreated=1`),u(uo({partnerCompanyInformationId:c.data.partner_company_information.partner_company_information_id})),u(na({errorMsg:"",validationErrField:"",timeStamp:0})),n.push(`/previewPartnership?partner_id=${l}&isCreated=1`)):u(na({errorMsg:c.data.msg,validationErrField:c.data.validation_error_field,timeStamp:Date.now()})),d()})},nu=(a,n,o,l,m,i,d,u,r,c)=>p=>{ia=localStorage.getItem("token");const h=S=>o?ta("partnership/company-information/",S,{Accept:"application/json",Authorization:`Token ${ia}`}):Ca("partnership/company-information/",S,{Accept:"application/json",Authorization:`Token ${ia}`}),y=S=>l?ta("partnership/partner-company-information/",S,{Accept:"application/json",Authorization:`Token ${ia}`}):Ca("partnership/partner-company-information/",S,{Accept:"application/json",Authorization:`Token ${ia}`}),_=new FormData,b=new FormData;_.append("partnership_id",n),_.append("company_name",a.companyName),_.append("company_address",a.companyAddress),_.append("city",a.city),_.append("country",a.country),_.append("privacy_policy_url",a.privacyPolicyURL),_.append("site_terms_url",a.siteTermsURL),_.append("cookie_policy",a.cookiePolicy),_.append("state",a.state),_.append("zipcode",a.zipCode),_.append("logo",m||a.companyLogo),o&&(_.append("company_information_id",o),_.append("partner_company_name",a.partnerCompanyName)),b.append("partnership_id",n),b.append("company_name",a.partnerCompanyName),b.append("privacy_policy_url",a.partnerCompanyPrivacyPolicyURL),b.append("site_terms_url",a.partnerCompanySiteTermsURL),b.append("cookie_policy",a.partnerCompanyCookiePolicy),b.append("logo",i||a.partnerCompanyLogo),l&&b.append("partner_company_information_id",l),Cs("partnership/",{partnership_id:n,partnership_name:a.partnershipName,content_hub_subdomain_name:a.websiteSubDomain,whitelisted_domains:a.whitelistedDomain},{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${ia}`}).then(S=>{S.result===!0?(p(co({id:S.data.partnership_id})),h(_).then(f=>{f.result===!0?(p(mo({companyInfoId:f.data.company_information.company_information_id})),p(na({errorMsg:"",validationErrField:"",timeStamp:0})),y(b).then(A=>{A.result===!0?(p(uo({partnerCompanyInformationId:A.data.partner_company_information.partner_company_information_id})),p(na({errorMsg:"",validationErrField:"",timeStamp:0})),u()):r(A.data.msg)}).finally(()=>{p(Xm({refreshTimeStamp:Date.now()})),p(na({errorMsg:"",validationErrField:"",timeStamp:0})),d()})):(d(),r(f.data.msg))})):(d(),p(na({errorMsg:S.data.msg,validationErrField:S.data.validation_error_field,timeStamp:Date.now()})),c(!0))})},En=a=>a.createPartnershipSlice;var su=pi.reducer;const ou={errorMsg:"",flag:"",refreshTimeStamp:Date.now()},_i=en({name:"uploadAsset",initialState:ou,reducers:{setErrMsg(a,{payload:n}){a.errorMsg=n.errorMsg,a.flag=n.flag,a.refreshTimeStamp=n.refreshTimeStamp}}}),{setErrMsg:Gn}=_i.actions,iu=(a,n,o,l,m,i)=>d=>{const u=localStorage.getItem("token"),r=new FormData;r.append("asset_name",a.assetName),r.append("access_type",a.assetType.toString()),r.append("file",a.assetFile),r.append("partnership_id",o.toString()),r.append("tags",JSON.stringify(a.tags)),n?(r.append("asset_id",n),r.append("status_id",a.status),ta("partnership/asset/",r,{Accept:"application/json",Authorization:`Token ${u}`}).then(c=>{c.result===!0?(l(),i(),console.log(c.msg,c.result,"inside success update"),d(Gn({errorMsg:c.msg,flag:c.result.toString(),refreshTimeStamp:Date.now()})),m("success",c.msg)):(i(),console.log(c.data.msg,c.result,"inside fail update"),d(Gn({errorMsg:c.data.msg,flag:c.result.toString(),refreshTimeStamp:Date.now()})),l(),m("error",c.data.msg))})):Ca("partnership/asset/",r,{Accept:"application/json",Authorization:`Token ${u}`}).then(c=>{c.result===!0?(l(),i(),d(Gn({errorMsg:c.msg,flag:c.result.toString(),refreshTimeStamp:Date.now()})),m("success",c.msg)):(i(),d(Gn({errorMsg:c.data.msg,flag:c.result.toString(),refreshTimeStamp:Date.now()})),l(),m("error",c.data.msg))})},ru=(a,n,o,l,m,i,d,u)=>r=>{const c=localStorage.getItem("token");mn("partnership/asset",{Authorization:`Token ${c}`},{partnership_id:a,asset_ids:n}).then(p=>{p.result===!0?(n.map(h=>{const y=o.indexOf(h);return y>-1&&o.splice(y,1),""}),l(o),m(),i(),r(Gn({errorMsg:p.msg,flag:p.result.toString(),refreshTimeStamp:Date.now()})),d("success",p.msg),u()):(i(),r(Gn({errorMsg:p.data.msg,flag:p.result.toString(),refreshTimeStamp:Date.now()})),d("error",p.data.msg))})},gi=a=>a.uploadAssetSlice;var lu=_i.reducer;const cu={errorMsg:"",assetCollectionInfo:[],selectedSalesHubId:"",salesHubInfo:[],refreshTimeStamp:Date.now()},fi=en({name:"salesHub",initialState:cu,reducers:{setErrMsg(a,{payload:n}){a.errorMsg=n.errorMsg},setSalesHubAssetCollectionInfo(a,{payload:n}){a.assetCollectionInfo=n.assetCollectionInfo},setSalesHubId(a,{payload:n}){a.selectedSalesHubId=n.selectedSalesHubId},setSalesHubInfo(a,{payload:n}){a.salesHubInfo=n.salesHubInfo},setRefreshTimeStamp(a,{payload:n}){a.refreshTimeStamp=n.refreshTimeStamp}}}),{setErrMsg:yi,setSalesHubAssetCollectionInfo:Xw,setSalesHubInfo:du,setSalesHubId:Qw,setRefreshTimeStamp:vi}=fi.actions,mu=(a,n,o,l,m,i,d,u)=>r=>{const c=localStorage.getItem("token"),p=new FormData;p.append("header_text",a.headerText),p.append("sub_header_text",a.subHeaderText),p.append("header_image",a.headerImg),p.append("font_color_id",a.fontColor),p.append("font_family_id",a.fontFamily),p.append("partnership_id",n),p.append("solution_narrative_ids",JSON.stringify(a.assetCollectionId)),o?(p.append("sales_hub_id",o),ta("partnership/sales-hub/",p,{Accept:"application/json",Authorization:`Token ${c}`}).then(h=>{h.result===!0?(vi({refreshTimeStamp:Date.now()}),l(),i(h.msg),d(),u(!0)):(r(yi({errorMsg:h.data.msg})),l())})):Ca("partnership/sales-hub/",p,{Accept:"application/json",Authorization:`Token ${c}`}).then(h=>{h.result===!0?(vi({refreshTimeStamp:Date.now()}),l(),m.push(`/salesHub?partner_id=${n}&sales_hub_id=${h.data.sales_hub_id}`),i(h.msg),d(),u(!0)):(r(yi({errorMsg:h.data.msg})),l())})},po=a=>a.salesHubSlice;var uu=fi.reducer;const pu={generalErrMsg:"",generalValidationField:"",siteLayoutErrMsg:"",siteLayoutValidationField:"",callOutOneErrMsg:"",callOutOneValidationField:"",callOutTwoErrMsg:"",callOutTwoValidationField:"",ctaErrMsg:"",ctaValidationField:"",refreshTimeStamp:Date.now()},bi=en({name:"salesMotion",initialState:pu,reducers:{setGeneralErrMsg(a,{payload:n}){a.generalErrMsg=n.generalErrMsg,a.generalValidationField=n.generalValidationField,console.log(n,"payload")},setSiteLayoutErrMsg(a,{payload:n}){a.siteLayoutErrMsg=n.siteLayoutErrMsg,a.siteLayoutValidationField=n.siteLayoutValidationField},setCallOutOneErrMsg(a,{payload:n}){a.callOutOneErrMsg=n.callOutOneErrMsg,a.callOutOneValidationField=n.callOutOneValidationField},setCallOutTwoErrMsg(a,{payload:n}){a.callOutTwoErrMsg=n.callOutTwoErrMsg,a.callOutTwoValidationField=n.callOutTwoValidationField},setCtaErrMsg(a,{payload:n}){a.ctaErrMsg=n.ctaErrMsg,a.ctaValidationField=n.ctaValidationField},setRefreshTimeStamp(a,{payload:n}){a.refreshTimeStamp=n.refreshTimeStamp}}}),{setGeneralErrMsg:Dn,setSiteLayoutErrMsg:ho,setCallOutOneErrMsg:Ci,setCallOutTwoErrMsg:Si,setCtaErrMsg:Ts,setRefreshTimeStamp:hu}=bi.actions,_u=(a,n,o,l,m,i,d,u,r,c)=>p=>{const h=localStorage.getItem("token");xt("partnership/sales-motion/",{partnership_id:d,name:a.name,description:a.description,target_buyer_titles:JSON.stringify(a.targetBuyerTitles)},{Authorization:`Token ${h}`}).then(y=>{if(y.result===!0){const _=y.data&&y.data.sales_motion_id;p(Dn({generalErrMsg:"",generalValidationField:""})),y.data.site_layout===null&&n(a,_),m(_)}else p(Dn({generalErrMsg:y.data.msg,generalValidationField:y.data.validation_error_field})),c()})},gu=(a,n,o,l,m,i)=>d=>{const u=localStorage.getItem("token");mn("partnership/sales-motion/",{Authorization:`Token ${u}`},{partnership_id:a,sales_motion_ids:n}).then(r=>{r.result===!0&&(o(),l("success"),m(),i())})},fu=(a,n,o,l,m,i,d,u,r,c,p)=>h=>{const y=localStorage.getItem("token");Cs("partnership/sales-motion/",{partnership_id:d,sales_motion_id:c,name:a.name,description:a.description,target_buyer_titles:JSON.stringify(a.targetBuyerTitles)},{Authorization:`Token ${y}`}).then(_=>{if(_.result===!0){const b=_.data&&_.data.sales_motion_id;u(ue(Z({},r.current.values),{name:_.data.name,description:_.data.description,targetBuyerTitles:_.data.target_buyer_titles})),h(Dn({generalErrMsg:"",generalValidationField:""})),n(a,b),o(a,b),l(a,b),i(a,b),m(b)}else h(Dn({generalErrMsg:_.data.msg,generalValidationField:_.data.validation_error_field})),p()})},Ns=a=>a.salesMotionSlice;var yu=bi.reducer;function vu(){const a=[{title:Xe.accountsEngagements,href:"/not-found",icon:no},{title:Xe.salesMotion,href:"/not-found",icon:so},{title:Xe.content,href:"/not-found",icon:oo},{title:Xe.sales,href:"/not-found",icon:io},{title:Xe.setup,href:"/accountSetup",icon:ro},{title:Xe.settings,href:"/previewPartnership",icon:lo}],n=[{title:Xe.accountsEngagements,href:"/not-found",icon:no},{title:Xe.salesMotion,href:"/not-found",icon:so},{title:Xe.content,href:"/not-found",icon:oo},{title:Xe.assets,href:"",icon:""},{title:Xe.assetCollection,href:"/assetCollection",icon:""},{title:Xe.sales,href:"/not-found",icon:io},{title:Xe.setup,href:"/accountSetup",icon:ro},{title:Xe.settings,href:"/previewPartnership",icon:lo}],o=[{title:Xe.accountsEngagements,href:"/not-found",icon:no},{title:Xe.salesMotion,href:"/not-found",icon:so},{title:Xe.content,href:"/not-found",icon:oo},{title:Xe.sales,href:"/not-found",icon:io},{title:Xe.salesHub,href:"/salesHub",icon:""},{title:Xe.setup,href:"/accountSetup",icon:ro},{title:Xe.settings,href:"/previewPartnership",icon:lo}],l=gt(),m=st(En),i=st(gi),d=st(Ss),u=st(po),r=st(Ns),[c,p]=s.exports.useState(4),[h,y]=s.exports.useState();s.exports.useState(0);const[_,b]=s.exports.useState(!0);s.exports.useState(!1);const[S,f]=s.exports.useState(!1),[A,I]=s.exports.useState(""),[N,W]=s.exports.useState(!1),[D,$]=s.exports.useState(!1),[P,E]=s.exports.useState(a),[M,U]=s.exports.useState(""),[L,k]=s.exports.useState(!0),[g,w]=s.exports.useState(!1),[x,V]=s.exports.useState(!1),[G,ie]=s.exports.useState(!1),[Y,re]=s.exports.useState(!1),[ye,H]=s.exports.useState(!1),[pe,v]=s.exports.useState(!1),R=ps();s.exports.useEffect(()=>{const We=new URLSearchParams(window.location.search).get("partner_id")||"0";U(We),console.log(We);const Te=+We;de(),ve(Te)},[R,m.refreshTimeStamp]),s.exports.useEffect(()=>{const We=new URLSearchParams(window.location.search).get("partner_id")||"0";U(We);const Te=+We;ve(Te)},[]),s.exports.useEffect(()=>{const We=new URLSearchParams(window.location.search).get("partner_id")||"0";U(We);const Te=+We;ve(Te)},[i.refreshTimeStamp,d.refreshTimeStamp,u.refreshTimeStamp,r.refreshTimeStamp]);const K=()=>{b(!_),$(!1),W(!1),E(a)},de=()=>{const We={Authorization:`Token ${localStorage.getItem("token")}`};fe("partnership/?",We).then(Te=>{if(Te){const Qe=Te.data;y(Qe)}})},ve=_e=>{const We=localStorage.getItem("token");fe(`partnership/?partnership_id=${_e}`,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${We}`}).then(Te=>{Te.result===!0?(Te.data.is_sales_motion_available===!0?(v(!0),H(!0),re(!0),ie(!0),V(!0)):Te.data.is_sales_hub_available===!0?(v(!1),H(!0),re(!0),ie(!0),V(!0)):Te.data.is_solution_narrative_available===!0?(v(!1),H(!1),re(!0),ie(!0),V(!0),console.log("came12")):Te.data.is_asset_available===!0?(v(!1),H(!1),re(!1),ie(!0),V(!0),console.log("came12 asset",Te.data)):Te.data.partner_company_information!==null&&Te.data.company_information!==null?(V(!0),ie(!1),re(!1),H(!1),v(!1)):(V(!1),ie(!1),H(!1),v(!1)),I(Te.data.partnership_name),localStorage.setItem("subDomainName",Te.data.content_hub_subdomain_name),Te.data.partner_company_information===null||Te.data.company_information===null?k(!1):k(!0)):(I("Create partnership"),k(!1))})},ke=(_e,We,Te)=>{b(!0),Te===Xe.content?($(!1),W(!N),E(N?a:n)):Te===Xe.sales?(W(!1),$(!D),E(D?a:o)):(p(_e),Te===Xe.salesMotion&&L&&ye?(l.push(`/salesMotion?partner_id=${M}`),$(!1),W(!1),E(a)):Te===Xe.assets&&L&&x?l.push(`/uploadAsset?partner_id=${M}`):Te===Xe.assetCollection&&L&&G?l.push(`/assetCollection?partner_id=${M}`):Te===Xe.salesHub&&L&&Y?l.push(`/salesHub?partner_id=${M}`):Te===Xe.setup?(M!=="0"?l.push(`/accountSetup?partner_id=${M}`):l.push("/accountSetup"),$(!1),W(!1),E(a)):Te===Xe.settings&&M!=="0"?(l.push(`/previewPartnership?partner_id=${M}`),$(!1),W(!1),E(a)):Te===Xe.accountsEngagements&&L&&pe&&(l.push(`/accountsEngagements?partner_id=${M}`),$(!1),W(!1),E(a)))},Oe=_e=>{ve(_e),l.push(`/accountSetup?partner_id=${_e}`),w(!0),b(!_)},Ae=s.exports.useRef(),qe=_e=>{Ae.current&&!Ae.current.contains(_e.target)&&b(!0)};return s.exports.useEffect(()=>(document.addEventListener("mousedown",qe),()=>document.removeEventListener("mousedown",qe)),[]),t(zn,{sx:{width:"100%"},children:[t("div",{className:Jt.dropdown,ref:Ae,children:[t("button",{className:Jt.dropdownBtn,onClick:K,children:[e("div",{className:g||A!=="Create partnership"?Jt.dropdownBtnLabelSelected:Jt.dropdownBtnLabel,children:A}),e(tn,{className:`${Jt.arrowIcon}  ${_?Jt.arrowIconActive:""}`})]}),e("div",{className:_?Jt.dropdownMenu:Jt.dropdownMenuActive,children:h&&e(jm,{partnerships:h,editPartnership:Oe})})]}),e($r,{className:Jt.list,component:"nav","aria-label":"secondary mailbox folder",children:P.map((_e,We)=>t(Fr,{className:"listButton",selected:c===We,onClick:Te=>ke(We,_e.href,_e.title),children:[e(Er,{className:Jt.icon,children:window.location.pathname.includes("accountSetup")&&_e.title==="Setup"?e("img",{src:Zm,alt:"setup"}):window.location.pathname.includes("salesMotion")&&_e.title==="Sales Motions"?e("img",{src:Gm,alt:"setup"}):window.location.pathname.includes("accountsEngagements")&&_e.title==="Account Engagements"?e("img",{src:Vm,alt:"setup"}):window.location.pathname.includes("previewPartnership")&&_e.title==="Partnership Settings"?e("img",{src:Ym,alt:"settings"}):e("img",{src:_e.icon,alt:""})}),e(Dr,{className:window.location.pathname.includes("accountSetup")&&_e.title==="Setup"||window.location.pathname.includes("uploadAsset")&&_e.title==="Assets"||window.location.pathname.includes("assetCollection")&&_e.title==="Asset collection"||window.location.pathname.includes("salesHub")&&_e.title==="Sales hub"||window.location.pathname.includes("salesContact")&&_e.title==="Sales contacts"||window.location.pathname.includes("salesMotion")&&_e.title==="Sales Motions"||window.location.pathname.includes("previewPartnership")&&_e.title==="Partnership Settings"||window.location.pathname.includes("accountsEngagements")&&_e.title==="Account Engagements"?Jt.clicked:Jt.icon,children:_e.title===Xe.assets||_e.title===Xe.assetCollection||_e.title===Xe.salesHub||_e.title===Xe.salesContact?t("span",{className:Jt.title,children:["\u2022\xA0 \xA0",_e.title]}):_e.title===Xe.content||_e.title===Xe.sales?t("span",{className:Jt.title,children:[_e.title,e("img",{className:Jt.arrow,src:Jm,alt:""})]}):t("span",{className:Jt.title,children:[_e.title," "]})})]},_e.title))}),S&&e(Ht,{severity:"success",handler:()=>f(!1),showalert:S,message:un.snackbarMsg})]})}const bu="_toolbar_1t9wx_1",Cu="_searchbar_1t9wx_31",Su="_inputWrap_1t9wx_59",wu="_searchIcon_1t9wx_69",xu="_userName_1t9wx_95",Au="_userWrap_1t9wx_103",Iu="_userMenu_1t9wx_113",Tu="_toolbarWithMenu_1t9wx_129";var Jn={toolbar:bu,searchbar:Cu,inputWrap:Su,searchIcon:wu,userName:xu,userWrap:Au,userMenu:Iu,toolbarWithMenu:Tu},ks="/assets/profile.4064371d.png";function Nu(a){const{handleSelectMenu:n,userData:o}=a,[l,m]=s.exports.useState(null),i=Boolean(l),d=localStorage.getItem("token"),u=gt(),r=h=>{m(h.currentTarget),console.log(h.currentTarget,"event.currentTarget")},c=h=>{m(null),n(h)},p=()=>{xt("users/logout/",{},{Authorization:`Token ${d}`}).then(h=>{h.result===!0&&(localStorage.clear(),u.push("/"))})};return t("div",{className:`${l===null?"":"toolbarWrapWithMenu"}`,children:[t("div",{className:`${l===null?Jn.toolbar:Jn.toolbarWithMenu}`,children:[e("div",{className:Jn.inputWrap}),t("div",{className:Jn.userWrap,children:[e("div",{className:Jn.userName,children:o.firstName}),e("img",{src:(o==null?void 0:o.image)&&`${o==null?void 0:o.image}?time=${new Date().getTime()}`||ks,alt:"Paris",onClickCapture:r})]})]}),t(Bo,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:l,open:i,onClose:()=>c(""),anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},className:`${Jn.userMenu} userMenu`,children:[e(Ue,{onClick:()=>c("myAcc"),children:"My Account"}),e(Ue,{onClick:()=>p(),children:"Logout"})]})]})}const _o={SET_API_IMAGE_DETAILS:"SET_API_IMAGE_DETAILS",SET_FILESELECTED_IMAGE_DETAILS:"SET_FILESELECTED_IMAGE_DETAILS",SET_IMAGEFILE_CANCEL:"SET_IMAGEFILE_CANCEL"},ku=(a,n)=>{switch(n.type){case _o.SET_API_IMAGE_DETAILS:return ue(Z({},a),{[n.payload.key]:{file:n.payload.file,name:n.payload.name&&n.payload.name,source:n.payload.source&&`${n.payload.source}?time=${Date.now()}`}});case _o.SET_FILESELECTED_IMAGE_DETAILS:return ue(Z({},a),{[n.payload.key]:{file:n.payload.file,name:n.payload.name,source:n.payload.source}});case _o.SET_IMAGEFILE_CANCEL:return ue(Z({},a),{[n.payload.key]:{file:"",name:"",source:""}});default:return a}},Mu=a=>a.reduce((n,o)=>ue(Z({},n),{[o]:{name:"",source:"",file:""}}),{}),yn=a=>{const[n,o]=s.exports.useReducer(ku,a,Mu);return[n,o,(m,i)=>{const d=new FileReader;d.onload=function(u){o({type:"SET_FILESELECTED_IMAGE_DETAILS",payload:{name:i.name,source:u.target.result.toString(),file:i,key:m}})},d.readAsDataURL(i)}]};var Pn="/assets/UploadLogoIcon.da2ee847.svg";const Lu="_accInfoField_lhf6b_1",$u="_semiField_lhf6b_17",Fu="_labelField_lhf6b_25",Eu="_profileImg_lhf6b_31",Du="_changePwLink_lhf6b_41",Pu="_changeImageLink_lhf6b_57",Hu="_profile_thumbnailImage_lhf6b_73",Bu="_profileInfoField_lhf6b_83",Ou="_profileField_lhf6b_91",Wu="_accInfoBtnWrap_lhf6b_103",Ru="_myAccWrap_lhf6b_119",qu="_accInfoFom_lhf6b_127",zu="_bottomLayer_lhf6b_147",Uu="_mailDisabled_lhf6b_161";var Ye={accInfoField:Lu,semiField:$u,labelField:Fu,profileImg:Eu,changePwLink:Du,changeImageLink:Pu,profile_thumbnailImage:Hu,profileInfoField:Bu,profileField:Ou,accInfoBtnWrap:Wu,myAccWrap:Ru,accInfoFom:qu,bottomLayer:zu,mailDisabled:Uu};const ju={userData:{userId:"",token:"",email:"",password:"",firstName:"",lastName:"",image:""},isSignedIn:!1,errorMsg:"",validationErrField:""},wi=new Oo,xi=en({name:"sign",initialState:ju,reducers:{setSignedIn(a,{payload:n}){a.userData=n.userData,a.isSignedIn=!0},setErrMsg(a,{payload:n}){a.errorMsg=n.errorMsg,a.validationErrField=n.validationErrField}}}),{setSignedIn:go,setErrMsg:Zn}=xi.actions,Ai=(a,n,o,l)=>{localStorage.setItem("token",n.data.token),localStorage.setItem("userId",n.data.user_id),wi.set("rememberMe",o.rememberMe,{path:"/"}),wi.set("email",o.email,{path:"/"}),a(go({userData:ue(Z({},n.data),{password:o.password})})),a(Zn({errorMsg:"",validationErrField:""})),l()},Vu=(a,n,o,l,m)=>i=>{let d;o===!1?d="users/sales-hub/sign-in/":d="users/sign-in/",xt(d,{email:a.email,password:a.password,subdomain_name:localStorage.getItem("subDomainName")}).then(u=>{u.result===!0?(localStorage.setItem("userType",u.data.user_type),o===!1?(Ai(i,u,a,l),n.push(`/home?partner_id=${u.data.partnership_id}`)):u.data.user_type===Tn.manager&&o===!0?(Ai(i,u,a,l),n.push("/accountSetup")):(i(Zn({errorMsg:"User not allowed",validationErrField:"User not allowed"})),l(),m()),localStorage.setItem("token",u.data.token),localStorage.setItem("userId",u.data.user_id)):(u.data?u.data.msg?(i(Zn({errorMsg:u.data.msg,validationErrField:u.data.validation_error_field})),m()):(i(Zn({errorMsg:"User not allowed",validationErrField:"User not allowed"})),m()):u.msg?(i(Zn({errorMsg:u.msg,validationErrField:""})),m()):(i(Zn({errorMsg:"User not allowed",validationErrField:"User not allowed"})),m()),l())})},fo=a=>a.signInSlice.userData,Gu=a=>a.signInSlice;var Ju=xi.reducer;const Ii=a=>{const{cancelHandler:n,showAlert:o,setIsFormEdited:l,isFormEdited:m,setisDirty:i,showCloseWarning:d,setShowCloseWarning:u}=a,r=st(fo),c=localStorage.getItem("token"),[p,h]=Ie.useState(!1),[y,_]=Ie.useState(""),[b,S]=Ie.useState(!1),[f,A]=Ie.useState(!1),[I,N]=Ie.useState(!1),[W,D]=Ie.useState({firstName:"",lastName:"",email:"",profileImg:"",currentPassword:"",newPassword:"",confirmPassword:""}),$=rt(),P=Ie.useRef(null),E=Ie.useRef(null),M=Ie.useRef(null),[U,L,k]=yn([Le.profileImage]),g=s.exports.useRef(null),w=()=>{fe("users/my-account/",{Authorization:`Token ${c}`}).then(v=>{var R,K;v.result===!0&&(D({firstName:v.data.first_name,lastName:v.data.last_name,email:v.data.email,profileImg:v.data.image,currentPassword:"",newPassword:"",confirmPassword:""}),L({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.profileImage,name:(R=v.data)==null?void 0:R.image,source:(K=v.data)==null?void 0:K.image}}))})};Ie.useEffect(()=>{w()},[]);const x=v=>{const R=new FormData;R.append("first_name",v.firstName),R.append("last_name",v.lastName),R.append("email",v.email),R.append("image",v.profileImg),p&&(R.append("current_password",v.currentPassword),R.append("new_password",v.newPassword),R.append("confirm_password",v.confirmPassword)),xt("users/my-account/",R,{Authorization:`Token ${c}`}).then(K=>{K.result===!0&&($(hi({refreshAccDetailTimeStamp:Date.now()})),go({userData:ue(Z({},r),{email:K.data.email,firstName:K.data.first_name,lastName:K.data.last_name,image:K.data.image})}),h(!1),n(),o(Vt.successProfileMsg));const de=setTimeout(()=>_(""),1e4);return _(K.data.msg),()=>clearTimeout(de)})},V=Dt().shape({firstName:q().trim().min(3,"Minimum 3 characters is required").required("First name is required"),lastName:q().trim().required("Last name is required"),email:q().trim().email("Enter a valid email").required("Email is required"),currentPassword:q().trim().required("Current password is required"),newPassword:q().trim().required("New password is required").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{5,17}$/,"Valid password should include 5 to 17 characters, upper, lower case, numeric and special characters").notOneOf([ns("currentPassword"),null],"New password must be different from current password"),confirmPassword:q().trim().required("Confirm password is required").oneOf([ns("newPassword"),null],"Passwords must match")}),G=Dt().shape({firstName:q().trim().required("First name is required"),lastName:q().trim().required("Last name is required"),email:q().trim().email("Enter a valid email").required("Email is required")}),ie=v=>{v.preventDefault()},Y=v=>{S(!b),P.current.children[0].children[0].focus(),setTimeout(()=>{P.current.children[0].children[0].setSelectionRange(v.length,v.length)},1)},re=v=>{A(!f),E.current.children[0].children[0].focus(),setTimeout(()=>{E.current.children[0].children[0].setSelectionRange(v.length,v.length)},1)},ye=v=>{N(!I),M.current.children[0].children[0].focus(),setTimeout(()=>{M.current.children[0].children[0].setSelectionRange(v.length,v.length)},1)},H=v=>{g.current.value="",v("profileImg",""),L({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.profileImage}})},pe=(v,R)=>{const K=v.target.files[0];K&&K.name&&K.type.includes("image/")?R("profileImg",v.target.files[0]):o(Vt.fileErrorMessage,"error")};return t("div",{className:Ye.myAccWrap,children:[e(Rt,{enableReinitialize:!0,initialValues:W,validationSchema:p?V:G,onSubmit:v=>{x(v)},children:v=>{const{values:R,handleChange:K,handleSubmit:de,errors:ve,touched:ke,dirty:Oe,handleBlur:Ae,setFieldValue:qe}=v;return i(Oe),console.log(R,"values"),t(qt,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onSubmit:de,children:[t("div",{className:Ye.accInfoFom,children:[t("div",{className:Ye.accInfoField,children:[e("div",{className:`${Ye.semiField} ${Ye.labelField}`,children:Vt.firstName}),t("div",{className:Ye.semiField,children:[e(te,{type:"text",name:"firstName",value:R.firstName,onChange:K,onBlur:Ae,placeholder:Vt.firstName,hasError:ve.firstName&&ke.firstName,errorMessage:ve.firstName,component:Qt}),e(ut,{name:"firstName"})]})]}),t("div",{className:Ye.accInfoField,children:[e("div",{className:`${Ye.semiField} ${Ye.labelField}`,children:Vt.lastName}),t("div",{className:Ye.semiField,children:[e(te,{type:"text",name:"lastName",value:R.lastName,onChange:K,onBlur:Ae,placeholder:Vt.lastName,hasError:ve.lastName&&ke.lastName,errorMessage:ve.lastName,component:Qt}),e(ut,{name:"lastName"})]})]}),t("div",{className:`${Ye.accInfoField} ${Ye.profileInfoField}`,children:[e("div",{className:`${Ye.semiField}`,children:Vt.profileImage}),e("div",{className:Ye.semiField,children:t("div",{className:Ye.profileField,children:[R.profileImg?e(hs,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:e(et,{style:{width:"15px",height:"15px",borderRadius:"50%",border:"8px solid white",padding:"2px"},children:e(Wo,{onClick:()=>{H(qe)},style:{width:"11px",height:"11px",color:"black",backgroundColor:"white",borderRadius:"50%",border:"1px solid black"}})}),children:e("img",{className:Ye.profileImg,src:typeof R.profileImg!="string"?URL.createObjectURL(R.profileImg):`${R.profileImg}?time=${new Date().getTime()}`,alt:"Profile"})}):e(hs,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},children:e("img",{className:Ye.profileImg,src:ks,alt:"Profile"})}),e("div",{className:Ye.changeImageLink,onClickCapture:()=>{g&&g.current&&g.current.click()},children:R.profileImg?Vt.changeImage:Vt.uploadImage}),t("div",{children:[e("img",{id:"salesHubSiteProfileImg",className:Ye.changeImgIcon,src:Pn,alt:"upload",onClickCapture:()=>{g&&g.current&&g.current.click()}}),e("input",{accept:"image",ref:g,type:"file",style:{display:"none"},onChange:_e=>{l(!0),pe(_e,qe)}})]})]})})]}),t("div",{className:Ye.accInfoField,children:[e("div",{className:`${Ye.semiField} ${Ye.labelField}`,children:Vt.emailAddress}),t("div",{className:Ye.semiField,children:[e(te,{type:"text",name:"email",value:R.email,readOnly:!0,disabled:!0,className:`Mui-disabled ${Ye.mailDisabled}`,placeholder:Vt.emailAddress,hasError:ve.email&&ke.email,errorMessage:ve.email,InputProps:{readOnly:!0},component:An}),e(ut,{name:"email"}),p===!1&&e("div",{onClickCapture:()=>h(!0),className:Ye.changePwLink,children:Vt.changePassword})]})]}),p===!0&&t(xe,{children:[t("div",{className:Ye.accInfoField,children:[e("div",{className:`${Ye.semiField} ${Ye.labelField}`,children:Vt.currentPassword}),t("div",{className:Ye.semiField,children:[e(te,{type:b?"text":"password",name:"currentPassword",innerRef:P,value:R.currentPassword,onChange:K,onBlur:Ae,placeholder:Vt.currentPassword,hasError:ve.currentPassword&&ke.currentPassword,errorMessage:ve.currentPassword,component:Qt,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>Y(R.currentPassword),onMouseDown:ie,children:b?e($a,{}):e(Fa,{})})})}}),y!==""?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:y}):e(ut,{name:"currentPassword"})]})]}),t("div",{className:Ye.accInfoField,children:[e("div",{className:`${Ye.semiField} ${Ye.labelField}`,children:Vt.newPassword}),t("div",{className:Ye.semiField,children:[e(te,{type:f?"text":"password",name:"newPassword",innerRef:E,value:R.newPassword,onChange:K,onBlur:Ae,placeholder:Vt.newPassword,hasError:ve.newPassword&&ke.newPassword,errorMessage:ve.newPassword,component:Qt,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>re(R.newPassword),onMouseDown:ie,children:f?e($a,{}):e(Fa,{})})})}}),e(ut,{name:"newPassword"})]})]}),t("div",{className:Ye.accInfoField,children:[e("div",{className:`${Ye.semiField} ${Ye.labelField}`,children:Vt.confirmPassword}),t("div",{className:Ye.semiField,children:[e(te,{type:I?"text":"password",name:"confirmPassword",innerRef:M,value:R.confirmPassword,onChange:K,onBlur:Ae,placeholder:Vt.confirmPassword,hasError:ve.confirmPassword&&ke.confirmPassword,errorMessage:ve.confirmPassword,component:Qt,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>ye(R.confirmPassword),onMouseDown:ie,children:I?e($a,{}):e(Fa,{})})})}}),e(ut,{name:"confirmPassword"})]})]})]})]}),t("div",{className:`${Ye.accInfoBtnWrap} ${Ye.bottomLayer}`,children:[e(At,{onClick:()=>{Oe||m?u(!0):n()},style:{minWidth:"160px",marginRight:"30px"},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.update})]})]})}}),d&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>u(!1),handleAgree:n,show:!0})]})},Zu=Bs(()=>({root:{height:"100%",display:"flex",background:"rgba(194, 207, 224, 0.1)"},content:{marginTop:"80px",background:"#E5E5E5"},container:{width:"80%"},sibebar:{width:"20%",background:"rgba(194, 207, 224, 0.1)",minHeight:"100vh",display:"flex",alignItems:"flex-start",justifyContent:"flex-start"}})),Ba=a=>{const{children:n}=a,o=Zu(),[l,m]=Ie.useState(""),[i,d]=Ie.useState({firstName:"",image:""});Ie.useState(!1);const[u,r]=Ie.useState({showAlert:!1,severity:"",message:""}),c=st(En),[p,h]=s.exports.useState(!1),[y,_]=s.exports.useState(!1),[b,S]=s.exports.useState(!1);let f=e(xe,{}),A="";switch(l){case"myAcc":{A="My Account",f=e(Ii,{cancelHandler:()=>{m(""),_(!1),S(!1),h(!1)},showAlert:(N,W)=>r(D=>ue(Z({},D),{showAlert:!0,message:N,severity:W})),setisDirty:_,setIsFormEdited:S,isFormEdited:b,showCloseWarning:p,setShowCloseWarning:h});break}}const I=()=>{const W={Authorization:`Token ${localStorage.getItem("token")}`};fe("users/my-account/",W).then(D=>{var $;D.result===!0&&d({firstName:D.data.first_name,image:($=D==null?void 0:D.data)==null?void 0:$.image})})};return s.exports.useEffect(()=>{I()},[]),s.exports.useEffect(()=>{I()},[c.refreshAccDetailTimeStamp]),t("div",{className:o.root,children:[e("div",{className:o.sibebar,children:e(vu,{})}),t("div",{className:o.container,children:[e(Nu,{handleSelectMenu:m,userData:i}),e("main",{className:o.content,children:n})]}),l!==""&&e(Ha,{title:A,closeHandler:()=>{y||b?h(!0):m("")},renderElement:f}),u.showAlert&&e(Ht,{severity:u.severity,handler:()=>{r(N=>ue(Z({},N),{showAlert:!1}))},showalert:u.showAlert,message:u.message})]})};Ba.propTypes={};const Yu="_flexBackground_1xppr_1",Ku="_container_1xppr_19",Xu="_content_1xppr_35",Qu="_bannerPercentageDiv_1xppr_49",ep="_tagLine_1xppr_73",tp="_dotted1_1xppr_83",ap="_dotted2_1xppr_93";var Hn={flexBackground:Yu,container:Ku,content:Xu,bannerPercentageDiv:Qu,tagLine:ep,dotted1:tp,dotted2:ap},Ms="/assets/dotted_bg.888bf01f.svg";const np=()=>{const a=[{percentage:"76%",color:"#F2B952",background:"#FDF8EF",content:"have increased ROI"},{percentage:"80%",color:"#EA6A93",background:"#FFECF2",content:"have Higher Customer LTV"},{percentage:"86%",color:"#6FC4CA",background:"#E5F7F8",content:"have Higher Win Rates"}],n=({percentage:o,color:l,background:m,content:i})=>t("div",{children:[e("div",{className:Hn.bannerPercentageDiv,style:{background:m,color:l,borderRadius:"10px"},children:e("div",{children:o})}),e("div",{style:{fontSize:"12px",color:l},children:i})]});return e("div",{className:Hn.flexBackground,children:t("div",{children:[t("div",{className:Hn.container,children:[e("div",{className:Hn.dotted1,children:e("img",{src:Ms,alt:"dotted"})}),e("div",{className:Hn.dotted2,children:e("img",{src:Ms,alt:"dotted"})}),e("div",{className:Hn.content,children:si.content}),e("div",{style:{display:"flex",justifyContent:"space-around"},children:a.map(o=>e(n,{percentage:o.percentage,color:o.color,background:o.background,content:o.content},o.content))})]}),e("p",{className:Hn.tagLine,children:si.tagLine})]})})},sp=Bs(()=>({root:{height:"100%",display:"flex"},content:{height:"100%"},container:{width:"50%"}})),ua=a=>{const{children:n}=a,o=sp();return t("div",{className:o.root,children:[e("div",{className:o.container,children:e(np,{})}),e("div",{className:o.container,children:e("main",{className:o.content,children:n})})]})};ua.propTypes={children:ts.node};const op=Bs(()=>({root:{height:"100vh"}})),xa=a=>{const{children:n}=a,o=op();return e("div",{className:o.root,children:e("main",{children:n})})};xa.propTypes={};var ip="/assets/carbon_add-alt.f3de45f5.svg",rp="/assets/bi_cloud-upload.6491c185.svg",lp="/assets/gridicons_create.d54dff23.svg",cp="/assets/settings.e3a7c4c5.svg",dp="/assets/Campaigns.915090a8.svg",mp="/assets/target.fba00c75.svg",up="/assets/green_tick.85156d17.svg";const yo=()=>{const a=gt();s.exports.useState(Mt.addPartnershipButtonLabel);const[n,o]=s.exports.useState(!1),[l,m]=s.exports.useState([]),i=ps();s.exports.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("partner_id")||"0";d(p)},[]),s.exports.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("partner_id")||"0";d(p)},[i]);const d=c=>{var p=[{icon:ip,title:Mt.addPartnership,description:Mt.addPartnershipDescription,buttonLabel:Mt.addPartnershipButtonLabel,isCompleted:!1,disabled:!0},{icon:rp,title:Mt.uploadAssets,description:Mt.uploadAssetsDescription,buttonLabel:Mt.uploadAssetsButtonLabel,isCompleted:!1,disabled:!0},{icon:lp,title:Mt.createAssetCollection,description:Mt.createAssetCollectionDescription,buttonLabel:Mt.createAssetCollectionButtonLabel,isCompleted:!1,disabled:!0},{icon:cp,title:Mt.configureSalesHub,description:Mt.configureSalesHubDescription,buttonLabel:Mt.configureSalesHubButtonLabel,isCompleted:!1,disabled:!0},{icon:dp,title:Mt.createSalesMotion,description:Mt.createABMCampaignDescription,buttonLabel:Mt.createSalesMotionButtonLabel,isCompleted:!1,disabled:!0},{icon:mp,title:Mt.accountEngagement,description:Mt.accountTargetDescription,buttonLabel:Mt.accountEngagementButtonLabel,isCompleted:!1,disabled:!0}];o(!0);const h=localStorage.getItem("token");fe(`partnership/?partnership_id=${c}`,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${h}`}).then(y=>{y.result===!0&&(y.data.is_sales_hub_account_available===!0&&(p[5].isCompleted=!0),y.data.is_sales_motion_available===!0&&(p[4].isCompleted=!0),y.data.is_sales_hub_available===!0&&(p[3].isCompleted=!0),y.data.is_solution_narrative_available===!0&&(p[2].isCompleted=!0),y.data.is_asset_available===!0&&(p[1].isCompleted=!0),y.data.partner_company_information!==null&&y.data.company_information!==null&&(p[0].isCompleted=!0)),u(p),o(!1)})},u=c=>{let p=null;c.forEach((h,y)=>{h.isCompleted===!1&&p===null&&(p=y)}),p===null&&(p=0),console.log(p,"btnEnabledIndex"),c[p].disabled=!1,m(c)},r=c=>{const h=new URLSearchParams(window.location.search).get("partner_id")||"0";switch(c){case"Create partnership":h!=="0"?a.push(`/createPartnership?form=PartnerShipInfo&type=update&partner_id=${h}`):a.push("/createPartnership");break;case"Upload assets":a.push(`/uploadAsset?partner_id=${h}&assetModal=${!0}`);break;case"Create asset collection":a.push(`/assetCollection?partner_id=${h}&assetCollectionModal=${!0}`);break;case"Create sales hub":a.push(`/salesHub?partner_id=${h}`);break;case"Create Sales Motion":a.push(`/salesMotion?partner_id=${h}&createModal=${!0}`);break;case"Create Accounts":a.push(`/accountsEngagements?partner_id=${h}&accountModal=${!0}`);break;default:return""}return""};return t("div",{className:"account-setup-container",children:[e("div",{className:"account-setup-header",children:Mt.accountSetupHeader}),e("div",{className:"account-setup-subheader",children:Mt.accountSetupSubHeader}),l.map((c,p)=>e("div",{className:"account-setup-main-container",children:t("div",{className:"account-setup-content-container",children:[t("div",{className:"account-setup-content-info",children:[e("div",{className:"account-setup-icon-container",children:e("img",{className:"account-setup-icon",src:c.icon,alt:""})}),t("div",{children:[e("div",{className:"account-setup-content-title",children:c.title}),e("div",{className:"account-setup-content-description",children:c.description})]})]}),e("div",{className:"acccount-setup-content-button",children:c.isCompleted===!0?e("div",{className:"completedSetup",children:e("img",{src:up,alt:""})}):t(Ke,{style:{minWidth:"180px"},disabled:c.disabled===!0,onClick:()=>r(c.buttonLabel),children:[" ",c.buttonLabel]})})]})},c.title)),n&&e(ft,{})]})};yo.propTypes={user:ts.shape({})};yo.defaultProps={user:null};const Ti=({steps:a,history:n,isUpdate:o},l)=>{const m=yt(),i=localStorage.getItem("token"),d=new URLSearchParams(window.location.search),u=d.get("partner_id")||"0";d.get("company_info_id");const r=st(En),[c,p]=s.exports.useState(),[h,y]=s.exports.useState(""),[_,b]=s.exports.useState("");s.exports.useState();const[S,f]=s.exports.useState(!1),[A,I]=s.exports.useState(!1),[N,W]=s.exports.useState(""),[D,$]=s.exports.useState(!1),[P,E]=s.exports.useState(!1);s.exports.useEffect(()=>{M(na({errorMsg:"",validationErrField:"",timeStamp:Date.now()})),f(!0),o?fe(`partnership/?partnership_id=${u}`,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${i}`}).then(g=>{g.result===!0?(g.data.company_information&&y(g.data.company_information.company_information_id),g.data.partner_company_information&&b(g.data.partner_company_information.partner_company_information_id),p({partnershipName:g.data.partnership_name,websiteSubDomain:g.data.content_hub_subdomain_name,whitelistedDomains:g.data.whitelisted_domains}),$(!0)):console.log(g.data,"error"),f(!1)}):(p({partnershipName:"",websiteSubDomain:"",whitelistedDomains:[]}),f(!1)),W("")},[]),s.exports.useEffect(()=>{const g=setTimeout(()=>W(""),1e4);return W(r.errorMsg),()=>clearTimeout(g)},[r]);const M=rt(),U=Dt().shape({partnershipName:q().trim().min(3,"Minimum 3 characters is required").required(Pe.partnershipName),websiteSubDomain:q().trim().min(3,"Minimum 3 characters is required").matches(/^[a-zA-Z]+[a-zA-Z\d\-]*$/,"Enter a valid subdomain name").required(Pe.subDomain)}),L=g=>{p(ue(Z({},c),{whitelistedDomains:[...c.whitelistedDomains,g]})),$(!0)},k=g=>{const w=c.whitelistedDomains.filter(x=>x!==g);p(ue(Z({},c),{whitelistedDomains:w})),$(!0)};return s.exports.useEffect(()=>{var g;D&&((g=c==null?void 0:c.whitelistedDomains)==null?void 0:g.length)===0&&$(!1)},[c]),t("div",{className:"create-partnership-main-container",children:[e(zn,{sx:{width:"75%"},children:e(Os,{activeStep:0,alternativeLabel:!0,children:a.map(g=>e(Ws,{children:e(Rs,{children:g})},g))})}),t("div",{className:"create-partnership-info-title",children:[gn.partnershipInfoTitle," "]})," ",c&&e(Rt,{initialValues:c,validationSchema:U,validate:()=>({}),onSubmit:g=>{c.whitelistedDomains.length===0?I(!0):(f(!0),M(eu(ue(Z({},g),{whitelistedDomains:c.whitelistedDomains}),n,o,u,h,_,()=>f(!1))))},children:g=>{const{values:w,handleChange:x,handleSubmit:V,errors:G,touched:ie,handleBlur:Y,dirty:re}=g;return e(qt,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onSubmit:ye=>{ye.preventDefault(),c.whitelistedDomains.length===0&&I(!0),V(ye)},onKeyDown:ye=>{ye.key==="Enter"&&ye.preventDefault()},children:t("div",{className:"create-partnership-info-form",children:[t("div",{className:"create-partnership-info-field",children:[e("div",{className:"create-partnership-label",children:gn.partnershipName}),t("div",{style:{marginLeft:"25px"},children:[e(te,{type:"text",name:"partnershipName",value:w.partnershipName,onChange:x,onBlur:Y,placeholder:gn.partnershipName,hasError:G.partnershipName&&ie.partnershipName,errorMessage:G.partnershipName,component:Se,classes:m}),e(le,{name:"partnershipName"})]})]}),t("div",{className:"create-partnership-info-field",children:[e("div",{className:"create-partnership-info-field-subdomain create-partnership-label",children:gn.websiteSubDomainName}),t("div",{children:[t("div",{className:"domainEndPointWrap",children:[e(te,{type:"text",name:"websiteSubDomain",value:w.websiteSubDomain,onChange:x,onBlur:Y,placeholder:gn.websiteSubDomainNameLabel,hasError:G.websiteSubDomain&&ie.websiteSubDomain,errorMessage:r.validationErrField==="content_hub_subdomain_name"?r.errorMsg:G.websiteSubDomain,component:Se,classes:m}),e("div",{className:"partnerDomainEndPoint",children:gn.domainEndPoint})]}),N!==""&&r.validationErrField==="content_hub_subdomain_name"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px",maxWidth:"270px"},children:N}):e(le,{name:"websiteSubDomain"})]})]}),t("div",{className:"create-partnership-info-field whitelistDominWrap",children:[e("div",{className:"create-partnership-label",children:gn.whitelistedDomainLabel}),t("div",{style:{marginLeft:"25px",minWidth:"270px",width:"270px"},className:"wsTagsWrap",children:[e(Ro,{value:c.whitelistedDomains,onAdd:ye=>L(ye),onDelete:ye=>k(ye),variant:"outlined",blurBehavior:"add",onBlur:()=>I(!0),onChangeCapture:()=>{I(!1),$(!0)},error:A&&c.whitelistedDomains.length===0,placeholder:c.whitelistedDomains.length===0?gn.whitelistedDomainLabel:"",helperText:N===""&&A&&c.whitelistedDomains.length===0?Pe.whitelistedDomains:N!==""&&r.validationErrField==="whitelisted_domains"?"":"Press enter to add domain names"}),N!==""&&r.validationErrField==="whitelisted_domains"&&e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:N})]})]}),t("div",{className:"create-partnership-info-button-container",children:[e(At,{style:{minWidth:"160px",marginRight:"30px"},onClick:()=>{re||D?E(!0):n.push("/accountSetup")},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.continue})]})]})})}}),P&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>E(!1),handleAgree:()=>{n.push("/accountSetup"),$(!1)},show:!0}),S===!0&&e(ft,{})]})},pp="_thumbnailImg_container_qej3t_1",hp="_thumbnailImg_qej3t_1",_p="_thumbnailImg_closer_qej3t_29";var Ni={thumbnailImg_container:pp,thumbnailImg:hp,thumbnailImg_closer:_p};const ra=({id:a,classes:n,src:o,alt:l,CloseHandler:m,CustomStyles:i,show:d})=>e(xe,{children:d&&t("div",{className:Ni.thumbnailImg_container,style:i==null?void 0:i.ContainerStyle,children:[e("img",{id:a,className:n,src:o,style:i==null?void 0:i.ImageStyle,alt:l}),e(Mo,{onClick:m,className:Ni.thumbnailImg_closer,style:i==null?void 0:i.CloserStyle})]})}),gp=({steps:a,history:n,isUpdate:o})=>{const l=yt(),[m,i]=s.exports.useState(!1),d=localStorage.getItem("token"),r=new URLSearchParams(window.location.search).get("partner_id")||"0",c=rt(),p=st(En),h=s.exports.useRef(null),y=s.exports.useRef(null),[_,b]=s.exports.useState(),[S,f]=s.exports.useState(""),[A,I]=s.exports.useState({showAlert:!1,severity:"",message:""}),[N,W,D]=yn([Le.companyLogo]);s.exports.useEffect(()=>{i(!0),o?(fe(`partnership/?partnership_id=${r}`,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${d}`}).then(M=>{if(M.result===!0){const U=M.data.company_information.company_information_id;U?(f(U),b({companyName:M.data.company_information.company_name,companyAddress:M.data.company_information.company_address,city:M.data.company_information.city,country:M.data.company_information.country,privacyPolicyURL:M.data.company_information.privacy_policy_url,siteTermsURL:M.data.company_information.site_terms_url,cookiePolicy:M.data.company_information.cookie_policy,companyLogo:M.data.company_information.logo_name,state:M.data.company_information.state,zipCode:M.data.company_information.zipcode}),W({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.companyLogo,name:M.data.company_information.logo_name,source:M.data.company_information.logo}})):b({companyName:"",companyAddress:"",city:"",country:"",privacyPolicyURL:"",siteTermsURL:"",cookiePolicy:"",companyLogo:"",state:"",zipCode:""})}else console.log(M.data,"error")}),i(!1)):(b({companyName:"",companyAddress:"",city:"",country:"",privacyPolicyURL:"",siteTermsURL:"",cookiePolicy:"",companyLogo:"",state:"",zipCode:""}),i(!1))},[]);const $=(M,U)=>{const L=M.target.files[0];if(L&&L.name&&y&&y.current&&L.type.includes("image/")){const k=L.name;U("companyLogo",k),D(Le.companyLogo,L)}else I(k=>ue(Z({},k),{showAlert:!0,message:Pe.fileErrorMessage,severity:"error"}))},P=Dt().shape({companyName:q().trim().min(3,"Minimum 3 characters is required").required(Pe.companyName),companyAddress:q().trim().min(3,"Minimum 3 characters is required").required(Pe.companyAddress),city:q().trim().min(3,"Minimum 3 characters is required").required(Pe.city).matches(/^[^0-9]+$/,Pe.invalidCity),country:q().trim().min(3,"Minimum 3 characters is required").required(Pe.country).matches(/^[^0-9]+$/,Pe.invalidCountry),privacyPolicyURL:q().trim().required(Pe.privacyPolicy).matches(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/g,Pe.invalidURL),siteTermsURL:q().trim().required(Pe.siteTermsURL).matches(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/g,Pe.invalidURL),cookiePolicy:q().trim().required(Pe.cookiePolicy),state:q().trim().min(2,"Minimum 2 characters is required").required(Pe.state).matches(/^[^0-9]+$/,Pe.invalidState),zipCode:q().trim().required(Pe.zipCode).matches(/^(?=.*\d)[\d ]+$/,Pe.invalidZipCode)}),E=M=>{M("companyLogo",""),h.current.value="",W({type:"SET_IMAGEFILE_CANCEL",payload:{key:Le.companyLogo}})};return t("div",{className:"create-partnership-main-container",children:[e(zn,{sx:{width:"75%"},children:e(Os,{activeStep:1,alternativeLabel:!0,children:a.map(M=>e(Ws,{children:e(Rs,{children:M})},M))})}),t("div",{className:"create-partnership-info-title",children:[Lt.companyInfoTitle," "]})," ",_&&e(Rt,{innerRef:y,enableReinitialize:!0,initialValues:_,validate:()=>({}),validationSchema:P,onSubmit:M=>{i(!0),c(tu(M,n,o,r,S,p.partnerCompanyInformationId,N[Le.companyLogo].file,()=>i(!1)))},children:M=>{var ie,Y,re;const{values:U,handleChange:L,handleSubmit:k,errors:g,touched:w,handleBlur:x,setFieldValue:V,validateField:G}=M;return e(qt,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onSubmit:k,children:t("div",{className:"company-info-form",children:[t("div",{className:"company-info-main-column-container",children:[t("div",{className:"company-info-div",children:[t("div",{className:"company-info-field",children:[e("div",{className:"create-partnership-label",children:Lt.companyName}),t("div",{children:[e(te,{type:"text",name:"companyName",value:U.companyName,onChange:L,onBlur:x,placeholder:Lt.companyName,hasError:g.companyName&&w.companyName,errorMessage:g.companyName,component:Se,classes:l}),e(le,{name:"companyName"})]})]}),t("div",{className:"company-info-field",children:[e("div",{className:"company-logo-label create-partnership-label",children:Lt.companyLogo}),t("div",{children:[e(te,{type:"file",name:"companyLogo",value:U.companyLogo,readOnly:!0,hasError:g.companyLogo&&w.companyLogo,errorMessage:g.companyLogo,placeholder:Lt.companyLogo,component:Se,classes:l,InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:ye=>{h&&h.current&&h.current.click()},children:[e("input",{accept:"image/*",ref:h,type:"file",style:{display:"none"},onChange:ye=>{$(ye,V),G("companyLogo")}}),e("img",{src:wa,alt:""})]})}),accept:"image/*",readOnly:!0}}),e(ra,{id:"companyLogoCreatePage",alt:"company logo",src:(ie=N[Le.companyLogo])==null?void 0:ie.source,show:((Y=N[Le.companyLogo])==null?void 0:Y.source)&&((re=N[Le.companyLogo])==null?void 0:re.name),classes:"company-thumbnailImage",CustomStyles:{ContainerStyle:{position:"absolute"}},CloseHandler:()=>E(V)})]})]})]}),e("div",{className:"company-info-div",children:t("div",{className:"company-info-field textAreaInput",children:[e("div",{className:"create-partnership-label",children:Lt.companyAddress}),t("div",{children:[e(te,{className:"company-info-field-address-field",type:"text",name:"companyAddress",value:U.companyAddress,onChange:L,onBlur:x,placeholder:Lt.companyAddress,hasError:g.companyAddress&&w.companyAddress,multiline:!0,errorMessage:g.companyAddress,component:Se,classes:l}),e(le,{name:"companyAddress"})]})]})}),t("div",{className:"company-info-div",children:[t("div",{className:"company-info-field",children:[e("div",{className:"create-partnership-label",children:Lt.city}),t("div",{children:[e(te,{name:"city",value:U.city,onChange:L,onBlur:x,hasError:g.city&&w.city,errorMessage:g.city,component:Se,classes:l,placeholder:Lt.city}),e(le,{name:"city"})]})]}),t("div",{className:"company-info-field",children:[e("div",{className:"create-partnership-label",children:Lt.state}),t("div",{children:[e(te,{type:"text",name:"state",onChange:L,onBlur:x,hasError:g.state&&w.state,errorMessage:g.state,placeholder:Lt.state,component:Se,classes:l}),e(le,{name:"state"})]})]})]}),t("div",{className:"company-info-div",children:[t("div",{className:"company-info-field",children:[e("div",{className:"create-partnership-label",children:Lt.country}),t("div",{children:[e(te,{type:"text",name:"country",value:U.country,onChange:L,onBlur:x,placeholder:Lt.country,hasError:g.country&&w.country,errorMessage:g.country,component:Se,classes:l}),e(le,{name:"country"})]})]}),t("div",{className:"company-info-field",children:[e("div",{className:"create-partnership-label",children:Lt.zipCode}),t("div",{children:[e(te,{type:"text",name:"zipCode",onChange:L,onBlur:x,hasError:g.zipCode&&w.zipCode,errorMessage:g.zipCode,placeholder:Lt.zipCode,component:Se,classes:l}),e(le,{name:"zipCode"})]})]})]}),e("div",{className:"company-info-div",children:t("div",{className:"company-info-field",children:[e("div",{className:"create-partnership-label",children:Lt.privacyPolicyURL}),t("div",{children:[e(te,{type:"text",name:"privacyPolicyURL",value:U.privacyPolicyURL,onChange:L,onBlur:x,hasError:g.privacyPolicyURL&&w.privacyPolicyURL,errorMessage:g.privacyPolicyURL,component:Se,classes:l,placeholder:Lt.privacyPolicyURL}),e(le,{name:"privacyPolicyURL"})]})]})}),e("div",{className:"company-info-div",children:t("div",{className:"company-info-field",children:[e("div",{className:"create-partnership-label",children:Lt.siteTermsURL}),t("div",{children:[e(te,{type:"text",name:"siteTermsURL",value:U.siteTermsURL,onChange:L,onBlur:x,hasError:g.siteTermsURL&&w.siteTermsURL,errorMessage:g.siteTermsURL,component:Se,classes:l,placeholder:Lt.siteTermsURL}),e(le,{name:"siteTermsURL"})]})]})}),e("div",{className:"company-info-div",children:t("div",{className:"company-info-field",children:[e("div",{className:"create-partnership-label",children:Lt.cookiePolicy}),t("div",{children:[e(te,{type:"text",name:"cookiePolicy",value:U.cookiePolicy,onChange:L,onBlur:x,hasError:g.cookiePolicy&&w.cookiePolicy,errorMessage:g.cookiePolicy,placeholder:Lt.cookiePolicy,component:Se,classes:l}),e(le,{name:"cookiePolicy"})]})]})})]}),t("div",{className:"create-partnership-info-button-container",children:[e(At,{onClick:()=>n.push(`/createPartnership?form=PartnerShipInfo&type=update&partner_id=${r}`),style:{marginRight:"30px",minWidth:"160px"},children:ct.previous}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.continue})]})]})})}}),m===!0&&e(ft,{}),A.showAlert&&e(Ht,{severity:A.severity,handler:()=>{I(M=>ue(Z({},M),{showAlert:!1}))},showalert:A.showAlert,message:A.message})]})},fp=({steps:a,history:n,isUpdate:o})=>{const l=yt(),[m,i]=s.exports.useState(!1),[d,u,r]=yn([Le.partnerCompanyLogo]),c=localStorage.getItem("token"),h=new URLSearchParams(window.location.search).get("partner_id")||"0",y=rt(),_=st(En),b=s.exports.useRef(null),S=s.exports.useRef(null),[f,A]=s.exports.useState(""),[I,N]=s.exports.useState({showAlert:!1,severity:"",message:""}),[W,D]=s.exports.useState(),[$,P]=s.exports.useState("");s.exports.useEffect(()=>{const L=setTimeout(()=>P(""),8e3);return P(_.errorMsg),()=>clearTimeout(L)},[_]),s.exports.useEffect(()=>{i(!0),o?fe(`partnership/?partnership_id=${h}`,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${c}`}).then(L=>{if(L.result===!0){const k=L.data.partner_company_information.partner_company_information_id;k?(A(k),D({partnerCompanyName:L.data.partner_company_information.company_name,partnerCompanyLogo:L.data.partner_company_information.logo_name,partnerCompanyPrivacyPolicyURL:L.data.partner_company_information.privacy_policy_url,partnerCompanySiteTermsURL:L.data.partner_company_information.site_terms_url,partnerCompanyCookiePolicy:L.data.partner_company_information.cookie_policy}),u({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.partnerCompanyLogo,name:L.data.partner_company_information.logo_name,source:L.data.partner_company_information.logo}})):D({partnerCompanyName:"",partnerCompanyLogo:"",partnerCompanyPrivacyPolicyURL:"",partnerCompanySiteTermsURL:"",partnerCompanyCookiePolicy:""})}else console.log(L.data,"error");i(!1)}):(D({partnerCompanyName:"",partnerCompanyLogo:"",partnerCompanyPrivacyPolicyURL:"",partnerCompanySiteTermsURL:"",partnerCompanyCookiePolicy:""}),i(!1))},[]);const E=(L,k)=>{const g=L.target.files[0];if(g&&g.name&&S&&S.current&&g.type.includes("image/")){const w=g.name;k("partnerCompanyLogo",w),r(Le.partnerCompanyLogo,g)}else N(w=>ue(Z({},w),{showAlert:!0,message:Pe.fileErrorMessage,severity:"error"}))},M=L=>{b.current.value="",L("partnerCompanyLogo",""),u({type:"SET_IMAGEFILE_CANCEL",payload:{key:Le.partnerCompanyLogo}})},U=Dt().shape({partnerCompanyName:q().trim().min(3,"Minimum 3 characters is required").required(Pe.partnerCompanyName),partnerCompanyPrivacyPolicyURL:q().trim().required(Pe.partnerCompanyPrivacyPolicyURL).matches(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/g,Pe.invalidURL),partnerCompanySiteTermsURL:q().trim().required(Pe.partnerCompanySiteTermsURL).matches(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/g,Pe.invalidURL),partnerCompanyCookiePolicy:q().trim().required(Pe.partnerCompanyCookiePolicy)});return t("div",{className:"create-partnership-main-container",children:[e(zn,{sx:{width:"75%"},children:e(Os,{activeStep:2,alternativeLabel:!0,children:a.map(L=>e(Ws,{children:e(Rs,{children:L})},L))})}),t("div",{className:"create-partnership-info-title",children:[Da.companyPartnerInfoTitle," "]})," ",W&&e(Rt,{innerRef:S,enableReinitialize:!0,initialValues:W,validate:()=>({}),validationSchema:U,onSubmit:L=>{i(!0),y(au(L,n,o,h,f,d[Le.partnerCompanyLogo].file,()=>i(!1)))},children:L=>{var re,ye,H;const{values:k,handleChange:g,handleSubmit:w,errors:x,touched:V,handleBlur:G,setFieldValue:ie,validateField:Y}=L;return e(qt,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onSubmit:w,children:t("div",{className:"create-partnership-info-form",children:[t("div",{className:"create-partnership-info-field",children:[e("div",{className:"create-partnership-label",children:Da.partnerCompanyName}),t("div",{children:[e(te,{className:"materialui-field",name:"partnerCompanyName",type:"text",value:k.partnerCompanyName,onChange:g,onBlur:G,hasError:x.partnerCompanyName&&V.partnerCompanyName,errorMessage:_.validationErrField==="company_name"?_.errorMsg:x.partnerCompanyName,placeholder:Da.partnerCompanyName,component:Se,classes:l}),$!==""&&_.validationErrField==="company_name"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px",maxWidth:"270px"},children:$}):e(le,{name:"partnerCompanyName"})]})]}),t("div",{className:"create-partnership-info-field position-relative",children:[e("div",{className:"create-partnership-label",children:Da.partnerCompanyLogo}),t("div",{children:[e(te,{name:"partnerCompanyLogo",component:Se,classes:l,type:"file",value:k.partnerCompanyLogo,hasError:x.partnerCompanyLogo&&V.partnerCompanyLogo,errorMessage:x.partnerCompanyLogo,placeholder:Da.partnerCompanyLogoLabel,InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:pe=>{b&&b.current&&b.current.click()},children:[e("input",{accept:"image/*",ref:b,type:"file",style:{display:"none"},onChange:pe=>{E(pe,ie),Y("partnerCompanyLogo")}}),e("img",{src:wa,alt:""})]})}),accept:"image/*",readOnly:!0}}),e(le,{name:"partnerCompanyLogo"})]}),e(ra,{id:"PartnerCompanyLogoCreatePage",alt:"partner company logo",src:(re=d[Le.partnerCompanyLogo])==null?void 0:re.source,show:((ye=d[Le.partnerCompanyLogo])==null?void 0:ye.source)&&((H=d[Le.partnerCompanyLogo])==null?void 0:H.name),classes:"partner-company-thumbnailImage",CustomStyles:{ContainerStyle:{position:"absolute",right:"-20%"}},CloseHandler:()=>M(ie)})]}),t("div",{className:"create-partnership-info-field",children:[e("div",{className:"create-partnership-info-field-policy-url create-partnership-label",children:Da.partnerCompanyPrivacyPolicyURL}),t("div",{children:[e(te,{type:"text",name:"partnerCompanyPrivacyPolicyURL",placeholder:Da.partnerCompanyPrivacyPolicyURLLabel,value:k.partnerCompanyPrivacyPolicyURL,onChange:g,onBlur:G,hasError:x.partnerCompanyPrivacyPolicyURL&&V.partnerCompanyPrivacyPolicyURL,errorMessage:x.partnerCompanyPrivacyPolicyURL,component:Se,classes:l}),e(le,{name:"partnerCompanyPrivacyPolicyURL"})]})]}),t("div",{className:"create-partnership-info-field",children:[e("div",{className:"create-partnership-info-field-siteterms-url create-partnership-label",children:Da.partnerCompanySiteTermsURL}),t("div",{children:[e(te,{type:"text",name:"partnerCompanySiteTermsURL",placeholder:Da.partnerCompanySiteTermsURLLabel,value:k.partnerCompanySiteTermsURL,onChange:g,onBlur:G,hasError:x.partnerCompanySiteTermsURL&&V.partnerCompanySiteTermsURL,errorMessage:x.partnerCompanySiteTermsURL,component:Se,classes:l}),e(le,{name:"partnerCompanySiteTermsURL"})]})]}),t("div",{className:"create-partnership-info-field",children:[e("div",{className:"create-partnership-info-field-cookie-policy create-partnership-label",children:Da.partnerCompanyCookiePolicy}),t("div",{children:[e(te,{type:"text",name:"partnerCompanyCookiePolicy",placeholder:Da.partnerCompanyCookiePolicyLabel,value:k.partnerCompanyCookiePolicy,onChange:g,onBlur:G,hasError:x.partnerCompanyCookiePolicy&&V.partnerCompanyCookiePolicy,errorMessage:x.partnerCompanyCookiePolicy,component:Se,classes:l}),e(le,{name:"partnerCompanyCookiePolicy"})]})]}),t("div",{className:"create-partnership-info-button-container",children:[e(At,{onClick:()=>n.push(`/createPartnership?form=CompanyInfo&type=update&partner_id=${h}`),style:{marginRight:"30px",minWidth:"160px"},children:ct.previous}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.previewAndSave})]})]})})}}),m===!0&&e(ft,{}),I.showAlert&&e(Ht,{severity:I.severity,handler:()=>{N(L=>ue(Z({},L),{showAlert:!1}))},showalert:I.showAlert,message:I.message})]})},yp=()=>{let a=new URLSearchParams(window.location.search);const n=a.get("form"),o=a.get("type")==="update",l=gt(),m=[Zs.step1,Zs.step2,Zs.step3];switch(n){case"PartnerShipInfo":return e(Ti,{steps:m,history:l,isUpdate:o});case"CompanyInfo":return e(gp,{steps:m,history:l,isUpdate:o});case"CompanyPartnerInfo":return e(fp,{steps:m,history:l,isUpdate:o});default:return e(Ti,{isUpdate:o,steps:m,history:l})}},vp=()=>{const a=st(fo);return t("div",{children:["Welcome ",a.email,e("br",{}),"Dashboard design goes here"]})},bp="_flexBackground_dny56_1",Cp="_container_dny56_21",Sp="_field_dny56_37",wp="_fieldAlignment_dny56_45",xp="_forgetLink_dny56_53",Ap="_error_dny56_61",Ip="_link_dny56_67",Tp="_signupBox_dny56_83",Np="_signInButton_dny56_95";var vn={flexBackground:bp,container:Cp,field:Sp,fieldAlignment:wp,forgetLink:xp,error:Ap,link:Ip,signupBox:Tp,signInButton:Np};const kp=({onSubmit:a,signInRespData:n})=>{const o=new Oo,l=yt(),m={email:o.get("rememberMe")==="true"?o.get("email"):"",password:"",rememberMe:o.get("rememberMe")==="true"},i=Dt({email:q().trim().email("Must be a valid email").required("Email is required"),password:q().trim().required("Password is required")}),[d,u]=s.exports.useState(!1),r=s.exports.useRef(null),c=h=>{h.preventDefault()},p=h=>{u(!d),r.current.children[0].children[0].focus(),setTimeout(()=>{r.current.children[0].children[0].setSelectionRange(h.length,h.length)},1)};return e("div",{children:e(Rt,{initialValues:m,validate:()=>({}),validationSchema:i,onSubmit:h=>{a(h)},children:h=>{const{values:y,handleChange:_,handleSubmit:b,errors:S,handleBlur:f,setFieldValue:A}=h;return t(qt,{onSubmit:b,children:[e(ls,{label:Ga.email}),e(te,{type:"email",name:"email",value:y.email,placeholder:Ga.email,component:fn,classes:l,onBlur:f,onChange:_,hasError:!0,errorMessage:n.validationErrField==="email"?n.errorMsg:S.email}),e(le,{name:"email"}),e(ls,{label:Ga.password}),e(te,{name:"password",className:"signInPwField",innerRef:r,type:d?"text":"password",value:y.password,placeholder:Ga.password,component:fn,classes:l,onBlur:f,onChange:_,hasError:!0,errorMessage:n.validationErrField==="password"?n.errorMsg:S.password,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{"aria-label":"toggle password visibility",onClick:()=>p(y.password),onMouseDown:c,children:d?e($a,{}):e(Fa,{})})})}}),e(le,{name:"password"}),t("div",{style:{display:"flex",margin:"3% 0"},className:`${vn.link} ${vn.forgetLink}`,children:[e(te,{name:"rememberMe",type:"checkbox",component:Gc,label:Ga.rememberMe,style:{color:"#707683",fontSize:"14px"},checked:y.rememberMe,onChange:()=>A("rememberMe",!y.rememberMe)}),e(bt,{href:"/forgotPassword",size:"small",children:Ga.forgotPassword})]}),e(bt,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:vn.signInButton,children:Ga.signInlabel})]})}})})},ki=()=>{const[a,n]=s.exports.useState(!1),o=rt(),l=gt(),m=st(Gu),[i,d]=Ie.useState(!1),[u,r]=Ie.useState(!1),[c,p]=Ie.useState(!0),h=async y=>{d(!0),o(Vu(y,l,a,()=>d(!1),()=>r(!0)))};return s.exports.useEffect(()=>{if(qw()===Tn.manager)n(!0),d(!1);else{n(!1);let y;window.location.hostname.split(".")[0]==="localhost"?y="subdomain1":y=window.location.hostname.split(".")[0],fe(`partnership/sales-hub/site/is-available/?subdomain=${y}`).then(_=>{_.result===!0?(localStorage.setItem("subDomainName",y),d(!1),p(!0),console.log("signedin")):(d(!1),window.location.assign(`${window.location.href}pageNotFound`),console.log("notsignedin"))})}},[a]),s.exports.useEffect(()=>{d(!0)},[]),e(xe,{children:c&&t("div",{className:vn.flexBackground,children:[t("div",{className:vn.container,children:[e("h2",{children:Ga.signInlabel}),e(kp,{onSubmit:({email:y,password:_,rememberMe:b})=>{h({email:y,password:_,rememberMe:b})},signInRespData:m}),t("div",{className:`${vn.link} ${vn.signupBox}`,children:[Ga.signUpLabel," ",e(bt,{href:"/signUp",size:"small",className:vn.linkBtn,children:Ga.signUpButton})]})]}),i===!0&&e(ft,{}),u&&e(Ht,{severity:"error",handler:()=>r(!1),showalert:m.errorMsg!=="",message:m.errorMsg})]})})},Mp="_flexBackground_987uw_1",Lp="_container_987uw_15",$p="_field_987uw_27",Fp="_fieldAlignment_987uw_35",Ep="_error_987uw_43",Dp="_sendBtn_987uw_49",Pp="_forgotPasswordContent_987uw_57",Hp="_link_987uw_69",Bp="_signIn_987uw_85",Op="_mailReceiveTxt_987uw_109";var Za={flexBackground:Mp,container:Lp,field:$p,fieldAlignment:Fp,error:Ep,sendBtn:Dp,forgotPasswordContent:Pp,link:Hp,signIn:Bp,mailReceiveTxt:Op};const Mi=()=>{const a=yt(),n={email:""};gt();const o=Dt({email:q().email("Must be a valid email").required("Email is required")}),[l,m]=Ie.useState(""),[i,d]=Ie.useState(""),[u,r]=Ie.useState(!1),[c,p]=Ie.useState(!1),[h,y]=Ie.useState(!1),[_,b]=Ie.useState({msg:"",result:!1}),S=f=>{r(!0),xt("users/forgot-password/",{email:f.email}).then(A=>{y(!0),A.result===!0?(b(A),d(f.email),p(!0),r(!1)):(b(A.data),d(f.email),p(!0),r(!1))})};return t("div",{className:Za.flexBackground,children:[t("div",{className:Za.container,children:[e("h2",{children:hn.forgotPasswordLabel}),e("div",{className:Za.forgotPasswordContent,children:hn.forgotPasswordContent}),e(xe,{children:e(Rt,{initialValues:n,validationSchema:o,onSubmit:f=>{S(f)},children:f=>{const{values:A,handleChange:I,handleSubmit:N,errors:W,touched:D,handleBlur:$}=f;return t(qt,{onSubmit:N,children:[e(ls,{label:hn.email}),e(te,{type:"email",name:"email",value:A.email,placeholder:hn.email,component:fn,classes:a,onBlur:$,onChange:I,hasError:W.email&&D.email,errorMessage:W.email}),l!==""?e("div",{style:{color:`${_.result===!1?"red":"green"}`,fontSize:"12px",paddingBottom:"10px"},children:l}):e(le,{name:"email"}),e(bt,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:Za.sendBtn,children:hn.send})]})}})}),h&&t("div",{className:`${Za.link} ${Za.mailReceiveTxt}`,children:[hn.mailReceiveLabel," ",e(bt,{onClick:()=>S({email:i}),size:"small",className:Za.linkBtn,children:hn.resend})]}),e("div",{className:`${Za.link} ${Za.signIn}`,children:e("a",{href:"/",className:Za.linkBtn,rel:"noreferrer",children:hn.signIn})})]}),u===!0&&e(ft,{}),c&&e(Ht,{severity:_.result?"success":"error",handler:()=>p(!1),showalert:_.msg!=="",message:_.msg})]})},Wp="_flexBackground_h3thp_1",Rp="_container_h3thp_15",qp="_field_h3thp_27",zp="_fieldAlignment_h3thp_35",Up="_error_h3thp_43",jp="_sendBtn_h3thp_51",Vp="_createAccountWrap_h3thp_59",Gp="_link_h3thp_71",Jp="_mailReceiveTxt_h3thp_85",Zp="_successMsg_h3thp_93",Yp="_tickSvg_h3thp_105",Kp="_msgWrap_h3thp_111",Xp="_signIn_h3thp_133";var rn={flexBackground:Wp,container:Rp,field:qp,fieldAlignment:zp,error:Up,sendBtn:jp,createAccountWrap:Vp,link:Gp,mailReceiveTxt:Jp,successMsg:Zp,tickSvg:Yp,msgWrap:Kp,signIn:Xp};const Li=()=>{const a=yt(),n={newPassword:"",confirmPassword:""},o=gt(),l=Dt({newPassword:q().required("New password is required").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{5,17}$/,"Valid password should include 5 to 17 characters, upper, lower case, numeric and special characters"),confirmPassword:q().required("Confirm password is required").oneOf([ns("newPassword"),null],"Passwords must match")}),[m,i]=Ie.useState(!1),[d,u]=Ie.useState(!1),[r,c]=Ie.useState(!1),[p,h]=Ie.useState(""),[y,_]=Ie.useState(!1),[b,S]=Ie.useState(!1),f=new URLSearchParams(window.location.search).get("token"),A=Ie.useRef(null),I=Ie.useRef(null);s.exports.useEffect(()=>{S(!0),fe(`users/password-reset?token=${f}`).then($=>{$.result===!0?c(!1):(h("Token Invalid"),c(!0),_(!1)),S(!1)})},[]);const N=$=>{$.preventDefault()},W=($,P)=>{$==="newPass"?(i(!m),A.current.children[0].children[0].focus(),setTimeout(()=>{A.current.children[0].children[0].setSelectionRange(P.length,P.length)},1)):(u(!d),I.current.children[0].children[0].focus(),setTimeout(()=>{I.current.children[0].children[0].setSelectionRange(P.length,P.length)},1))},D=$=>{S(!0),xt("users/password-reset/",{token:f,password:$.newPassword,confirm_password:$.confirmPassword}).then(P=>{P.result===!0?(h(P.msg),_(P.result),c(!0)):(h(P.data.msg),_(P.data.result)),S(!1)})};return t(xe,{children:[r===!1&&e("div",{className:rn.flexBackground,children:t("div",{className:rn.container,children:[e("h2",{children:_n.resetPassword}),e(xe,{children:e(Rt,{initialValues:n,validate:()=>({}),validationSchema:l,onSubmit:$=>{D($)},children:$=>{const{values:P,handleChange:E,handleSubmit:M,errors:U,touched:L,handleBlur:k}=$;return t(qt,{onSubmit:M,children:[e(ls,{label:_n.newPassword}),e(te,{type:m?"text":"password",name:"newPassword",innerRef:A,value:P.newPassword,placeholder:_n.newPassword,component:fn,classes:a,onBlur:k,onChange:E,hasError:U.newPassword&&L.newPassword,errorMessage:U.newPassword,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>W("newPass",P.newPassword),onMouseDown:N,children:m?e($a,{}):e(Fa,{})})})}}),e(le,{name:"newPassword"}),e(ls,{label:_n.confirmPassword}),e(te,{type:d?"text":"password",name:"confirmPassword",innerRef:I,value:P.confirmPassword,placeholder:_n.confirmPassword,component:fn,classes:a,onBlur:k,onChange:E,hasError:U.confirmPassword&&L.confirmPassword,errorMessage:U.confirmPassword,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>W("confirmPass",P.confirmPassword),onMouseDown:N,children:d?e($a,{}):e(Fa,{})})})}}),e(le,{name:"confirmPassword"}),e(bt,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:rn.sendBtn,children:_n.changePassword}),e("div",{className:`${rn.link} ${rn.signIn}`,children:e(bt,{onClick:()=>o.push("/"),size:"small",children:_n.signIn})})]})}})})]})}),r===!0&&e("div",{className:rn.successMsg,children:y===!0?t("div",{className:rn.msgWrap,children:[e("div",{className:rn.tickSvg,children:e(Pr,{color:"primary",fontSize:"large"})}),e("h3",{children:p}),e("a",{onClick:()=>o.push("/"),className:rn.linkBtn,rel:"noreferrer",children:_n.signInwithNewPw})]}):e("h3",{style:{color:"#4C70E3",fontSize:"24px",textTransform:"capitalize"},children:p})}),b===!0&&e(ft,{})]})};var vo="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAHgAAAB4CAYAAAA5ZDbSAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAApkSURBVHgB7Z1NbFxXFcf/dzz+IiaxJUSKhOhEhbKL3U2LhCjjRcMK0tBlEXYkJCSKlDRIXZJkCxJ1JGCBkGpDYYNojLoCFpkWKlFYZJwNooD6girUSCCPjeuPzvhdznkfk+fxe/Pem3kf947vTxpNZuxxZub/zrn/d+657wqMAJtSzlb3sSCBmhBYqAickRI1+hHfQM/PCrqFvNSCQIt+oUWva9k2NujxJj3e6EyhOSdEC5ojoCH/25N1eufzJGSdhFyAJ2QOWCR805ZosOgfnRYNaIYWAjsReoAlerPPUjQuRERj7tD/3aKDqiEF1tuHeGNuWlhQHGUFDopKD+tQkwYqWFVZbOUE5vRLkbJMqfFiWZE6EAKr0saaamlcGYFZWBL1OtSN1mTQmE23lZkJsQYFKF1gT9hXkJ9RKguL0veNsoUuTeCRidh4LHL6l8tK3YULvLkna+NuxNZxkqAxum3jZtFmrIIC2d2XV6oCd3HSxGUklunAvvvBgbyOAikkgk9s1EZjtSUWi4jm3CP4REdtNHzA393Zl1eRM7lFMBcqxg8cE5X7h9CclZkp8SJyIheBnZRcwW24dWJDPLml7MxT9OaOXKD0c8eImwpO2Xc4MJAxmQq8fSCfrVZJ3NErWhSBMy7zd4gMyUzgvQ/lUkXitlb1Y/WY5e+Qv0tkRCZjML+hQxurMGTGWAXL0xmUOYcW2IibH1mIPJTAPF5wSoEhN2yBS6cnxToGZGCB2fFxAcOMubnTIqe0SLNSTQzAQCbLKz3eMeIWwixs3B70FGqgCKYS27swp0LFItBsT1AxJGWnZ+oIJnFfhhG3eKhw5JV+U5FKYJ44gKktl8nVtBMUiVO0MVXK0KK69RNJ69aJI9iYKmWY9ebWE5FIYK8LoQaDKtSTpurYFG1Ss7IkStWxETwG3DDiKkmiVN03gr3W1jswKIuUWOzXkts3gkWKwdxQDl5veSSRAm/vyWUYY6UDdWc5bQSRKdqUI7XCmpkS58J+EBrBJnq1oxYVxaECVwSuwKAVUWPxMYG9I8F0ROpH6Fh8TGBefA2DlogKjjXrHTFZ3kT+uzDoSqs9iXPBOeMjETxm1g/pDi8XWg4+UQ0+IHOVWT/uMOzsA7+9B2z8y/236jxyBrhwnozLo1CBi3Rb8R90U7Qq6fl9Si7feZXut6Adzz0JfOsZlA6l6Tk/TXdTtCrpWVdxmV//mW5/QekE03RXYHJgF1EynJZ1FdfnZ28qMax0tXwosCw/gpv3oT0srgIHabeO4Zgs7wRZyTnfs2Rglp52jYxq8AH5GqXlnYOjz39QfgTPsqY8jegILHgtr6IXNXyw5aa9r5PIXzoPJWAj+OPfA2+9A2Xhq+7SXcNJ0XIMX4QCRB35nPK+9zrw/A/dL7dM2Eh986dqi8tIzzQ7AgtFVuP3prpeWOjnfwSs/QGF848HwLVX3ciNe58qQAl5nu+rm5uSx94aNIJT9u82iknbbJr4gOKxVjNqfCGcSnVK7ZkjLh6cDTFYftrmW15pm00Up+Mocec/pab58+Gr4FdVNljM5x8HvvqkG7V8ntyLU9K8n200x5koPuBeuOC+t2sKF2Z4i4OKFOq3xHKUvPRl4Bff7h/NWZiwOBPFGeUn33DFVR1n/wqyWfPQBBb6lyTy0hfCfz6MCYszUY+dBX7wNbfWPDMFLeDNSThFa9fUzun4wnx02k5jwuJM1KlJYPlpd5jQDd55hgsdWq5a8NP2PE3Rrb3pFkSC+GnbGZ8p4h8J+ZRsor7/evQYyibqpa+obaRi0FdgH45QFjmNCUtjonSHBa5Bc/xoZhGv/Tw6mvkg4NT+2tvRxQo2URzxuoyzMcxWMUL4JoyFDDNa73t17TDYRL3wjJsNRojREtgnzoQF0dlEJWEkBWbiTBgzAiYqlpEV2CfMhI2SiYqDBebaz0gv8A6aMD4/5nSclYl67ONwaoJBVDJoJ0JgHxaaRc4SzgQKYxW6rY6hcFossAXDqNKq2BIj0MtoCIOswVaFJhtK7nIaLXYPJJRBosnzwQNdh9hwnHv3P8Rbfz3A9q4aItN8MO9YbsbgLGBx3/vPIdqHEm+/o4bIkiO4s28ieFh8cX1UEbkzRQLPzTmr0CwYBqJXXB8WeXvXRolYvMLQbXw343CXdid51EWJy5x/dAKf/NgYyoI+xQbfu43vh3gDBrz33w7+SCYpiRNWWVyGvFWD700Ee7C496w27wPljJ/9RFZdXIYNFt93O6J39uUmSq5Jf/dXx9toPk0T8acyLN5zVyT/zSC+uEGmJwSeenwSH5k82jSug7hEa2ZKzPE/gtOFrHgdJRLW88ztrFkStsDt7//uHHvOj+SgyJqIy+Nvd8h9ONlg4zcomeeeQil87rOTTsT2EkzXuojLiMrD3ei6ArcPyt9/kKfzopra84TF7ScyGy9dxGXahyER7J0PN1AyPF/Lk/NnC26j6Sdy5zDccKkoLtEIXub/yKfZ2ZVXSfKXoQj/fJD9BU24e7JfxwVH7J/+duDc90NRcTlkl2cCO5YevZThppwdn3aulXWi92iIE1lZcYm2xLlgBB/p6OA0TfPDpZutsumXrlUWl8J1tXcXlsrx3zGbPTNhIistLiFtHNtMOnTpNxU9eKeVOgzddP2ZT4wrLS7RpOLGE71PhgpsttM5Cs8MjY8pfBkEpsdc+ZhNOUaDdJtyMFSsvgyDHlRwI+pHffOOGYu1IDJ6mb6N7xTFN2FQmrhM21dgb0+8BgxqQue9/fYtdH8lBu9K8HdhdiBVCqqxtTpZbC/Lf4DmUUyqVg2JW0m2eU98cmcMl1L0NVZBEq8ubLuDuVnmUjLS3fl7MenvJxbYpGo1oJR7M0lq9km1PvjMlFihgvYtGEqBovcWpeaVNK9JXWD15ox5PDYbWBaL1Z4k1xzYti4JqVf485wxjQGXYJa7FInF425acZmBp0h2duQCqk4km/PjHEl6vhvFwNfomJkRTfvQTEjkjRS4PKi4zFAXYTl9SqzbZtYpP+i7PT0p1jEEmcxib+/J5YrAKzBkB4k7My1WMSSZtSkYkTMkI3GZzK6TdZreEI3J7K5NtWtA2FDZApeyEpfJvNHIm31id12DIQ1Wu4NLc2RekSG5dJIZkVMi0GzbJO4QbjmKXC5lyG+UZztMWTMeLj+2J6iIkYO4TO69oFv78uoYcB2mIHIEHm954iBtbTkthTT7mpR9jAZPv+YVtUEKudpsN2W7TXwn1mVL97O/SN/FYhHiMoW363M0U8q+QefMSzhZFBa1QUpbj+Etj+HCSA2jTYMzV1z3Y16UvuDGq4CxCathtLC4Z7ksYX2UWVHlCX0F+jcSlBqxvSi3ZI5TN5mRZZ3GaOeUR2Cd1+eqIqyPsmsiPTNW94SuQ00aJO56ZxJrg3RbFIHii15dfLHHBC7adC9KKpp4xYmm6qIG0ULgXjiN0zufp5N4Tuc8ZteQDxYLavP6LIkN1dJvErQUuJdNKWer+yQ0iU5CzFFan5dulPu3Wu9rvGj0I9CiMdSyJbb4Ip58FXy+mLYOERrH/wE3IUiYABmivgAAAABJRU5ErkJggg==";const Qp="_flexBackground_o9pl6_1",eh="_container_o9pl6_15",th="_mailSentTxt_o9pl6_29",ah="_link_o9pl6_35",nh="_mailReceiveTxt_o9pl6_49",sh="_verifyTitle_o9pl6_57",oh="_mailSent_o9pl6_29",ih="_mail_o9pl6_29",rh="_spam_o9pl6_81",lh="_verifyTxt_o9pl6_89",ch="_signIn_o9pl6_99";var sa={flexBackground:Qp,container:eh,mailSentTxt:th,link:ah,mailReceiveTxt:nh,verifyTitle:sh,mailSent:oh,mail:ih,spam:rh,verifyTxt:lh,signIn:ch};const dh={email:"",errorMsg:"",validationErrField:""},$i=en({name:"signUp",initialState:dh,reducers:{setEmail(a,{payload:n}){a.email=n.email},setErrMsg(a,{payload:n}){a.errorMsg=n.errorMsg,a.validationErrField=n.validationErrField}}}),{setEmail:Fi,setErrMsg:cs}=$i.actions,mh=(a,n,o,l,m,i)=>d=>{o!==!0?xt("users/signup/",{first_name:a.firstName,last_name:a.lastName,email:a.workEmail,password:a.password,source:"web"}).then(u=>{u.result===!0?(n.push("/verifyMail"),d(Fi({email:u.data.email})),d(cs({errorMsg:"",validationErrField:""})),m()):(d(cs({errorMsg:u.data.msg,validationErrField:u.data.validation_error_field})),m(),i())}):xt("users/signup/saleshub-account/",{first_name:a.firstName,last_name:a.lastName,email:a.workEmail,company_information_id:a.companyName,role_id:a.role,sales_region:a.salesRegion,password:a.password,subdomain_name:l,source:"web"}).then(u=>{u.result===!0?(n.push("/verifyMail"),d(Fi({email:u.data.email})),d(cs({errorMsg:"",validationErrField:""})),m()):(u.data.msg?(d(cs({errorMsg:u.data.msg,validationErrField:u.data.validation_error_field})),i()):(d(cs({errorMsg:"User not allowed",validationErrField:"User not allowed"})),i()),m())})},bo=a=>a.signUpSlice;var uh=$i.reducer;const Ei=()=>{const a=rt(),n=gt(),o=st(bo),[l,m]=s.exports.useState(!1),[i,d]=s.exports.useState({showAlert:!1,severity:"",message:""}),u=()=>{m(!0),xt("users/resend-verification-mail/",{email:o.email}).then(r=>{r.result===!0?(m(!1),console.log(r.data.result,r.result,r.data.msg,r.msg),d(c=>ue(Z({},c),{showAlert:!0,message:r.msg,severity:"success"}))):(m(!1),d(c=>ue(Z({},c),{showAlert:!0,message:r.data.msg,severity:"error"})))})};return t("div",{className:sa.flexBackground,children:[t("div",{className:sa.container,children:[t("div",{className:sa.mailImgWrap,children:[" ",e("img",{src:vo,alt:"",className:"mailImg"})]}),e("div",{className:sa.verifyTitle,children:pn.verifyEmail}),t("div",{className:`${sa.verifyTxt} ${sa.mailSent}`,children:[e("div",{className:sa.mailSentTxt,children:pn.emailSentTxt}),t("div",{className:sa.mailSentTxt,children:[pn.address," ",e("span",{className:sa.mail,children:o.email})]})]}),t("div",{className:sa.verifyTxt,children:[t("div",{className:`${sa.link} ${sa.mailReceiveTxt}`,children:[pn.mailReceiveLabel," ",e(bt,{size:"small",className:sa.linkBtn,onClick:()=>a(u),children:pn.resend})]}),t("div",{children:[pn.checkTxt," ",e("span",{className:sa.spam,children:pn.spamMail})]}),e("div",{className:`${sa.link} ${sa.signIn}`,children:e(bt,{size:"small",onClick:()=>n.push("/"),children:pn.signIn})})]})]}),l===!0&&e(ft,{}),i.showAlert&&e(Ht,{severity:i.severity,handler:()=>{d(r=>ue(Z({},r),{showAlert:!1}))},showalert:i.showAlert,message:i.message})]})},ph="_flexBackground_cmxl7_1",hh="_container_cmxl7_21",_h="_field_cmxl7_37",gh="_error_cmxl7_47",fh="_sendBtn_cmxl7_55",yh="_createAccountWrap_cmxl7_69",vh="_link_cmxl7_79",bh="_mailReceiveTxt_cmxl7_93",Ch="_termsWrap_cmxl7_105",Sh="_select_field_cmxl7_117";var la={flexBackground:ph,container:hh,field:_h,error:gh,sendBtn:fh,createAccountWrap:yh,link:vh,mailReceiveTxt:bh,termsWrap:Ch,select_field:Sh};const Di=()=>{const a=yt(),n=rt(),o=gt(),[l,m]=s.exports.useState(!1),[i,d]=s.exports.useState(""),u=st(bo),[r,c]=s.exports.useState(!1),[p,h]=Ie.useState(!0),[y,_]=Ie.useState(!1),[b,S]=Ie.useState([]),[f,A]=Ie.useState([]),I=Ie.useRef(null),N={firstName:"",lastName:"",workEmail:"",password:"",companyName:"",role:"1",salesRegion:"",termsAgreed:!1},W=Dt({firstName:q().trim().min(3,"Minimum 3 characters is required").required("First name is required"),lastName:q().trim().required("Last name is required"),workEmail:q().trim().email("Enter a valid email").required("Email is required"),companyName:q().trim().required("Company name is required"),role:q().trim().required("Role is required"),salesRegion:q().trim().required("Sales region is required"),password:q().trim().required("Password is required").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{5,17}$/,"Valid password should include 5 to 17 characters, upper, lower case, numeric and special characters")}),D=Dt({firstName:q().trim().min(3,"Minimum 3 characters is required").required("First name is required"),lastName:q().trim().required("Last name is required"),workEmail:q().trim().email("Must be a valid email").required("Email is required"),password:q().trim().required("Password is required").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{5,17}$/,"Valid password should include 5 to 17 characters, upper, lower case, numeric and special characters")}),$=L=>{L.preventDefault()},P=L=>{c(!r),I.current.children[0].children[0].focus(),setTimeout(()=>{I.current.children[0].children[0].setSelectionRange(L.length,L.length)},1)},E=L=>{console.log(L),n(mh(L,o,l,i,()=>h(!1),()=>_(!0)))},M=()=>{localStorage.getItem("token"),fe(`partnership/get-company-information-list/?domain_name=${i}`,{}).then(L=>{if(L){console.log(L.data);const k=L.data;S(k)}}).catch(L=>console.log(L))},U=()=>{fe("partnership/get-roles/",{}).then(L=>{if(L){console.log(L.data);const k=L.data;A(k)}}).catch(L=>console.log(L))};return s.exports.useEffect(()=>{const k=window.location.href.split("."),g=k[0].split("//");d(g[1]),console.log("url",g,k[0]),k[0]==="https://portal"?m(!1):m(!0),h(!1)},[]),s.exports.useEffect(()=>{console.log("url",l),l===!0&&(M(),U()),h(!1)},[i]),console.log(p,"load"),t("div",{className:la.flexBackground,children:[t("div",{className:la.container,children:[e("h2",{children:Tt.createAccount}),e("div",{className:la.createAccountWrap,children:Tt.accountSetupContent}),e(xe,{children:e(Rt,{initialValues:N,validationSchema:l?W:D,onSubmit:async L=>{h(!0),E(L)},children:L=>{const{values:k,handleChange:g,handleSubmit:w,errors:x,touched:V,handleBlur:G,setFieldValue:ie}=L;return t(qt,{onSubmit:w,children:[e(In,{label:Tt.firstName}),e(te,{type:"text",name:"firstName",value:k.firstName,placeholder:Tt.firstName,component:Qt,classes:a,onBlur:G,onChange:g,hasError:x.firstName&&V.firstName,errorMessage:x.firstName}),e(ut,{name:"firstName"}),e(In,{label:Tt.lastName}),e(te,{type:"text",name:"lastName",value:k.lastName,placeholder:Tt.lastName,component:Qt,classes:a,onBlur:G,onChange:g,hasError:x.lastName&&V.lastName,errorMessage:x.lastName}),e(ut,{name:"lastName"}),l&&b.length>0?t(xe,{children:[e(In,{label:Tt.companyName}),e("div",{className:`${la.semiField} ${la.select_field}`,children:e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"companyName",value:k.companyName,displayEmpty:!0,renderValue:k.companyName!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",Tt.companyName]}),onChange:g,onBlur:G,className:la.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:b.map(Y=>e(Ue,{value:Y.company_information_id,children:Y.company_name},Y.company_information_id))})}),e(ut,{name:"companyName"})]}):null,l&&f.length>0?t(xe,{children:[e(In,{label:Tt.role}),e("div",{className:`${la.semiField} ${la.select_field}`,children:e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"role",defaultValue:1,value:k.role,displayEmpty:!0,renderValue:k.role!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",Tt.role]}),onChange:g,onBlur:G,className:la.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:f.map(Y=>e(Ue,{value:Y.role_id,children:Y.name},Y.role_id))})}),e(ut,{name:"role"}),e(In,{label:Tt.salesRegion}),e(te,{type:"text",name:"salesRegion",value:k.salesRegion,placeholder:Tt.salesRegion,component:Qt,classes:a,onBlur:G,onChange:g,hasError:!0,errorMessage:x.salesRegion}),e(ut,{name:"salesRegion"})]}):null,e(In,{label:Tt.workEmail}),e(te,{type:"email",name:"workEmail",value:k.workEmail,placeholder:Tt.workEmail,component:Qt,classes:a,onBlur:G,onChange:g,hasError:!0,errorMessage:x.workEmail}),e(ut,{name:"workEmail"}),e(In,{label:Tt.password}),e(te,{type:r?"text":"password",name:"password",innerRef:I,value:k.password,placeholder:Tt.password,component:Qt,classes:a,onBlur:G,onChange:g,hasError:x.password&&V.password,errorMessage:x.password,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>P(k.password),onMouseDown:$,children:r?e($a,{}):e(Fa,{})})})}}),e(ut,{name:"password"}),t("div",{style:{display:"flex"},className:`${la.link} ${la.termsWrap}`,children:[e(te,{name:"termsAgreed",type:"checkbox",component:Js,label:Tt.agreeTxt,checked:k.termsAgreed,onChange:Y=>ie("termsAgreed",Y)}),e(bt,{href:"/terms",size:"small",children:Tt.termsAndConditions})]}),e(bt,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:la.sendBtn,disabled:k.termsAgreed===!1||k.firstName===""||k.lastName===""||k.password===""||k.workEmail==="",children:Tt.signUpButton})]})}})}),t("div",{className:`${la.link} ${la.mailReceiveTxt}`,children:[Tt.alreadyHaveAccount," ",e(bt,{href:"/",size:"small",className:la.linkBtn,children:Tt.signInlabel})]})]}),p===!0&&e(ft,{}),y&&e(Ht,{severity:"error",handler:()=>_(!1),showalert:u.errorMsg!=="",message:u.errorMsg})]})},wh=()=>e("div",{children:"Profile design goes here"});const xh=a=>{const n=yt(),o=new URLSearchParams(window.location.search),l=o.get("partner_id")||"0",m=o.get("isCreated")||"0",[i,d]=s.exports.useState(!0),[u,r]=s.exports.useState(!0),[c,p]=s.exports.useState(!0);s.exports.useState(!0);const h=localStorage.getItem("token"),y=gt(),_=rt(),b=st(En),S=ps(),f=s.exports.useRef(null),A=s.exports.useRef(null),I=s.exports.useRef(null),[N,W]=s.exports.useState(),[D,$]=s.exports.useState(""),[P,E]=s.exports.useState(""),[M,U]=s.exports.useState(!1),[L,k]=s.exports.useState(!1),[g,w]=s.exports.useState(!1),[x,V]=s.exports.useState({showAlert:!1,severity:"",message:""}),[G,ie]=s.exports.useState(""),[Y,re]=s.exports.useState(!1),[ye,H]=s.exports.useState(!1),[pe,v]=s.exports.useState(!1),[R,K]=s.exports.useState(!0),[de,ve,ke]=yn([Le.companyLogo,Le.partnerCompanyLogo]),Oe=(se,ge)=>{H(!0),se===Le.companyLogo?(ge("companyLogo",""),f.current.value="",ve({type:"SET_IMAGEFILE_CANCEL",payload:{key:Le.companyLogo}})):se===Le.partnerCompanyLogo&&(ge("partnerCompanyLogo",""),A.current.value="",ve({type:"SET_IMAGEFILE_CANCEL",payload:{key:Le.partnerCompanyLogo}}))},Ae=()=>{U(!0);const se={Authorization:`Token ${h}`};mn(`partnership/${l}`,se).then(ge=>{ge&&ge.result===!0&&(w(!1),V(ce=>ue(Z({},ce),{showAlert:!0,message:Be.snackbarDeleteMsg,severity:"success"})),setTimeout(()=>{y.push("/accountSetup")},3e3))})};s.exports.useEffect(()=>{m==="1"&&H(!0)},[m]),s.exports.useEffect(()=>{const se=setTimeout(()=>ie(""),1e4);return ie(b.errorMsg),()=>clearTimeout(se)},[b]),s.exports.useEffect(()=>{U(!0),ie(""),_(na({errorMsg:"",validationErrField:"",timeStamp:0})),fe(`partnership/?partnership_id=${l}`,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${h}`}).then(se=>{const ge=se.data.company_information,ce=se.data.partner_company_information;if(se.result===!0){let oe,T;!ge&&!ce?($(""),E(""),W({partnershipName:se.data.partnership_name,websiteSubDomain:se.data.content_hub_subdomain_name,whitelistedDomain:se.data.whitelisted_domains,companyName:"",companyAddress:"",city:"",country:"",privacyPolicyURL:"",siteTermsURL:"",cookiePolicy:"",companyLogo:"",state:"",zipCode:"",partnerCompanyName:"",partnerCompanyLogo:"",partnerCompanyPrivacyPolicyURL:"",partnerCompanySiteTermsURL:"",partnerCompanyCookiePolicy:""})):ge&&!ce?(oe=se.data.company_information.company_information_id,$(oe),E(""),W({partnershipName:se.data.partnership_name,websiteSubDomain:se.data.content_hub_subdomain_name,whitelistedDomain:se.data.whitelisted_domains,companyName:se.data.company_information.company_name,companyAddress:se.data.company_information.company_address,city:se.data.company_information.city,country:se.data.company_information.country,privacyPolicyURL:se.data.company_information.privacy_policy_url,siteTermsURL:se.data.company_information.site_terms_url,cookiePolicy:se.data.company_information.cookie_policy,companyLogo:se.data.company_information.logo_name,state:se.data.company_information.state,zipCode:se.data.company_information.zipcode,partnerCompanyName:"",partnerCompanyLogo:"",partnerCompanyPrivacyPolicyURL:"",partnerCompanySiteTermsURL:"",partnerCompanyCookiePolicy:""}),ve({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.companyLogo,name:se.data.company_information.logo,source:se.data.company_information.thumbnail_logo}})):ge&&ce&&(oe=se.data.company_information.company_information_id,T=se.data.partner_company_information.partner_company_information_id,$(oe),ve({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.companyLogo,name:se.data.company_information.logo,source:se.data.company_information.thumbnail_logo}}),ve({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.partnerCompanyLogo,name:se.data.partner_company_information.logo,source:se.data.partner_company_information.thumbnail_logo}}),E(T),W({partnershipName:se.data.partnership_name,websiteSubDomain:se.data.content_hub_subdomain_name,whitelistedDomain:se.data.whitelisted_domains,companyName:se.data.company_information.company_name,companyAddress:se.data.company_information.company_address,city:se.data.company_information.city,country:se.data.company_information.country,privacyPolicyURL:se.data.company_information.privacy_policy_url,siteTermsURL:se.data.company_information.site_terms_url,cookiePolicy:se.data.company_information.cookie_policy,companyLogo:se.data.company_information.logo_name,state:se.data.company_information.state,zipCode:se.data.company_information.zipcode,partnerCompanyName:se.data.partner_company_information.company_name,partnerCompanyLogo:se.data.partner_company_information.logo_name,partnerCompanyPrivacyPolicyURL:se.data.partner_company_information.privacy_policy_url,partnerCompanySiteTermsURL:se.data.partner_company_information.site_terms_url,partnerCompanyCookiePolicy:se.data.partner_company_information.cookie_policy}))}U(!1)})},[S]);const qe=(se,ge)=>{const ce=se.target.files[0];if(ce&&ce.name&&I&&I.current&&ce.type.includes("image/")){const oe=ce.name;ke(Le.partnerCompanyLogo,ce),ge("partnerCompanyLogo",oe)}else V(oe=>ue(Z({},oe),{showAlert:!0,message:Be.fileErrorMessage,severity:"error"}))},_e=(se,ge)=>{const ce=se.target.files[0];if(ce&&ce.name&&I&&I.current&&ce.type.includes("image/")){ke(Le.companyLogo,ce);const oe=ce.name;ge("companyLogo",oe)}else V(oe=>ue(Z({},oe),{showAlert:!0,message:Be.fileErrorMessage,severity:"error"}))},We=Dt().shape({partnershipName:q().trim().min(3,"Minimum 3 characters is required").required(Pe.partnershipName),websiteSubDomain:q().trim().matches(/^[a-zA-Z]+[a-zA-Z\d\-]*$/,"Enter a valid subdomain name").required(Pe.websiteSubDomain),companyName:q().trim().min(3,"Minimum 3 characters is required").required(Pe.companyName),companyAddress:q().trim().min(3,"Minimum 3 characters is required").required(Pe.companyAddress),city:q().trim().min(3,"Minimum 3 characters is required").required(Pe.city),state:q().trim().min(2,"Minimum 2 characters is required").required(Pe.state),country:q().trim().min(3,"Minimum 3 characters is required").required(Pe.country),zipCode:q().trim().required(Pe.zipCode).matches(/^(?=.*\d)[\d ]+$/,Pe.invalidZipCode),privacyPolicyURL:q().trim().required(Pe.privacyPolicy).matches(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/g,Pe.invalidURL),siteTermsURL:q().trim().required(Pe.siteTermsURL).matches(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/g,Pe.invalidURL),cookiePolicy:q().trim().required(Pe.cookiePolicy),partnerCompanyName:q().trim().min(3,"Minimum 3 characters is required").required(Pe.partnerCompanyName),partnerCompanySiteTermsURL:q().trim().required(Pe.partnerCompanySiteTermsURL).matches(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/g,Pe.invalidURL),partnerCompanyCookiePolicy:q().trim().required(Pe.partnerCompanyCookiePolicy),partnerCompanyPrivacyPolicyURL:q().trim().required(Pe.partnerCompanyPrivacyPolicyURL).matches(/^(?:(?:https?|ftp):\/\/)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:\/\S*)?$/g,Pe.invalidURL)}),Te=(se,ge,ce)=>{ge("whitelistedDomain",[...ce.whitelistedDomain,se])},Qe=(se,ge,ce)=>{H(!0),console.log("delete",se);const oe=ce.whitelistedDomain.filter(T=>T!==se);ge("whitelistedDomain",oe)},vt=()=>{w(!1)};return t("div",{className:"main_div",children:[e("div",{className:g?"modalActive":"modal",children:t("div",{className:"modalcontent",children:[e("p",{className:"modalcontenttitle",children:un.deletePartnership}),e("p",{className:"modalSecContenttitle",children:un.confirmDelete}),e(At,{onClick:vt,style:{minWidth:"160px",marginRight:"10px"},children:un.cancelButton}),e(Ke,{onClick:Ae,style:{minWidth:"160px"},children:un.deleteButton})]})}),e("div",{className:"preview_partnership_main_card",children:N&&e(Rt,{innerRef:I,enableReinitialize:!0,initialValues:N,validate:()=>({}),validationSchema:We,onSubmit:se=>{se.whitelistedDomain.length===0?re(!0):(U(!0),_(Qm({partnerCompanyName:se.partnerCompanyName})),_(nu(ue(Z({},se),{whitelistedDomain:se.whitelistedDomain}),l,D,P,de[Le.companyLogo].file,de[Le.partnerCompanyLogo].file,()=>{U(!1),H(!1)},()=>{m!=="1"?(V(ge=>ue(Z({},ge),{showAlert:!0,message:Be.snackbarUpdateMsg,severity:"success"})),K(!1)):(V(ge=>ue(Z({},ge),{showAlert:!0,message:Be.snackbarMsg,severity:"success"})),K(!1))},()=>ge=>V(ce=>ue(Z({},ce),{showAlert:!0,message:ge,severity:"error"})),H)))},children:se=>{const{values:ge,handleChange:ce,handleSubmit:oe,errors:T,touched:ee,dirty:Fe,handleBlur:be,validateField:nt,setFieldValue:pt}=se;return console.log(T,"errors",ee,"touched",ge,"values"),t(qt,{onSubmit:oe,children:[e("div",{className:g?".preview_none_floating_wrap":"preview_floating_wrap",children:t("div",{className:"preview_partnership_title_div",children:[Be.titleLabel,(ye||Fe)&&R&&t("div",{children:[e(At,{style:{marginRight:"30px",minWidth:"160px"},onClick:()=>{v(!0)},children:Be.cancelButtonLabel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:Be.saveButtonLabel})]})]})}),t("div",{className:"preview_partnership_info_title_div",onClickCapture:()=>d(!i),children:[Be.partnershipInfoLabel,e(zt,{children:e("img",{src:St,alt:""})})]}),i?t("div",{children:[t("div",{className:"info_div",children:[t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.partnershipNameLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"partnershipName",value:ge.partnershipName,placeholder:Be.partnershipNameLabel,onBlur:be,onChange:ce,hasError:T.partnershipName&&ee.partnershipName,errorMessage:T.partnershipName,component:Se,classes:n,style:{padding:"0px 20% 0px 5%"}}),e(le,{name:"partnershipName"})]})]}),t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.webSubdomainNameLabel}),t("div",{className:"domain_textfield_div",children:[t("div",{className:"domainWrap",children:[e(te,{type:"text",name:"websiteSubDomain",value:ge.websiteSubDomain,placeholder:Be.webSubDomainNamePlaceholder,onBlur:be,onChange:ce,hasError:T.websiteSubDomain&&ee.websiteSubDomain,errorMessage:T.websiteSubDomain,style:{margin:"0px 20% 0px 5%"},component:Se,classes:n}),e("div",{className:"domainEndPoint",children:Be.domainEndPoint})]}),e(le,{name:"websiteSubDomain"})]})]})]}),e("div",{className:"info_div",children:t("div",{className:"each_info_div whitelistDominWrap",children:[e("div",{className:"label_div",children:Be.whitelistedDomain}),t("div",{className:"textfield_div chipInput_div",children:[e(Ro,{value:ge.whitelistedDomain,onAdd:Re=>{Te(Re,pt,ge)},onDelete:Re=>{Qe(Re,pt,ge)},variant:"outlined",blurBehavior:"add",style:{minWidth:"315px",maxWidth:"315px"},onBlur:()=>re(!0),onChangeCapture:()=>{re(!1)},error:Y&&ge.whitelistedDomain.length===0,placeholder:ge.whitelistedDomain.length===0?Be.whitelistedDomain:"",helperText:G===""&&Y&&ge.whitelistedDomain.length===0?Pe.whitelistedDomains:G!==""&&b.validationErrField==="whitelisted_domains"?"":"Press enter to add domain names"}),G!==""&&b.validationErrField==="whitelisted_domains"&&e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:G})]})]})})]}):null,t("div",{className:"preview_partnership_info_title_div",onClickCapture:()=>r(!u),children:[Be.companyInfoLabel,e(zt,{children:e("img",{src:St,alt:""})})]}),u?t("div",{children:[t("div",{className:"info_div thumbnail_container",children:[t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.companyNameLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"companyName",value:ge.companyName,placeholder:Be.companyNameLabel,onBlur:be,onChange:ce,hasError:T.companyName&&ee.companyName,errorMessage:T.companyName,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"companyName"})]})]}),t("div",{className:"each_info_div thumbnail_container",children:[e("div",{className:"label_div",children:Be.companyLogoLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"companyLogo",value:ge.companyLogo,placeholder:Be.companyLogoPlaceholder,hasError:T.companyLogo&&ee.companyLogo,errorMessage:T.companyLogo,component:Se,classes:n,InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:()=>{f&&f.current&&f.current.click()},children:[e("input",{accept:"image/x-png,image/gif,image/jpeg",ref:f,type:"file",style:{display:"none"},onChange:Re=>{_e(Re,pt)}}),e("img",{src:Pn,alt:""})]})}),accept:"image/*",readOnly:!0},style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"companyLogo"}),e(ra,{classes:"thumbnailImg",id:Le.companyLogo,src:de[Le.companyLogo].source,alt:Le.companyLogo,show:de[Le.companyLogo].name&&de[Le.companyLogo].source,CustomStyles:{},CloseHandler:()=>Oe(Le.companyLogo,pt)})]})]})]}),t("div",{className:"info_div",children:[t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.companyAddressLabel}),t("div",{className:"textfield_div partnershipTextArea",children:[e(te,{type:"text",name:"companyAddress",value:ge.companyAddress,placeholder:Be.companyAddressLabel,onBlur:be,onChange:ce,hasError:T.companyAddress&&ee.companyAddress,errorMessage:T.companyAddress,component:Se,classes:n,style:{margin:"0px 20% 0px 5%",minHeight:"85px"},multiline:!0}),e(le,{name:"companyAddress"})]})]}),t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.stateLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"state",value:ge.state,placeholder:Be.stateLabel,onBlur:be,onChange:ce,hasError:T.state&&ee.state,errorMessage:T.state,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"state"})]})]})]}),t("div",{className:"info_div",children:[t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.cityLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"city",value:ge.city,placeholder:Be.cityLabel,onBlur:be,onChange:ce,hasError:T.city&&ee.city,errorMessage:T.city,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"city"})]})]}),t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.zipLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"zipCode",value:ge.zipCode,placeholder:Be.zipLabel,onBlur:be,onChange:ce,hasError:T.zipCode&&ee.zipCode,errorMessage:T.zipCode,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"zipCode"})]})]})]}),e("div",{className:"info_div",children:t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.countryLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"country",value:ge.country,placeholder:Be.countryLabel,onBlur:be,onChange:ce,hasError:T.country&&ee.country,errorMessage:T.country,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"country"})]})]})}),e("div",{className:"info_div",children:t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.privacyPolicyURLLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"privacyPolicyURL",value:ge.privacyPolicyURL,placeholder:Be.privacyPolicyURLLabel,onBlur:be,onChange:ce,hasError:T.privacyPolicyURL&&ee.privacyPolicyURL,errorMessage:T.privacyPolicyURL,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"privacyPolicyURL"})]})]})}),e("div",{className:"info_div",children:t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.siteTermsURLLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"siteTermsURL",value:ge.siteTermsURL,placeholder:Be.siteTermsURLLabel,onBlur:be,onChange:ce,hasError:T.siteTermsURL&&ee.siteTermsURL,errorMessage:T.siteTermsURL,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"siteTermsURL"})]})]})}),e("div",{className:"info_div",children:t("div",{className:"each_info_div",children:[e("div",{className:"label_div",children:Be.cookiePolicyLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"cookiePolicy",value:ge.cookiePolicy,placeholder:Be.cookiePolicyLabel,onBlur:be,onChange:ce,hasError:T.cookiePolicy&&ee.cookiePolicy,errorMessage:T.cookiePolicy,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"cookiePolicy"})]})]})})]}):null,t("div",{className:"preview_partnership_info_title_div",onClickCapture:()=>p(!c),children:[Be.partnerCompanyInfoLabel,e(zt,{children:e("img",{src:St,alt:""})})]}),c?t("div",{className:"info_div",children:[t("div",{className:"flex-col full-width",children:[t("div",{className:"each_info_div full-width",children:[e("div",{className:"label_div",children:Be.partnerCompanyNameLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"partnerCompanyName",value:ge.partnerCompanyName,placeholder:Be.partnerCompanyNameLabel,onBlur:be,onChange:ce,hasError:T.partnerCompanyName&&ee.partnerCompanyName,errorMessage:T.partnerCompanyName,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"partnerCompanyName"})]})]}),t("div",{className:"each_info_div full-width thumbnail_container",children:[e("div",{className:"label_div",children:Be.partnerCompanyLogoLabel}),t("div",{className:"textfield_div",children:[e(te,{type:"file",name:"partnerCompanyLogo",value:ge.partnerCompanyLogo,placeholder:Be.companyLogoPlaceholder,hasError:T.partnerCompanyLogo&&ee.partnerCompanyLogo,errorMessage:T.partnerCompanyLogo,InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:()=>{A&&A.current&&A.current.click()},children:[e("input",{accept:"image/x-png,image/gif,image/jpeg",ref:A,type:"file",style:{display:"none"},onChange:Re=>{qe(Re,pt)}}),e("img",{src:Pn,alt:""})]})}),accept:"image/*",readOnly:!0},component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"partnerCompanyLogo"}),e(ra,{classes:"thumbnailImg",id:Le.partnerCompanyLogo,src:de[Le.partnerCompanyLogo].source,show:de[Le.partnerCompanyLogo].name&&de[Le.partnerCompanyLogo].source,CustomStyles:{},alt:Le.partnerCompanyLogo,CloseHandler:()=>Oe(Le.partnerCompanyLogo,pt)})]})]})]}),t("div",{className:"flex-col full-width",children:[t("div",{className:"each_info_div full-width",children:[Be.partnerCompanyPrivacyPolicyURLLabel,t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"partnerCompanyPrivacyPolicyURL",value:ge.partnerCompanyPrivacyPolicyURL,placeholder:Be.privacyPolicyURLLabel,onBlur:be,onChange:ce,hasError:T.partnerCompanyPrivacyPolicyURL&&ee.partnerCompanyPrivacyPolicyURL,errorMessage:T.partnerCompanyPrivacyPolicyURL,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"partnerCompanyPrivacyPolicyURL"})]})]}),t("div",{className:"each_info_div full-width",children:[Be.partnerCompanySiteTermsURLLabel,t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"partnerCompanySiteTermsURL",value:ge.partnerCompanySiteTermsURL,placeholder:Be.siteTermsURLLabel,onBlur:be,onChange:ce,hasError:T.partnerCompanySiteTermsURL&&ee.partnerCompanySiteTermsURL,errorMessage:T.partnerCompanySiteTermsURL,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"partnerCompanySiteTermsURL"})]})]}),t("div",{className:"each_info_div full-width",children:[Be.partnerCompanyCookiePolicyLabel,t("div",{className:"textfield_div",children:[e(te,{type:"text",name:"partnerCompanyCookiePolicy",value:ge.partnerCompanyCookiePolicy,placeholder:Be.cookiePolicyLabel,onBlur:be,onChange:ce,hasError:T.partnerCompanyCookiePolicy&&ee.partnerCompanyCookiePolicy,errorMessage:T.partnerCompanyCookiePolicy,component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"partnerCompanyCookiePolicy"})]})]})]})]}):null,e("div",{style:{display:"flex",flexFlow:"row-reverse"},children:e(At,{onClick:()=>w(!0),style:{minWidth:"160px",marginRight:"10px"},children:un.deletePartnership})})]})}})}),pe&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>v(!1),handleAgree:()=>y.push(`/accountSetup?partner_id=${l}`),show:!0}),L&&e(Ht,{severity:"success",handler:()=>k(!1),showalert:L,message:un.snackbarMsg}),M&&e(ft,{}),x.showAlert&&e(Ht,{severity:x.severity,handler:()=>{V(se=>ue(Z({},se),{showAlert:!1})),x.severity!=="error"&&y.push(`/accountSetup?partner_id=${l}&uploadAsset=true`)},showalert:x.showAlert,message:x.message})]})};const Ah="_general_1crjq_1",Ih="_manage_solution_narrative_form_1crjq_7",Th="_manage_solution_narrative_title_1crjq_31",Nh="_manage_solution_narrative_titleName_1crjq_45",kh="_manage_solution_narrative_mainContent_1crjq_51",Mh="_manage_solution_narrative_content_1crjq_69",Lh="_manage_solution_narrative_button_container_1crjq_83",$h="_solTable_1crjq_103",Fh="_customBox_1crjq_143",Eh="_tagChip_1crjq_151",Dh="_chipsWrap_1crjq_181",Ph="_paginationWrap_1crjq_191";var Oa={general:Ah,manage_solution_narrative_form:Ih,manage_solution_narrative_title:Th,manage_solution_narrative_titleName:Nh,manage_solution_narrative_mainContent:kh,manage_solution_narrative_content:Mh,manage_solution_narrative_button_container:Lh,solTable:$h,customBox:Fh,tagChip:Eh,chipsWrap:Dh,paginationWrap:Ph};const Hh=a=>{const{closeHandler:n,cancelHandler:o,salesHubId:l,selectedAssetCollections:m,setSelectedAssetCollections:i,setSelectedAssetCollectionIds:d,setIsFromEdited:u,isFromEdited:r}=a;rt(),Ie.useState(!1),Ie.useState("");const[c,p]=Ie.useState([]);Ie.useState(!1);const[h,y]=Ie.useState({firstName:"",lastName:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),[_,b]=s.exports.useState(!1),[S,f]=s.exports.useState(0),[A,I]=s.exports.useState(0),[N,W]=s.exports.useState(10),[D,$]=s.exports.useState([]),[P,E]=s.exports.useState([]);s.exports.useState("add");const[M,U]=s.exports.useState([]);s.exports.useState([]);const L=localStorage.getItem("token"),g=new URLSearchParams(window.location.search).get("partner_id")||"0";st(po);const[w,x]=s.exports.useState(!1),V=(H,pe)=>{f(H),fe(`partnership/sales-hub/solution-narratives/?partnership_id=${g}&sales_hub_id=${l}&offset=${H}&limit=${N}`,{Authorization:`Token ${L}`}).then(v=>{if(v.result===!0)if(v.data.length>0)p(v.data),pe==="init"&&fe(`partnership/sales-hub/solution-narratives/?partnership_id=${g}&sales_hub_id=${l}`,{Authorization:`Token ${L}`}).then(R=>{const K=R.data.filter(ve=>ve.is_selected===!0),de=K.map(ve=>ve.solution_narrative_id.toString());P.length===0&&E(de),$(de),U(K)});else{const R=M.map(K=>K.solution_narrative_id.toString());$(R),U(M)}v.count&&I(v.count)})};s.exports.useEffect(()=>{const H=JSON.stringify(P.sort((pe,v)=>pe-v))===JSON.stringify(D.sort((pe,v)=>pe-v));u(!H)},[D]);const G=H=>{const pe=M&&M.map(v=>v.solution_narrative_id);d(pe),n(M,pe)},ie=(H,pe,v)=>{H.stopPropagation();const R=D.indexOf(pe);let K=[],de=[];R===-1?(K=K.concat(D,pe),de=de.concat(M,v)):R===0?(K=K.concat(D.slice(1)),de=de.concat(M.slice(1))):R===D.length-1?(K=K.concat(D.slice(0,-1)),de=de.concat(M.slice(0,-1))):R>0&&(K=K.concat(D.slice(0,R),D.slice(R+1)),de=de.concat(M.slice(0,R),M.slice(R+1))),$(K),U(de)},Y=(H,pe)=>{V((pe-1)*N,"")},re=ba(ss)(({theme:H})=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),ye=ba(Et)(({theme:H})=>({"&:nth-of-type(odd)":{backgroundColor:H.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}));return s.exports.useEffect(()=>{V(0,"init")},[]),t("div",{children:[e(Rt,{enableReinitialize:!0,initialValues:h,onSubmit:H=>{},children:H=>{const{handleSubmit:pe}=H;return t(qt,{className:Oa.manage_solution_narrative_form,onSubmit:pe,children:[e("div",{className:Oa.manage_solution_narrative_title,children:e("div",{className:Oa.manage_solution_narrative_titleName,children:ma.manageAssetCollection})}),t("div",{className:Oa.manage_solution_narrative_mainContent,children:[e("div",{className:Oa.manage_solution_narrative_content,children:e(Ua,{component:as,className:Oa.solTable,children:t(ja,{sx:{minWidth:700},"aria-label":"customized table",children:[e(Va,{children:t(Et,{children:[e(re,{}),e(re,{children:ma.tableName}),e(re,{children:ma.tableNoOfAssets}),e(re,{children:ma.tableTags})]})}),e(ka,{children:c.length>0&&c.map(v=>t(ye,{children:[e(re,{component:"th",scope:"row",children:e(Xt,{className:D.includes(v.solution_narrative_id.toString())?Oa.customBox:"",checked:D.length>0?D.includes(v.solution_narrative_id.toString()):!1,onClick:R=>ie(R,v.solution_narrative_id.toString(),v)})}),e(re,{children:t("div",{style:{display:"flex",alignItems:"center"},children:[e("img",{src:v.image,alt:"",style:{width:"60px",height:"30px",borderRadius:"10px",marginRight:"15px"}}),v.name]})}),e(re,{style:{textAlign:"center"},children:v.asset_count}),t(re,{children:[" ",e("div",{className:Oa.chipsWrap,children:v.tags.map((R,K)=>e("span",{className:Oa.tagChip,children:R},`${K+1}+${R}`))})]})]},v.solution_narrative_id))})]})})}),A>N&&e(Ma,{spacing:2,className:Oa.paginationWrap,children:e(La,{count:Math.ceil(A/N),shape:"rounded",onChange:(v,R)=>Y(v,R)})}),t("div",{className:Oa.manage_solution_narrative_button_container,children:[e(At,{onClick:()=>{r?x(!0):o()},style:{minWidth:"160px",marginRight:"30px"},children:ma.cancel}),e(Ke,{type:"submit",onClick:()=>G(),style:{minWidth:"160px"},children:ma.save})]})]})]})}}),w&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>x(!1),handleAgree:()=>{x(!1),o(),u(!1)},show:!0}),_&&e(Ht,{severity:"success",handler:()=>b(!1),showalert:_})]})},Bh="_dropdown_1n53d_1",Oh="_dropdownBtn_1n53d_7",Wh="_arrowIcon_1n53d_55",Rh="_arrowIconActive_1n53d_69",qh="_salesHub_floating_wrap_1n53d_75",zh="_menuWrap_1n53d_91",Uh="_dropdownMenu_1n53d_121",jh="_paginationWrap_1n53d_127";var Yn={dropdown:Bh,dropdownBtn:Oh,arrowIcon:Wh,arrowIconActive:Rh,salesHub_floating_wrap:qh,menuWrap:zh,dropdownMenu:Uh,paginationWrap:jh};const Vh=a=>{const n=yt(),o=rt();s.exports.useRef(null);const l=gt();ps(),st(po);const[m,i]=s.exports.useState(!0),[d,u]=s.exports.useState(!1),[r,c]=s.exports.useState(!0),[p,h]=s.exports.useState("");s.exports.useState(!1);const[y,_]=s.exports.useState("");s.exports.useState(!1);const b=s.exports.useRef(null),S=s.exports.useRef(null),f=s.exports.useRef(null),A=s.exports.useRef(null);s.exports.useState();const[I,N]=s.exports.useState(""),[W,D]=s.exports.useState(0),[$,P]=s.exports.useState(10),[E,M]=s.exports.useState(0),[U,L]=s.exports.useState(1),[k,g]=s.exports.useState(0),[w,x]=s.exports.useState(10),[V,G]=s.exports.useState(0),[ie,Y]=s.exports.useState(!0);s.exports.useState([]);const[re,ye]=s.exports.useState(""),[H,pe]=s.exports.useState(!1),[v,R]=s.exports.useState(!0),[K,de]=s.exports.useState(!1),[ve,ke]=s.exports.useState(!1);s.exports.useState("");const[Oe,Ae,qe]=yn([Le.salesHubImage]),[_e,We]=s.exports.useState({showAlert:!1,severity:"",message:""}),[Te,Qe]=s.exports.useState({headerText:"",subHeaderText:"",headerImg:"",headerImgFile:"",fontColor:"",fontFamily:""}),[vt,se]=s.exports.useState(),[ge,ce]=s.exports.useState(),[oe,T]=s.exports.useState([]),[ee,Fe]=s.exports.useState([]),[be,nt]=s.exports.useState([]),[pt,Re]=s.exports.useState([]),Ft=(J,O,ne)=>{console.log(J,"shId"),D(ne),ne===0&&L(1);const ae=localStorage.getItem("token");fe(`partnership/sales-hub/solution-narratives/?partnership_id=${O}&sales_hub_id=${J}&offset=${ne}&limit=${w}&is_selected=true`,{Authorization:`Token ${ae}`}).then(z=>{if(z.result===!0){const B=z.data;z.count&&M(z.count),nt(B);let we=[];z.data.length>0&&(we=z.data.map(Ce=>Ce.solution_narrative_id.toString()),Re(we))}Y(!1)})},it=()=>{Y(!0);const O=new URLSearchParams(window.location.search).get("partner_id")||"0";N(O);const ne=localStorage.getItem("token");fe(`partnership/sales-hub/?partnership_id=${O}&offset=${k}&limit=${w}`,{Authorization:`Token ${ne}`}).then(ae=>{if(ae.result===!0){if(ae.data.length>0){const z=ae.data[0].sales_hub_id;console.log(z,"salesHubIdNew",ae.data.sales_hub_id),z&&(l.push(`/salesHub?partner_id=${O}&sales_hub_id=${z}`),ye(z)),fe(`partnership/sales-hub/?partnership_id=${O}&sales_hub_id=${z}`,{Authorization:`Token ${ne}`}).then(B=>{B.result===!0&&(ce(B.data.font_color.font_color_id.toString()),se(B.data.font_family.font_family_id.toString()),h(B.data.font_color.name),_(B.data.font_family.name),Qe(ue(Z({},Te),{headerText:B.data.header_text,subHeaderText:B.data.sub_header_text,headerImg:B.data.header_image_name,headerImgFile:B.data.header_image&&`${B.data.header_image}?time=${Date.now()}`,fontColor:B.data.font_color.font_color_id,fontFamily:B.data.font_family.font_family_id})),Ae({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.salesHubImage,name:B.data.header_image_name,source:B.data.header_image}}),z&&Ft(z,O,0))})}else Y(!1),Qe({headerText:"",subHeaderText:"",headerImg:"",headerImgFile:"",fontColor:"",fontFamily:""});o(du({salesHubInfo:ae.data})),ae.count&&G(ae.count)}})},wt=J=>{var ne,ae;const O=J.target.files[0];if(O&&O.name&&A&&A.current&&O.type.includes("image/")){const z=O.name;(ne=A==null?void 0:A.current)==null||ne.setFieldValue("headerImgFile",O),(ae=A==null?void 0:A.current)==null||ae.setFieldValue("headerImg",z),qe(Le.salesHubImage,O),R(!1)}else We(z=>ue(Z({},z),{showAlert:!0,message:Pe.fileErrorMessage,severity:"error"}))},Ta=()=>{var J,O;(J=A.current)==null||J.setFieldValue("headerImgFile",""),(O=A.current)==null||O.setFieldValue("headerImg",""),b.current.value="",Ae({type:"SET_IMAGEFILE_CANCEL",payload:{key:Le.salesHubImage}}),R(!1)},pa=()=>{pe(!0)},oa=Dt().shape({headerText:q().trim().required("Header text is required").max(50,"Maximum of  50 characters are allowed"),subHeaderText:q().trim().max(200,"Maximum of  200 characters are allowed").required("Sub header text is required"),headerImg:q().required("Header image is required"),fontColor:q().required("Font color is required"),fontFamily:q().required("Font family is required")}),Ut=()=>{const J=localStorage.getItem("token");fe("partnership/sales-hub/font-colors/",{Authorization:`Token ${J}`}).then(O=>{if(O.result===!0){const ne=O.data.map(ae=>({key:ae.name,id:ae.font_color_id,value:ae.name}));Fe(ne)}})},jt=()=>{const J=localStorage.getItem("token");fe("partnership/sales-hub/font-family/",{Authorization:`Token ${J}`}).then(O=>{if(O.result===!0){const ne=O.data.map(ae=>({key:ae.name,id:ae.font_family_id,value:ae.description}));T(ne)}})},Ot=(J,O)=>{L(O),Ft(re,I,(O-1)*($-1))},Yt=J=>{J.preventDefault(),b.current.value="",Ae({type:"SET_IMAGEFILE_CANCEL",payload:{key:Le.salesHubImage}}),A.current.resetForm(),R(!0),it(),Ut(),jt(),u(!1)};return s.exports.useEffect(()=>{it(),Ut(),jt()},[]),t("div",{className:"salesHub_main_div",children:[e("div",{className:"salesHub_main_card",children:e(Rt,{innerRef:A,enableReinitialize:!0,initialValues:Te,validate:()=>({}),validationSchema:oa,onSubmit:J=>{Y(!0);const ne=new URLSearchParams(window.location.search).get("sales_hub_id")||"0";o(mu({headerText:J.headerText,subHeaderText:J.subHeaderText,headerImg:J.headerImgFile?J.headerImgFile:J.headerImg,fontColor:J.fontColor,fontFamily:J.fontFamily,assetCollectionId:pt},I,ne==="0"?re:ne,()=>Y(!1),l,ae=>We(z=>ue(Z({},z),{showAlert:!0,message:ae,severity:"success"})),it,R))},children:J=>{var Ge,ht,Ve;const{values:O,handleChange:ne,handleSubmit:ae,errors:z,touched:B,dirty:we,handleBlur:Ce}=J;return de(we),t(qt,{onSubmit:ae,ref:f,id:"salesHubForm",onKeyDown:Je=>{Je.key==="Enter"&&Je.preventDefault()},children:[e("div",{className:Yn.salesHub_floating_wrap,children:t("div",{className:"salesHub_title_div",children:[aa.titleLabel,t("div",{children:[!v||K?t(xe,{children:[e(At,{style:{marginRight:"20px"},onClick:()=>u(!0),children:aa.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},id:"salesHubSubmit",ref:S,children:aa.saveButton})]}):null,v&&!K?e(Ke,{style:{minWidth:"160px"},onClick:Je=>{Je.preventDefault(),window.open("/salesHubPreview","_blank")},children:aa.previewButton}):null]})]})}),t("div",{className:"salesHub_info_title_div",onClickCapture:()=>i(!m),children:[aa.salesHubLayout,e(zt,{children:e("img",{src:St,alt:""})})]}),m?t("div",{style:{color:"#C4C4C4"},children:[t("div",{className:"salesHub_info_div",children:[t("div",{className:"salesHub_each_info_div",children:[e("div",{className:"salesHub_field_label",children:aa.headerText}),t("div",{className:"salesHub_textfield_div sales_hub_textArea",children:[e(te,{type:"text",name:"headerText",value:O.headerText,onBlur:Ce,onChange:ne,hasError:z.headerText&&B.headerText,errorMessage:z.headerText,component:Se,classes:n,multiline:!0,placeholder:"Enter header text"}),e(le,{name:"headerText"})]})]}),t("div",{className:"salesHub_each_info_div",children:[e("div",{className:"salesHub_field_label",children:aa.subHeaderText}),t("div",{className:"salesHub_textfield_div sales_hub_textArea",children:[e(te,{type:"text",name:"subHeaderText",value:O.subHeaderText,onBlur:Ce,onChange:ne,hasError:z.subHeaderText&&B.subHeaderText,errorMessage:z.subHeaderText,component:Se,classes:n,multiline:!0,placeholder:"Enter sub header text"}),e(le,{name:"subHeaderText"})]})]})]}),t("div",{className:"salesHub_info_div",children:[t("div",{className:"salesHub_each_info_div",children:[e("div",{className:"salesHub_field_label",children:aa.headerImg}),t("div",{className:"salesHub_textfield_div disabledFile",children:[e(te,{type:"file",name:"headerImg",value:O.headerImg,disabled:!0,placeholder:aa.headerImgField,InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:()=>{b&&b.current&&b.current.click()},children:[e("input",{accept:"image/*",ref:b,type:"file",style:{display:"none"},onChange:Je=>wt(Je)}),e("img",{src:Pn,alt:""})]})}),accept:"image/*",readOnly:!0},component:Se,classes:n,style:{margin:"0px 20% 0px 5%"}}),e(le,{name:"headerImg"})]})]}),e("div",{className:"salesHub_each_info_div",children:e(ra,{id:"headerImg",classes:Yn.image,show:((Ge=Oe[Le.salesHubImage])==null?void 0:Ge.name)&&((ht=Oe[Le.salesHubImage])==null?void 0:ht.source),CustomStyles:{ImageStyle:{width:"100px",borderRadius:"5px"},CloserStyle:{marginLeft:"0.5rem"}},src:(Ve=Oe[Le.salesHubImage])==null?void 0:Ve.source,alt:"",CloseHandler:Ta})})]}),t("div",{className:"salesHub_info_div",children:[t("div",{className:"salesHub_each_info_div",children:[e("div",{className:"salesHub_field_label",children:aa.fontColor}),t("div",{className:"salesHub_textfield_div sales_hub_select",children:[e(Pt,{name:"fontColor",value:O.fontColor,className:Yn.uploadAssetSelect,displayEmpty:!0,fullWidth:!0,renderValue:O.fontColor!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",aa.selectFontColor]}),onChange:Je=>{ne(Je)},onBlur:Ce,inputProps:{"aria-label":"Without label"},children:ee&&ee.map(Je=>e(Ue,{value:Je.id,children:Je.value},Je.id))}),e(le,{name:"fontColor"})]})]}),t("div",{className:"salesHub_each_info_div",children:[e("div",{className:"salesHub_field_label",children:aa.fontFamily}),t("div",{className:"salesHub_textfield_div sales_hub_select",children:[e(Pt,{name:"fontFamily",value:O.fontFamily,className:Yn.uploadAssetSelect,displayEmpty:!0,fullWidth:!0,renderValue:O.fontFamily!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",aa.selectFontFamily]}),onChange:Je=>{ne(Je)},onBlur:Ce,inputProps:{"aria-label":"Without label"},children:oe&&oe.map(Je=>e(Ue,{value:Je.id,children:Je.value},Je.id))}),e(le,{name:"fontFamily"})]})]})]})]}):null,t("div",{className:"salesHub_info_title_div",onClickCapture:()=>c(!r),children:[aa.assetCollection,e(zt,{children:e("img",{src:St,alt:""})})]}),r?t("div",{children:[t("div",{className:"salesHub_assetCollection_div",children:[e("div",{}),e("div",{className:"salesHub_assetCollection_button_div",children:e(Ke,{style:{minWidth:"222px"},onClick:()=>pa(),children:aa.manageAssetCollectButtonLabel})})]}),be.length>0?t(xe,{children:[e("div",{className:"salesHub_assetCollection_card_div",children:be&&be.map((Je,Xa)=>Xa!==w-1?e("div",{style:{width:"30%"},children:e(di,{img:Je.image,title:Je.name,content:Je.description})}):"")}),t("div",{className:Yn.pagination,children:[console.log(E,$-1,"check",Math.ceil(E/($-1)),w),E>$-1&&e(Ma,{spacing:2,className:Yn.paginationWrap,children:e(La,{count:Math.ceil(E/($-1)),shape:"rounded",page:U,onChange:Ot})})]})]}):t("div",{style:{textAlign:"center"},children:[" ",aa.noAssetMsg]})]}):null]})}})}),H&&e(Ha,{title:"Sales hub asset collections",closeHandler:()=>{ve?u(!0):(u(!1),ke(!1),pe(!1))},renderElement:e(Hh,{salesHubId:re,partnershipId:I,selectedAssetCollections:be,setSelectedAssetCollections:nt,setSelectedAssetCollectionIds:Re,closeHandler:(J,O)=>{pe(!1),ke(!1),u(!1),nt(J),Re(O),M(O.length),A.current.submitForm()},cancelHandler:()=>{pe(!1)},isFromEdited:ve,setIsFromEdited:ke})}),d&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>u(!1),handleAgree:J=>{H?(pe(!1),ke(!1),u(!1)):Yt(J)},show:!0}),ie&&e(ft,{}),_e.showAlert&&e(Ht,{severity:_e.severity,handler:()=>{We(J=>ue(Z({},J),{showAlert:!1}))},showalert:_e.showAlert,message:_e.message})]})};const Gh="_salesMotionFieldWrap_13o1m_1",Jh="_salesMotionWrap_13o1m_21",Zh="_salesMotionDropDownButton_13o1m_35",Yh="_salesMotionFormWrap_13o1m_61",Kh="_salesMotionLabel_13o1m_75",Xh="_createSalesMotion_main_div_13o1m_95",Qh="_salesMotionCreationBtnWrap_13o1m_123",e_="_bottomLayer_13o1m_139",t_="_salesMotionForm_13o1m_61",a_="_salesMotionField_13o1m_1",n_="_solTable_13o1m_195",s_="_customBox_13o1m_235",o_="_tagChip_13o1m_243",i_="_chipsWrap_13o1m_273",r_="_paginationWrap_13o1m_283",l_="_salesMotionSelect_13o1m_299",c_="_domainWrap_13o1m_319",d_="_domainEndPoint_13o1m_327",m_="_manage_solution_narratives_nocontent_container_13o1m_333",u_="_thumbnailImg_13o1m_359",p_="_tagInput_13o1m_375",h_="_hidden_13o1m_393";var Q={salesMotionFieldWrap:Gh,salesMotionWrap:Jh,salesMotionDropDownButton:Zh,salesMotionFormWrap:Yh,salesMotionLabel:Kh,createSalesMotion_main_div:Xh,salesMotionCreationBtnWrap:Qh,bottomLayer:e_,salesMotionForm:t_,salesMotionField:a_,solTable:n_,customBox:s_,tagChip:o_,chipsWrap:i_,paginationWrap:r_,salesMotionSelect:l_,domainWrap:c_,domainEndPoint:d_,manage_solution_narratives_nocontent_container:m_,thumbnailImg:u_,tagInput:p_,hidden:h_};const __=a=>{const n=yt(),{onChange:o,onBlur:l,sectionValues:m,errors:i,touched:d,general:u,setGeneral:r,setFieldValue:c}=a,[p,h]=s.exports.useState(""),y=st(Ns),_=rt();return s.exports.useEffect(()=>{const b=setTimeout(()=>{h(""),_(Dn({generalErrMsg:"",generalValidationField:""}))},15e3);return h(y.generalErrMsg),()=>clearTimeout(b)},[y]),s.exports.useEffect(()=>{_(Dn({generalErrMsg:"",generalValidationField:""}))},[]),t("div",{className:Q.generalFromMainDiv,children:[t("div",{className:Q.salesMotionDropDownButton,onClickCapture:()=>r(!u),children:["General",e(zt,{children:e("img",{src:St,alt:""})})]}),u?t("div",{className:Q.salesMotionFormWrap,children:[t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.name}),t("div",{className:Q.salesMotionField,children:[e(te,{type:"text",name:"name",placeholder:He.name,component:Se,classes:n,onChange:o,onBlur:l,value:m.callOutTwoHeaderText,errorMessage:i.callOutTwoHeaderText,hasError:i.callOutTwoHeaderText&&d.callOutTwoHeaderText}),p!==""&&y.generalValidationField==="name"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:p}):e(le,{name:"name"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.description}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"description",placeholder:He.description,component:Se,classes:n,onChange:o,onBlur:l,multiline:!0,value:m.callOutTwoSubHeaderText,hasError:i.callOutTwoSubHeaderText&&d.callOutTwoHeaderText,errorMessage:i.callOutTwoSubHeaderText}),e(le,{name:"description"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.targetBuyerTitles}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(jn,{selectedTags:b=>console.log(b),fullWidth:!0,selectedChip:m.targetBuyerTitles,className:`${Q.tagInput} tagsField`,variant:"outlined",id:"targetBuyerTitles",name:"targetBuyerTitles",setFieldValue:c,placeholder:He.targetBuyerTitles,hasError:i.targetBuyerTitles&&d.targetBuyerTitles,errorMessage:i.targetBuyerTitles&&d.targetBuyerTitles,onBlur:b=>{l(b,"targetBuyerTitles")}}),e("small",{className:`styles.inputHelper ${i.targetBuyerTitles&&d.targetBuyerTitles?Q.hidden:""}`,children:He.TargetBuyerHelperText}),e(le,{name:"targetBuyerTitles"})]})]})]}):null]})},g_=a=>{const n=yt(),o=s.exports.useRef(null),{onChange:l,onBlur:m,sectionValues:i,errors:d,touched:u,onFileSelected:r,fontColorList:c,fontStyleList:p,siteLayoutThumbnailImage:h,OnImageCancel:y,setSiteLayout:_,siteLayout:b,validateField:S}=a;return t("div",{className:Q.generalFromMainDiv,children:[t("div",{className:Q.salesMotionDropDownButton,onClickCapture:()=>_(!b),children:["Site Layout",e(zt,{children:e("img",{src:St,alt:""})})]}),b?t("div",{className:Q.salesMotionFormWrap,children:[e("div",{className:Q.salesMotionFieldWrap,children:t("div",{className:Q.salesMotionWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.headerTxt}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"layoutHeaderText",placeholder:He.headerTxt,component:Se,classes:n,onChange:l,onBlur:m,value:i.callOutTwoHeaderText,errorMessage:d.callOutTwoHeaderText,hasError:d.callOutTwoHeaderText&&u.callOutTwoHeaderText,multiline:!0}),e(le,{name:"layoutHeaderText"})]})]})}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.subHeaderTxt}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"layoutSubHeaderText",placeholder:He.subHeaderTxt,component:Se,classes:n,onChange:l,onBlur:m,value:i.callOutTwoSubHeaderText,hasError:d.callOutTwoSubHeaderText&&u.callOutTwoHeaderText,multiline:!0,errorMessage:d.callOutTwoSubHeaderText}),e(le,{name:"layoutSubHeaderText"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.headerImage}),t("div",{className:`${Q.salesMotionField} disabledFile`,children:[e(te,{type:"text",name:"layoutHeaderImage",placeholder:He.headerImage,component:Se,classes:n,disabled:!0,style:{width:"205px"},InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:f=>{o&&o.current&&o.current.click()},children:[e("input",{accept:"*",ref:o,type:"file",style:{display:"none",width:"90%"},onChange:f=>{r(f,"layoutHeaderImage",i),S("layoutHeaderImage")}}),e("img",{src:Pn,alt:""})]})}),accept:"*",readOnly:!0}}),e(le,{name:"layoutHeaderImage"})]})]}),h&&t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel}),e("div",{className:Q.salesMotionField,children:e(ra,{classes:Q.thumbnailImg,id:"siteLayoutThumbnailImage",src:h.source,show:h.name&&h.source,alt:"siteLayoutThumbnailImage",CustomStyles:{},CloseHandler:()=>{o.current.value="",y("layoutHeaderImage")}})})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.fontColor}),t("div",{className:Q.salesMotionField,children:[e(Pt,{type:"text",name:"layoutFontColor",onChange:l,onBlur:m,value:i.layoutFontColor,className:Q.salesMotionSelect,displayEmpty:!0,renderValue:i.layoutFontColor!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",He.fontColor]}),inputProps:{"aria-label":"Without label"},children:c.map(f=>e(Ue,{value:f.id,className:"salesMotionMenu",children:f.value},f.id))}),e(le,{name:"layoutFontColor"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.fontStyle}),t("div",{className:Q.salesMotionField,children:[e(Pt,{type:"text",name:"layoutFontStyle",onChange:l,onBlur:m,value:i.layoutFontStyle,className:Q.salesMotionSelect,displayEmpty:!0,renderValue:i.layoutFontStyle!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",He.fontStyle]}),inputProps:{"aria-label":"Without label"},children:p.map(f=>e(Ue,{value:f.id,className:"salesMotionMenu",children:f.value},f.id))}),e(le,{name:"layoutFontStyle"})]})]})]}):null]})},f_=a=>{const n=yt(),o=s.exports.useRef(null),{onChange:l,onBlur:m,sectionValues:i,errors:d,touched:u,onFileSelected:r,fontColorList:c,callOutOneThumbnailImage:p,OnImageCancel:h,callOutSectionOneShow:y,setCallOutSectionOneShow:_,validateField:b}=a;return t("div",{className:Q.generalFromMainDiv,children:[t("div",{className:Q.salesMotionDropDownButton,onClickCapture:()=>_(!y),children:["Call out section#1",e(zt,{children:e("img",{src:St,alt:""})})]}),y?t("div",{className:Q.salesMotionFormWrap,children:[t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.headerTxt}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"callOutOneheaderText",placeholder:He.headerTxt,component:Se,classes:n,onChange:l,onBlur:m,value:i.callOutTwoHeaderText,errorMessage:d.callOutTwoHeaderText,hasError:d.callOutTwoHeaderText&&u.callOutTwoHeaderText,multiline:!0}),e(le,{name:"callOutOneheaderText"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.subHeaderTxt}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"callOutOneSubHeaderText",placeholder:He.subHeaderTxt,component:Se,classes:n,onChange:l,onBlur:m,value:i.callOutTwoSubHeaderText,hasError:d.callOutTwoSubHeaderText&&u.callOutTwoHeaderText,multiline:!0,errorMessage:d.callOutTwoSubHeaderText}),e(le,{name:"callOutOneSubHeaderText"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.headerImage}),t("div",{className:`${Q.salesMotionField} disabledFile`,children:[e(te,{type:"text",name:"callOutOneHeaderImage",placeholder:He.headerImage,component:Se,classes:n,disabled:!0,InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:S=>{o&&o.current&&o.current.click()},children:[e("input",{accept:"*",ref:o,type:"file",style:{display:"none",width:"90%"},onChange:S=>{r(S,"callOutOneHeaderImage",i),b("callOutOneHeaderImage")}}),e("img",{src:Pn,alt:""})]})}),accept:"*",readOnly:!0}}),e(le,{name:"callOutOneHeaderImage"})]})]}),p&&t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel}),e("div",{className:Q.salesMotionField,children:e(ra,{classes:Q.thumbnailImg,id:"callOutOneThumbnailImage",src:p.source,show:p.name&&p.source,alt:"callOutOneThumbnailImage",CustomStyles:{},CloseHandler:()=>{o.current.value="",h("callOutOneHeaderImage")}})})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.fontColor}),t("div",{className:Q.salesMotionField,children:[e(Pt,{type:"text",name:"callOutOneFontColor",onChange:l,onBlur:m,value:i.callOutOneFontColor,className:Q.salesMotionSelect,displayEmpty:!0,renderValue:i.callOutOneFontColor!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",He.fontColor]}),inputProps:{"aria-label":"Without label"},children:c.map(S=>e(Ue,{value:S.id,className:"salesMotionMenu",children:S.value},S.id))}),e(le,{name:"callOutOneFontColor"})]})]})]}):null]})},y_=a=>{const n=yt(),o=s.exports.useRef(null),{onChange:l,onBlur:m,sectionValues:i,errors:d,touched:u,onFileSelected:r,fontColorList:c,callOutTwoThumbnailImage:p,OnImageCancel:h,setCallOutSectionTwoShow:y,callOutSectionTwoShow:_,validateField:b}=a;return t("div",{className:Q.generalFromMainDiv,children:[t("div",{className:Q.salesMotionDropDownButton,onClickCapture:()=>y(!_),children:["Call out section#2",e(zt,{children:e("img",{src:St,alt:""})})]}),_?t("div",{className:Q.salesMotionFormWrap,children:[t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.headerTxt}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"callOutTwoHeaderText",placeholder:He.headerTxt,component:Se,classes:n,onChange:l,onBlur:m,multiline:!0,value:i.callOutTwoHeaderText,errorMessage:d.callOutTwoHeaderText,hasError:d.callOutTwoHeaderText&&u.callOutTwoHeaderText}),e(le,{name:"callOutTwoHeaderText"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.subHeaderTxt}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"callOutTwoSubHeaderText",placeholder:He.subHeaderTxt,component:Se,classes:n,onChange:l,onBlur:m,multiline:!0,className:"salesMotionTextArea",value:i.callOutTwoSubHeaderText,hasError:d.callOutTwoSubHeaderText&&u.callOutTwoHeaderText,errorMessage:d.callOutTwoSubHeaderText}),e(le,{name:"callOutTwoSubHeaderText"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.headerImage}),t("div",{className:`${Q.salesMotionField} disabledFile`,children:[e(te,{name:"callOutTwoHeaderImage",placeholder:He.headerImage,component:Se,classes:n,style:{width:"205px"},disabled:!0,InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:S=>{o&&o.current&&o.current.click()},children:[e("input",{accept:"*",ref:o,type:"file",style:{display:"none",width:"90%"},onChange:S=>{r(S,"callOutTwoHeaderImage",i),b("callOutTwoHeaderImage")}}),e("img",{src:wa,alt:""})]})}),accept:"*",readOnly:!0}}),e(le,{name:"callOutTwoHeaderImage"})]})]}),p&&t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel}),e("div",{className:Q.salesMotionField,children:e(ra,{classes:Q.thumbnailImg,id:"callOutTwoThumbnailImage",src:p.source,show:p.name&&p.source,alt:"callOutTwoThumbnailImage",CustomStyles:{},CloseHandler:()=>{o.current.value="",h("callOutTwoHeaderImage")}})})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.fontColor}),t("div",{className:Q.salesMotionField,children:[e(Pt,{type:"text",name:"callOutTwoFontColor",onChange:l,onBlur:m,value:i.callOutTwoFontColor,className:Q.salesMotionSelect,displayEmpty:!0,renderValue:i.callOutTwoFontColor!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",He.fontColor]}),inputProps:{"aria-label":"Without label"},children:c.map(S=>e(Ue,{value:S.id,className:"salesMotionMenu",children:S.value},S.id))}),e(le,{name:"callOutTwoFontColor"})]})]})]}):null]})},v_=a=>{const{selected:n,setSelected:o,assetCollectData:l,offset:m,limit:i,count:d,fetchAllAssetCollectData:u,setAssetCollectData:r,assetCollectionShow:c,setAssetCollectionShow:p,actionType:h,setIsFormEdited:y}=a,_=ba(ss)(({theme:D})=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),b=ba(Et)(({theme:D})=>({"&:nth-of-type(odd)":{backgroundColor:D.palette.action.hover},"&:last-child td, &:last-child th":{border:0}})),[S,f]=s.exports.useState(!1),A=(D,$)=>{u(($-1)*i,"")},I=(D,$)=>{D.stopPropagation(),y(!0);const P=n.indexOf($);console.log(P,"selectedIndex");let E=[];P===-1?E=E.concat(n,$):P===0?E=E.concat(n.slice(1)):P===n.length-1?E=E.concat(n.slice(0,-1)):P>0&&(E=E.concat(n.slice(0,P),n.slice(P+1))),o(E)},N=h.action==="UPDATE"&&h.dataLength>0?!0:S,W=(D,$)=>{if(!D.destination||D.destination.index===D.source.index)return;const P=l[D.source.index];l.splice(D.source.index,1),l.splice(D.destination.index,0,P);const M=l.filter(U=>n.includes(U.solution_narrative_id)).map(U=>U.solution_narrative_id);o(M),r(l),y(!0)};return t(xe,{children:[t("div",{className:Q.salesMotionDropDownButton,onClickCapture:()=>p(!c),children:["Asset Collections",e(et,{children:e("img",{src:St,alt:""})})]}),e("div",{className:Q.generalFromMainDiv,children:c&&(N?t("div",{className:Q.manage_solution_narrative_mainContent,children:[e("div",{className:Q.manage_solution_narrative_content,children:e(Ua,{component:as,className:Q.solTable,children:t(ja,{sx:{minWidth:700},"aria-label":"customized table",children:[e(Va,{children:t(Et,{children:[e(_,{}),e(_,{}),e(_,{children:ma.tableName}),e(_,{children:ma.tableNoOfAssets}),e(_,{children:ma.tableTags})]})}),e(Fo,{onDragEnd:W,children:e(Eo,{droppableId:"droppable",direction:"vertical",children:D=>t(ka,ue(Z({ref:D.innerRef},D.droppableProps),{children:[l.length>0&&l.map(($,P)=>e(Do,{draggableId:$.solution_narrative_id.toString(),index:P,children:(E,M)=>s.exports.createElement(b,ue(Z({ref:E.innerRef},E.draggableProps),{style:ue(Z({},E.draggableProps.style),{background:M.isDragging?"rgba(245,245,245, 0.75)":"none"}),key:$.solution_narrative_id}),e(_,{align:"left",children:e("div",ue(Z({},E.dragHandleProps),{children:e("img",{src:ci,alt:"",style:{marginLeft:"15px"}})}))}),e(_,{component:"th",scope:"row",children:e(Xt,{className:n.includes($.solution_narrative_id)?Q.customBox:"",checked:n.length>0?n.includes($.solution_narrative_id):!1,onClick:U=>I(U,$.solution_narrative_id)})}),e(_,{children:t("div",{style:{display:"flex",alignItems:"center"},children:[e("img",{src:$.image,alt:"",style:{width:"60px",height:"30px",borderRadius:"10px",marginRight:"15px"}}),$.name]})}),e(_,{style:{textAlign:"center"},children:$.asset_count}),t(_,{children:[" ",e("div",{className:Q.chipsWrap,children:$.tags.map((U,L)=>e("span",{className:Q.tagChip,children:U},`${L+1}+${U}`))})]}))},$.solution_narrative_id)),D.placeholder]}))})})]})})}),d>i&&e(Ma,{spacing:2,className:Q.paginationWrap,children:e(La,{count:Math.ceil(d/i),shape:"rounded",onChange:(D,$)=>A(D,$)})})]}):t("div",{className:Q.manage_solution_narratives_nocontent_container,children:[e(Ke,{style:{alignSelf:"flex-end"},onClick:()=>f(D=>!D),children:"Add Asset Collection"}),e("div",{children:"No asset collection mapped to the Sales Motion"})]}))})]})},b_=a=>{const n=yt(),{onChange:o,onBlur:l,sectionValues:m,errors:i,touched:d,onFileSelected:u,ctaThumbnailImage:r,OnImageCancel:c,ctaShow:p,setCtaShow:h,validateField:y}=a,_=s.exports.useRef(null),[b,S]=Ie.useState(""),f=st(Ns);return s.exports.useEffect(()=>{const A=setTimeout(()=>S(""),15e3);return S(f.ctaErrMsg),()=>clearTimeout(A)},[f]),s.exports.useEffect(()=>{Ts({ctaErrMsg:"",ctaValidationField:""})},[]),t("div",{className:Q.generalFromMainDiv,children:[t("div",{className:Q.salesMotionDropDownButton,onClickCapture:()=>h(!p),children:["CTA Configuration",e(zt,{children:e("img",{src:St,alt:""})})]}),p?t("div",{className:Q.salesMotionFormWrap,children:[t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.ctaName}),t("div",{className:Q.salesMotionField,children:[e(te,{type:"text",name:"ctaName",placeholder:He.ctaName,component:Se,classes:n,onChange:o,onBlur:l,value:m.ctaName,errorMessage:i.ctaName,hasError:i.ctaName&&d.ctaName}),b!==""&&f.ctaValidationField==="cta_name"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:b}):e(le,{name:"ctaName"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.headerTxt}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"ctaHeaderText",placeholder:He.headerTxt,component:Se,classes:n,onChange:o,onBlur:l,multiline:!0,value:m.ctaHeaderText,errorMessage:i.ctaHeaderText,hasError:i.ctaHeaderText&&d.ctaHeaderText}),e(le,{name:"ctaHeaderText"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.subHeaderTxt}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"ctaSubHeaderText",placeholder:He.subHeaderTxt,component:Se,classes:n,onChange:o,onBlur:l,multiline:!0,value:m.ctaSubHeaderText,hasError:i.ctaSubHeaderText&&d.ctaSubHeaderText,errorMessage:i.ctaSubHeaderText}),e(le,{name:"ctaSubHeaderText"})]})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.ctaImage}),t("div",{className:`${Q.salesMotionField} disabledFile`,children:[e(te,{name:"ctaImage",placeholder:He.ctaImage,component:Se,classes:n,disabled:!0,style:{width:"205px"},InputProps:{endAdornment:e(mt,{position:"end",children:t(zt,{onClick:A=>{_&&_.current&&_.current.click()},children:[e("input",{accept:"*",ref:_,type:"file",style:{display:"none",width:"90%"},onChange:A=>{u(A,"ctaImage",m),y("ctaImage")}}),e("img",{src:wa,alt:""})]})}),accept:"*",readOnly:!0}}),e(le,{name:"ctaImage"})]})]}),r&&t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel}),e("div",{className:Q.salesMotionField,children:e(ra,{classes:Q.thumbnailImg,id:"ctaThumbnailImage",src:r.source,show:r.name&&r.source,alt:"ctaThumbnailImage",CustomStyles:{},CloseHandler:()=>{_.current.value="",c("ctaImage")}})})]}),t("div",{className:Q.salesMotionFieldWrap,children:[e("div",{className:Q.salesMotionLabel,children:He.embeddedCode}),t("div",{className:`${Q.salesMotionField} salesMotionTextArea`,children:[e(te,{type:"text",name:"ctaEmbeddedCode",placeholder:He.embeddedCode,component:Se,classes:n,onChange:o,onBlur:l,multiline:!0,value:m.ctaEmbeddedCode,hasError:i.ctaEmbeddedCode&&d.ctaEmbeddedCode,errorMessage:i.ctaEmbeddedCode}),e(le,{name:"ctaEmbeddedCode"})]})]})]}):null]})},C_=a=>{const{selectedSalesMotion:n,closeHandler:o,setAlert:l,setError:m,error:i,showCloseWarning:d,setShowCloseWarning:u,setIsDirty:r,isFormEdited:c,setIsFormEdited:p}=a,h=rt(),y=st(Ns),_=s.exports.useRef(null),[b,S]=s.exports.useState([]),[f,A]=s.exports.useState([]),[I,N]=s.exports.useState([]),[W,D]=s.exports.useState(0),[$,P]=s.exports.useState(!1),[E,M]=s.exports.useState(0),[U,L]=s.exports.useState(10),[k,g]=s.exports.useState(0),[w,x]=s.exports.useState([]),[V,G]=s.exports.useState(!0),[ie,Y]=s.exports.useState(!0),[re,ye]=s.exports.useState(!0),[H,pe]=s.exports.useState(!0),[v,R]=s.exports.useState(!0),[K,de]=s.exports.useState(!0),[ve,ke]=s.exports.useState({siteLayoutId:"",callOutSecOneId:"",callOutSecTwoId:"",ctaId:""}),[Oe,Ae]=s.exports.useState({action:null,dataLength:0}),[qe,_e]=s.exports.useState({name:"",description:"",targetBuyerTitles:[],layoutHeaderText:"",layoutSubHeaderText:"",layoutHeaderImage:"",layoutFontColor:"",layoutFontStyle:"",callOutOneheaderText:"",callOutOneSubHeaderText:"",callOutOneHeaderImage:"",callOutOneFontColor:"",callOutTwoHeaderText:"",callOutTwoSubHeaderText:"",callOutTwoHeaderImage:"",callOutTwoFontColor:"",ctaName:"",ctaHeaderText:"",ctaSubHeaderText:"",ctaImage:"",ctaEmbeddedCode:""}),We=Dt().shape({name:q().trim().required("Name is required"),description:q().trim().required("Description is required"),targetBuyerTitles:qo().min(1,"Minimum 1 Target buyer title is required"),layoutHeaderText:q().trim().max(50,"Maximum of  50 characters are allowed").required("Header text is required"),layoutSubHeaderText:q().trim().max(200,"Maximum of  200 characters are allowed").required("Sub header text is required"),layoutHeaderImage:q().trim().required("Header image is required"),layoutFontColor:q().trim().required("Font color is required"),layoutFontStyle:q().trim().required("Font style is required"),callOutOneheaderText:q().trim().required("Header text is required"),callOutOneSubHeaderText:q().trim().required("Sub header text is required"),callOutOneHeaderImage:q().trim().required("Header image is required"),callOutOneFontColor:q().trim().required("Font color is required"),callOutTwoHeaderText:q().trim().required("Header text is required"),callOutTwoSubHeaderText:q().trim().required("Sub header text is required"),callOutTwoHeaderImage:q().trim().required("Header image is required"),callOutTwoFontColor:q().trim().required("Font color is required"),ctaName:q().trim().required("CTA name is required"),ctaHeaderText:q().trim().required("Header text is required"),ctaSubHeaderText:q().trim().required("Sub header text is required"),ctaImage:q().trim().required("CTA image is required"),ctaEmbeddedCode:q().trim().required("Embedded code is required")}),{siteLayoutImage:Te,calloutOneImage:Qe,calloutTwoImage:vt,ctaImage:se}=Le,[ge,ce,oe]=yn([Te,Qe,vt,se]),T=J=>{var O;p(!0),(O=_==null?void 0:_.current)==null||O.setFieldValue(J,""),J==="layoutHeaderImage"?ce({type:"SET_IMAGEFILE_CANCEL",payload:{key:Te}}):J==="callOutOneHeaderImage"?ce({type:"SET_IMAGEFILE_CANCEL",payload:{key:Qe}}):J==="callOutTwoHeaderImage"?ce({type:"SET_IMAGEFILE_CANCEL",payload:{key:vt}}):J==="ctaImage"&&ce({type:"SET_IMAGEFILE_CANCEL",payload:{key:se}})},ee=(J,O,ne)=>{const ae=J.target.files[0];ae&&ae.name&&_&&_.current&&ae.type.includes("image/")?(p(!0),O==="layoutHeaderImage"?(oe(Te,ae),ne.layoutHeaderImage=ae.name):O==="callOutOneHeaderImage"?(oe(Qe,ae),ne.callOutOneHeaderImage=ae.name):O==="callOutTwoHeaderImage"?(oe(vt,ae),ne.callOutTwoHeaderImage=ae.name):O==="ctaImage"&&(oe(se,ae),ne.ctaImage=ae.name)):l(z=>ue(Z({},z),{showAlert:!0,message:Pe.fileErrorMessage,severity:"error"}))},Fe=()=>{const J=localStorage.getItem("token");fe("partnership/sales-hub/font-colors/",{Authorization:`Token ${J}`}).then(O=>{if(O.result===!0){const ne=O.data.map(ae=>({key:ae.name,id:ae.font_color_id,value:ae.name}));S(ne)}})},be=()=>{const J=localStorage.getItem("token");fe("partnership/sales-hub/font-family/",{Authorization:`Token ${J}`}).then(O=>{if(O.result===!0){const ne=O.data.map(ae=>({key:ae.name,id:ae.font_family_id,value:ae.description}));A(ne)}})},nt=(J,O)=>{const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0",B=new FormData;B.append("partnership_id",z),B.append("sales_motion_id",O.toString()),B.append("name",J.ctaName),B.append("header_text",J.ctaHeaderText),B.append("sub_header_text",J.ctaSubHeaderText),B.append("image",ge[se].file||J.ctaImage),B.append("embedded_code",J.ctaEmbeddedCode),xt("partnership/sales-motion/cta/",B,{Authorization:`Token ${ne}`}).then(we=>{we.result===!0?(we.data.cta,P(!1),console.log(y,"salesMotionRespData"),y.siteLayoutErrMsg===""&&y.callOutOneErrMsg===""&&y.callOutTwoErrMsg===""&&y.ctaErrMsg===""&&(h(hu({refreshTimeStamp:Date.now()})),l(Ce=>ue(Z({},Ce),{showAlert:!0,message:He.salesMotionSuccessMsg,severity:"success"})),o())):(P(!1),h(Ts({ctaErrMsg:we.data.msg,ctaValidationField:we.data.validation_error_field})))})},pt=(J,O)=>{const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0",B=new FormData;B.append("partnership_id",z),B.append("sales_motion_id",O.toString()),B.append("header_text",J.callOutTwoHeaderText),B.append("sub_header_text",J.callOutTwoSubHeaderText),B.append("header_image",ge[vt].file||J.callOutTwoHeaderImage),B.append("font_color_id",J.callOutTwoFontColor),B.append("data_type","call_out_section_2"),xt("partnership/sales-motion/site-layout/",B,{Authorization:`Token ${ne}`}).then(we=>{if(we.result===!0){const Ce=we.data.call_out_section_two;Ce!==null&&(_e(ue(Z({},_.current.values),{callOutTwoHeaderText:Ce.header_text,callOutTwoSubHeaderText:Ce.sub_header_text,callOutTwoHeaderImage:Ce.header_image_name,callOutTwoFontColor:Ce.font_color.font_color_id})),ce({type:"SET_API_IMAGE_DETAILS",payload:{key:vt,name:Ce.header_image_name,source:Ce.header_image}}))}else h(Si({callOutTwoErrMsg:we.data.msg,callOutTwoValidationField:we.data.validation_error_field}));nt(J,O)})},Re=(J,O)=>{const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0",B=new FormData;B.append("partnership_id",z),B.append("sales_motion_id",O.toString()),B.append("header_text",J.callOutOneheaderText),B.append("sub_header_text",J.callOutOneSubHeaderText),B.append("header_image",ge[Qe].file||J.callOutOneHeaderImage),B.append("font_color_id",J.callOutOneFontColor),B.append("data_type","call_out_section_1"),xt("partnership/sales-motion/site-layout/",B,{Authorization:`Token ${ne}`}).then(we=>{if(we.result===!0){const Ce=we.data.call_out_section_one;Ce!==null&&(_e(ue(Z({},_.current.values),{callOutOneheaderText:Ce.header_text,callOutOneSubHeaderText:Ce.sub_header_text,callOutOneHeaderImage:Ce.header_image_name,callOutOneFontColor:Ce.font_color.font_color_id})),ce({type:"SET_API_IMAGE_DETAILS",payload:{key:Qe,name:Ce.header_image_name,source:Ce.header_image}})),pt(J,O)}else h(Ci({callOutOneErrMsg:we.data.msg,callOutOneValidationField:we.data.validation_error_field}))})},Ft=(J,O)=>{const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0",B=new FormData;B.append("partnership_id",z),B.append("sales_motion_id",O.toString()),B.append("header_text",J.layoutHeaderText),B.append("sub_header_text",J.layoutSubHeaderText),B.append("header_image",ge[Te].file||J.layoutHeaderImage),B.append("font_color_id",J.layoutFontColor),B.append("data_type","site_layout"),B.append("font_style_id",J.layoutFontStyle),D(O),xt("partnership/sales-motion/site-layout/",B,{Authorization:`Token ${ne}`}).then(we=>{if(we.result===!0){const Ce=we.data.site_layout;Ce!==null&&(_e(ue(Z({},_.current.values),{layoutHeaderText:Ce.header_text,layoutSubHeaderText:Ce.sub_header_text,layoutHeaderImage:Ce.header_image_name,layoutFontColor:Ce.font_color.font_color_id,layoutFontStyle:Ce.font_style.font_family_id})),ce({type:"SET_API_IMAGE_DETAILS",payload:{key:Te,name:Ce.header_image_name,source:Ce.header_image}}),h(ho({siteLayoutErrMsg:"",siteLayoutValidationField:""}))),Re(J,O)}else h(ho({siteLayoutErrMsg:we.data.msg,siteLayoutValidationField:we.data.validation_error_field}))})},it=(J,O)=>{const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0",B=new FormData;B.append("partnership_id",z),B.append("sales_motion_id",O.toString()),B.append("site_layout_id",ve.siteLayoutId),B.append("header_text",J.layoutHeaderText),B.append("sub_header_text",J.layoutSubHeaderText),B.append("header_image",ge[Te].file||J.layoutHeaderImage),B.append("font_color_id",J.layoutFontColor),B.append("data_type","site_layout"),B.append("font_style_id",J.layoutFontStyle),D(O),ta("partnership/sales-motion/site-layout/",B,{Accept:"application/json",Authorization:`Token ${ne}`}).then(we=>{if(we.result===!0){const Ce=we.data.site_layout;Ce!==null&&(_e(ue(Z({},_.current.values),{layoutHeaderText:Ce.header_text,layoutSubHeaderText:Ce.sub_header_text,layoutHeaderImage:Ce.header_image_name,layoutFontColor:Ce.font_color.font_color_id,layoutFontStyle:Ce.font_style.font_family_id})),ce({type:"SET_API_IMAGE_DETAILS",payload:{key:Te,name:Ce.header_image_name,source:Ce.header_image}}))}})},wt=(J,O)=>{const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0",B=new FormData;B.append("partnership_id",z),B.append("sales_motion_id",O.toString()),B.append("call_out_section_one_id",ve.callOutSecOneId),B.append("header_text",J.callOutOneheaderText),B.append("sub_header_text",J.callOutOneSubHeaderText),B.append("header_image",ge[Qe].file||J.callOutOneHeaderImage),B.append("font_color_id",J.callOutOneFontColor),B.append("data_type","call_out_section_1"),ta("partnership/sales-motion/site-layout/",B,{Accept:"application/json",Authorization:`Token ${ne}`}).then(we=>{if(we.result===!0){const Ce=we.data.call_out_section_one;Ce!==null&&(_e(ue(Z({},_.current.values),{callOutOneheaderText:Ce.header_text,callOutOneSubHeaderText:Ce.sub_header_text,callOutOneHeaderImage:Ce.header_image_name,callOutOneFontColor:Ce.font_color.font_color_id})),ce({type:"SET_API_IMAGE_DETAILS",payload:{key:Qe,name:Ce.header_image_name,source:Ce.header_image}}))}})},Ta=(J,O)=>{const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0",B=new FormData;B.append("partnership_id",z),B.append("sales_motion_id",O.toString()),B.append("call_out_section_two_id",ve.callOutSecTwoId),B.append("header_text",J.callOutTwoHeaderText),B.append("sub_header_text",J.callOutTwoSubHeaderText),B.append("header_image",ge[vt].file||J.callOutTwoHeaderImage),B.append("font_color_id",J.callOutTwoFontColor),B.append("data_type","call_out_section_2"),ta("partnership/sales-motion/site-layout/",B,{Accept:"application/json",Authorization:`Token ${ne}`}).then(we=>{if(we.result===!0){const Ce=we.data.call_out_section_two;Ce!==null&&(_e(ue(Z({},_.current.values),{callOutTwoHeaderText:Ce.header_text,callOutTwoSubHeaderText:Ce.sub_header_text,callOutTwoHeaderImage:Ce.header_image_name,callOutTwoFontColor:Ce.font_color.font_color_id})),ce({type:"SET_API_IMAGE_DETAILS",payload:{key:vt,name:Ce.header_image_name,source:Ce.header_image}}))}})},pa=(J,O)=>{const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0",B=new FormData;B.append("partnership_id",z),B.append("sales_motion_id",O.toString()),B.append("cta_id",ve.ctaId),B.append("name",J.ctaName),B.append("header_text",J.ctaHeaderText),B.append("sub_header_text",J.ctaSubHeaderText),B.append("image",ge[se].file||J.ctaImage),B.append("embedded_code",J.ctaEmbeddedCode),ta("partnership/sales-motion/cta/",B,{Accept:"application/json",Authorization:`Token ${ne}`}).then(we=>{we.result===!0?(we.data.cta,P(!1),y.generalErrMsg===""&&y.siteLayoutErrMsg===""&&y.callOutOneErrMsg===""&&y.callOutTwoErrMsg===""&&y.ctaErrMsg===""&&(l(Ce=>ue(Z({},Ce),{showAlert:!0,message:He.salesMotionUpdateSuccessMsg,severity:"success"})),o())):(P(!1),h(Ts({ctaErrMsg:we.data.msg,ctaValidationField:we.data.validation_error_field})))})},oa=J=>{const O=localStorage.getItem("token"),ae=new URLSearchParams(window.location.search).get("partner_id")||"0";xt("partnership/sales-motion/solution-narrative-mapping/",{partnership_id:ae,sales_motion_id:J,solution_narrative_ids:I},{Authorization:`Token ${O}`}).then(z=>{z.result===!0&&console.log("")})},Ut=async J=>{P(!0);const O=new URLSearchParams(window.location.search),ne=O.get("partner_id")||"0",ae=O.get("sales_motion_id")||"0";ae!=="0"?await h(fu(J,it,wt,Ta,oa,pa,ne,_e,_,ae,()=>P(!1))):await h(_u(J,Ft,Re,pt,oa,nt,ne,_e,_,()=>P(!1)))},jt=J=>{const O=localStorage.getItem("token"),ae=new URLSearchParams(window.location.search).get("partner_id")||"0";fe(`partnership/sales-motion/?partnership_id=${ae}&sales_motion_id=${J}`,{Authorization:`Token ${O}`}).then(z=>{if(z.result===!0){const B=z.data.site_layout&&{layoutHeaderText:z.data.site_layout.header_text,layoutSubHeaderText:z.data.site_layout.sub_header_text,layoutHeaderImage:z.data.site_layout.header_image_name,layoutFontColor:z.data.site_layout.font_color.font_color_id,layoutFontStyle:z.data.site_layout.font_style.font_family_id},we=z.data.call_out_section_one&&{callOutOneheaderText:z.data.call_out_section_one.header_text,callOutOneSubHeaderText:z.data.call_out_section_one.sub_header_text,callOutOneHeaderImage:z.data.call_out_section_one.header_image_name,callOutOneFontColor:z.data.call_out_section_one.font_color.font_color_id},Ce=z.data.call_out_section_two&&{callOutTwoHeaderText:z.data.call_out_section_two.header_text,callOutTwoSubHeaderText:z.data.call_out_section_two.sub_header_text,callOutTwoHeaderImage:z.data.call_out_section_two.header_image_name,callOutTwoFontColor:z.data.call_out_section_two.font_color.font_color_id},Ge=z.data.cta&&{ctaName:z.data.cta.name,ctaHeaderText:z.data.cta.header_text,ctaSubHeaderText:z.data.cta.sub_header_text,ctaImage:z.data.cta.image_name,ctaEmbeddedCode:z.data.cta.embedded_code},ht=Z(Z(Z(Z(ue(Z({},_.current.values),{name:z.data.name,description:z.data.description,targetBuyerTitles:z.data.target_buyer_titles}),B),we),Ce),Ge);_e(Z({},ht)),ke({siteLayoutId:z.data.site_layout&&z.data.site_layout.site_layout_id,callOutSecOneId:z.data.call_out_section_one&&z.data.call_out_section_one.call_out_section_one_id,callOutSecTwoId:z.data.call_out_section_two&&z.data.call_out_section_two.call_out_section_two_id,ctaId:z.data.cta&&z.data.cta.cta_id}),z.data.site_layout&&ce({type:"SET_API_IMAGE_DETAILS",payload:{key:Te,name:z.data.site_layout.header_image_name,source:z.data.site_layout.header_image}}),z.data.call_out_section_one&&ce({type:"SET_API_IMAGE_DETAILS",payload:{key:Qe,name:z.data.call_out_section_one.header_image_name,source:z.data.call_out_section_one.header_image}}),z.data.call_out_section_two&&ce({type:"SET_API_IMAGE_DETAILS",payload:{key:vt,name:z.data.call_out_section_two.header_image_name,source:z.data.call_out_section_two.header_image}}),z.data.cta&&ce({type:"SET_API_IMAGE_DETAILS",payload:{key:se,name:z.data.cta.image_name,source:z.data.cta.image}})}})},Ot=J=>{const O=localStorage.getItem("token"),ae=new URLSearchParams(window.location.search).get("partner_id")||"0";fe(`partnership/sales-motion/solution-narrative-mapping/?partnership_id=${ae}&sales_motion_id=${J}&is_selected=true&is_inactive=true`,{Authorization:`Token ${O}`}).then(z=>{if(z.result===!0){const B=z.data&&z.data.map(we=>we.solution_narrative_id);N(B),z.data&&z.data.length>0?Ae({action:"UPDATE",dataLength:z.data.length}):Ae({action:"UPDATE",dataLength:0})}})},Yt=(J,O)=>{M(J);const ne=localStorage.getItem("token"),z=new URLSearchParams(window.location.search).get("partner_id")||"0";O!=="init"?fe(`partnership/sales-motion/solution-narrative-mapping/?partnership_id=${z}&offset=${J}&limit=${U}&sales_motion_id=${O}`,{Authorization:`Token ${ne}`}).then(B=>{B.result===!0&&B.data.length>0&&x(B.data),B.count&&g(B.count)}):fe(`partnership/sales-motion/solution-narrative-mapping/?partnership_id=${z}&offset=${J}&limit=${U}`,{Authorization:`Token ${ne}`}).then(B=>{B.result===!0&&B.data.length>0&&x(B.data),B.count&&g(B.count)})};return s.exports.useEffect(()=>{const O=new URLSearchParams(window.location.search).get("sales_motion_id")||"0";O!=="0"?(Ot(O),Yt(0,O),jt(O)):(Yt(0,"init"),Ae(ue(Z({},Oe),{action:"CREATE"}))),Fe(),be(),h(Dn({generalErrMsg:"",generalValidationField:""})),h(ho({siteLayoutErrMsg:"",siteLayoutValidationField:""})),h(Ci({callOutOneErrMsg:"",callOutOneValidationField:""})),h(Si({callOutTwoErrMsg:"",callOutTwoValidationField:""})),h(Ts({ctaErrMsg:"",ctaValidationField:""}))},[]),t("div",{className:`${Q.salesMotionFormWrap} salesMotionFormWrap`,children:[e(Rt,{innerRef:_,enableReinitialize:!0,initialValues:qe,validate:()=>({}),validationSchema:We,onSubmit:J=>{Ut(J)},children:J=>{const{handleChange:O,handleSubmit:ne,errors:ae,touched:z,handleBlur:B,values:we,setFieldValue:Ce,dirty:Ge,validateField:ht}=J;return r(Ge),t(qt,{className:Q.salesMotionForm,onSubmit:Ve=>{Ve.preventDefault(),G(!0),Y(!0),ye(!0),pe(!0),R(!0),de(!0),ne(Ve)},onKeyDown:Ve=>{Ve.key==="Enter"&&Ve.preventDefault()},children:[e(__,{sectionValues:J.values,onChange:O,onBlur:B,errors:ae,touched:z,general:V,setGeneral:G,setFieldValue:Ce}),e(g_,{sectionValues:J.values,onChange:O,onBlur:B,onFileSelected:ee,validateField:ht,fontColorList:b,fontStyleList:f,errors:ae,touched:z,siteLayoutThumbnailImage:ge[Te],OnImageCancel:T,siteLayout:ie,setSiteLayout:Y}),e(f_,{sectionValues:J.values,onChange:O,onBlur:B,onFileSelected:ee,validateField:ht,fontColorList:b,errors:ae,touched:z,callOutOneThumbnailImage:ge[Qe],OnImageCancel:T,callOutSectionOneShow:re,setCallOutSectionOneShow:ye}),e(y_,{sectionValues:J.values,onChange:O,onBlur:B,onFileSelected:ee,validateField:ht,fontColorList:b,errors:ae,touched:z,callOutTwoThumbnailImage:ge[vt],OnImageCancel:T,callOutSectionTwoShow:H,setCallOutSectionTwoShow:pe}),e(v_,{setSelected:N,selected:I,salesMotionId:W,assetCollectData:w,offset:E,limit:U,count:k,fetchAllAssetCollectData:Yt,setAssetCollectData:x,assetCollectionShow:v,setAssetCollectionShow:R,actionType:Oe,setIsFormEdited:p}),e(b_,{sectionValues:J.values,onChange:O,onBlur:B,onFileSelected:ee,validateField:ht,errors:ae,touched:z,ctaThumbnailImage:ge[se],OnImageCancel:T,ctaShow:K,setCtaShow:de}),t("div",{className:`${Q.salesMotionCreationBtnWrap} ${Q.bottomLayer}`,children:[e(At,{onClick:()=>{Ge||c?u(!0):o()},style:{minWidth:"160px",marginRight:"30px"},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.save})]})]})}}),d&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>u(!1),handleAgree:o,show:!0}),$&&e(ft,{})]})},S_="_salesMotionCardMainDiv_1k9rh_1",w_="_salesMotionCardMainContentsDiv_1k9rh_31",x_="_salesMotionLogo_1k9rh_45",A_="_salesMotionCardTitleDiv_1k9rh_57",I_="_salesMotionCardPartnersDiv_1k9rh_83",T_="_salesMotionCardContentDiv_1k9rh_95",N_="_salesMotionCardImgDiv_1k9rh_123",k_="_salesMotionCardImg_1k9rh_123",M_="_salesMotionCardHeader_1k9rh_167",L_="_salesMotionCardSubheader_1k9rh_201",$_="_salesMotionLogoContainer_1k9rh_233";var Ya={salesMotionCardMainDiv:S_,salesMotionCardMainContentsDiv:w_,salesMotionLogo:x_,salesMotionCardTitleDiv:A_,salesMotionCardPartnersDiv:I_,salesMotionCardContentDiv:T_,salesMotionCardImgDiv:N_,salesMotionCardImg:k_,salesMotionCardHeader:M_,salesMotionCardSubheader:L_,salesMotionLogoContainer:$_};function F_(a){var n,o,l,m,i,d;return t("div",{className:Ya.salesMotionCardMainDiv,children:[t("div",{className:Ya.salesMotionCardMainContentsDiv,children:[t("div",{className:Ya.salesMotionCardTitleDiv,children:[(n=a.title)==null?void 0:n.slice(0,30),((o=a.title)==null?void 0:o.length)>30?"...":""]}),t("div",{className:Ya.salesMotionLogoContainer,children:[a.logo.companyLogo&&e("img",{className:Ya.salesMotionLogo,src:a.logo.companyLogo,alt:""}),a.logo.partnerCompanyLogo&&e("img",{className:Ya.salesMotionLogo,src:a.logo.partnerCompanyLogo,alt:""})]})]}),t("div",{className:Ya.salesMotionCardImgDiv,children:[e("img",{className:Ya.salesMotionCardImg,src:a.img,alt:""}),t("div",{className:Ya.salesMotionCardHeader,children:[(l=a.header)==null?void 0:l.slice(0,30),((m=a.header)==null?void 0:m.length)>30?"...":""]}),t("div",{className:Ya.salesMotionCardSubheader,children:[(i=a.subHeader)==null?void 0:i.slice(0,30),((d=a.subHeader)==null?void 0:d.length)>30?"...":""]})]})]})}const E_=()=>{const a=rt(),[n,o]=s.exports.useState(!1),[l,m]=s.exports.useState(!1),[i,d]=s.exports.useState([]),[u,r]=s.exports.useState(!1),[c,p]=s.exports.useState([]),[h,y]=s.exports.useState(!1),[_,b]=s.exports.useState(0),[S,f]=s.exports.useState(0),[A,I]=s.exports.useState(1),[N,W]=s.exports.useState(9),[D,$]=s.exports.useState(!1),[P,E]=s.exports.useState(!1),[M,U]=s.exports.useState({showAlert:!1,severity:"",message:""}),[L,k]=s.exports.useState({field:"",errMsg:""}),[g,w]=s.exports.useState({companyLogo:"",partnerCompanyLogo:""}),x=new URLSearchParams(window.location.search),V=x.get("partner_id")||"0",G=x.get("sales_motion_id")||"0",ie=K=>{p([]);const de=localStorage.getItem("token");f(K),fe(`partnership/sales-motion/?partnership_id=${V}&offset=${K}&limit=${N}`,{Authorization:`Token ${de}`}).then(ve=>{ve.result===!0&&(p(ve.data),ve.count&&b(ve.count))})},Y=K=>{const de=localStorage.getItem("token");fe(`partnership/?partnership_id=${K}`,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${de}`}).then(ve=>{ve.result===!0&&w({companyLogo:ve.data.company_information.logo?`${ve.data.company_information.logo}?time=${new Date().getTime()}`:"",partnerCompanyLogo:ve.data.partner_company_information.logo?`${ve.data.partner_company_information.logo}?time=${new Date().getTime()}`:""})})};s.exports.useEffect(()=>{const K=!!x.get("createModal")||!1;ie(0),Y(V),o(K)},[]);const re=()=>{y(!0),a(gu(V,i,()=>y(!1),K=>U(de=>ue(Z({},de),{showAlert:!0,message:Ja.deleteSalesMotionMsg,severity:K})),()=>ie(0),()=>r(!1))),I(1),d([])},ye=()=>{i.length>0?r(!0):o(!0)},H=()=>{d([]),r(!1)},pe=(K,de)=>{const ve=i.indexOf(de);let ke=[];ve===-1?ke=ke.concat(i,de):ve===0?ke=ke.concat(i.slice(1)):ve===i.length-1?ke=ke.concat(i.slice(0,-1)):ve>0&&(ke=ke.concat(i.slice(0,ve),i.slice(ve+1))),d(ke)},v=gt(),R=(K,de)=>{I(de),ie((de-1)*N)};return t("div",{className:"salesMotion_main_div",children:[t("div",{className:"salesMotion_main_card",children:[t("div",{className:"salesMotion_title_div",children:[He.title,e("div",{children:t(Ke,{style:{minWidth:"225px"},onClick:()=>ye(),children:[i.length>0?"":e("img",{style:{marginRight:"10px"},src:Ks,alt:""}),_===0?He.createSalesMotion:i.length>0?He.deleteSalesMotion:He.createNew]})})]}),t("div",{className:"salesMotion_content_div",children:[e("div",{className:"salesMotionCards",children:c.length>0&&c.map(K=>{var de,ve;return t("div",{className:"salesMotionEachCard",children:[e(Po,{onChange:ke=>{pe(ke.target.checked,K.sales_motion_id)},checked:i.includes(K.sales_motion_id),className:"salesMotionEachCardCheckbox"}),e("div",{onClickCapture:()=>{o(!0),v.push(`/salesMotion?partner_id=${V}&sales_motion_id=${K.sales_motion_id}`)},children:e(F_,{img:(K==null?void 0:K.site_layout)&&K.site_layout.header_image?`${K.site_layout.header_image}?time=${new Date().getTime()}`:"",title:K==null?void 0:K.name,header:(de=K==null?void 0:K.site_layout)==null?void 0:de.header_text,subHeader:(ve=K==null?void 0:K.site_layout)==null?void 0:ve.sub_header_text,logo:g})})]},K.sales_motion_id)})}),e(Bt,{title:"",primaryContent:Ja.deleteDialogSalesMotionPrimaryContent,secondaryContent:Ja.deleteDialogSalesMotionSecondaryContent,secondaryButton:Ja.deleteDialogSecondaryButton,tertiaryContent:"",primaryButton:Ja.deleteDialogPrimaryButton,show:u,handleDialogBoxClose:()=>H(),handleAgree:()=>re()}),_>N&&e(Ma,{spacing:2,className:Q.paginationWrap,children:e(La,{count:Math.ceil(_/N),shape:"rounded",page:A,onChange:(K,de)=>R(K,de)})})]}),n&&e(Ha,{title:G!=="0"?"Update Sales Motion":"Create Sales Motion",closeHandler:()=>{P||D?m(!0):(v.push(`/salesMotion?partner_id=${V}`),ie(0),I(1),o(!1),m(!1),$(!1),E(!1))},renderElement:e(C_,{closeHandler:()=>{m(!1),$(!1),E(!1),v.push(`/salesMotion?partner_id=${V}`),I(1),o(!1),ie(0)},setError:(K,de)=>k({field:K,errMsg:de}),error:L,setAlert:U,setShowCloseWarning:m,showCloseWarning:l,isFormEdited:D,setIsFormEdited:$,setIsDirty:E})})]}),h===!0&&e(ft,{}),M.showAlert&&e(Ht,{severity:M.severity,handler:()=>{U(K=>ue(Z({},K),{showAlert:!1}))},showalert:M.showAlert,message:M.message})]})},D_="_nf_title_lztqg_1",P_="_nf_subtitle_lztqg_25";var Pi={nf_title:D_,nf_subtitle:P_};const Hi=()=>t("div",{children:[e("h1",{className:Pi.nf_title,children:"404"}),e("p",{className:Pi.nf_subtitle,children:"page not found"})]});var H_="/assets/white_plus_icon.07e07d60.svg";const B_="_accInfoField_1f9vv_1",O_="_semiField_1f9vv_17",W_="_labelField_1f9vv_35",R_="_changePwLink_1f9vv_41",q_="_accInfoBtnWrap_1f9vv_57",z_="_myAccWrap_1f9vv_73",U_="_previewWrap_1f9vv_79",j_="_assetForm_1f9vv_91",V_="_accInfoForm_1f9vv_103",G_="_bottomLayer_1f9vv_121",J_="_uploadAssetSelect_1f9vv_135",Z_="_subTitle_1f9vv_155",Y_="_tagInput_1f9vv_169";var lt={accInfoField:B_,semiField:O_,labelField:W_,changePwLink:R_,accInfoBtnWrap:q_,myAccWrap:z_,previewWrap:U_,assetForm:j_,accInfoForm:V_,bottomLayer:G_,uploadAssetSelect:J_,subTitle:Z_,tagInput:Y_,"MuiInput-underline":"_MuiInput-underline_1f9vv_187","Mui-disabled":"_Mui-disabled_1f9vv_187"};const K_="_paperShadow_1i9wi_1",X_="_fileIcon_1i9wi_15",Q_="_size_1i9wi_25",eg="_type_1i9wi_37";var Co={paperShadow:K_,fileIcon:X_,size:Q_,type:eg};const tg=s.exports.memo(a=>{const{uploadedFile:n,fileURL:o,uploadedFileSize:l,filePath:m}=a;console.log(a,"props");const i=n!==""?n.name.substr(n.name.lastIndexOf(".")+1):o.substr(o.lastIndexOf(".")+1);function d(r){const c=["bytes","KB","MB","GB"];let p=0,h=parseInt(r,10)||0;for(;h>=1024&&++p;)h/=1024;return h.toFixed(1)+" "+c[p]}const u=()=>{let r="";switch(i){case"docx":case"doc":r=eo;break;case"TXT":case"txt":r=Is;break;case"pdf":r=ws;break;case"pptx":case"ppt":r=Qs;break;case"xlsx":case"xls":case"csv":r=to;break;case"mp4":case"mkv":case"MP4":case"webm":case"MOV":case"mov":r=As;break;case"jpeg":case"webp":case"gif":case"jfif":case"jpg":case"png":case"svg":r=xs;break;default:r=Is}return r};return t("div",{children:[u()===ws?e("div",{className:"pdfAssetPreview",children:e(os,{fileType:"pdf",filePath:n&&URL.createObjectURL(n)||m},`${n==null?void 0:n.toString()}?t=${new Date().getTime()}`||`${m==null?void 0:m.toString()}?t=${new Date().getTime()}`)}):e(xe,{children:u()===xs?e("div",{className:"imageAssetPreview",children:e(os,{fileType:"png",filePath:n&&URL.createObjectURL(n)||m},`${n==null?void 0:n.toString()}?t=${new Date().getTime()}`||`${m==null?void 0:m.toString()}?t=${new Date().getTime()}`)}):e(xe,{children:u()===As?e("div",{className:"videoAssetPreview",children:e(os,{fileType:"mp4",filePath:m||n&&URL.createObjectURL(n)},`${m==null?void 0:m.toString()}?t=${new Date().getTime()}`||`${n==null?void 0:n.toString()}?t=${new Date().getTime()}`)}):e("div",{id:"paper",className:Co.paperShadow})})}),e("div",{className:Co.type,children:e("img",{src:u()})}),t("div",{className:Co.size,children:[ot.size,": ",n?d(n.size.toString()):l]})]})}),ag=a=>{const n=yt(),{cancelHandler:o,updateId:l,accessTypeList:m,partnershipId:i,setLoader:d,accessDocTypeList:u,clearLoader:r,showAlert:c,setShowCloseWarning:p,setFormEdited:h,formEdited:y,setIsDirty:_}=a,b=rt(),S=[{key:"active",id:1,value:"Active"},{key:"Inactive",id:2,value:"Inactive"}],[f,A]=Ie.useState("");Ie.useState("");const I=s.exports.useRef(null),N=s.exports.useRef(null),[W,D]=s.exports.useState(),[$,P]=s.exports.useState(""),[E,M]=s.exports.useState(""),U=k=>{var w;h(!0);const g=k.target.files[0];if(g&&g.name&&N&&N.current){A(g);const x=g.name;(w=N==null?void 0:N.current)==null||w.setFieldValue("assetFile",x)}};s.exports.useEffect(()=>{const k=localStorage.getItem("token");l?fe(`partnership/asset/?partnership_id=${i}&asset_id=${l}`,{Accept:"application/json",Authorization:`Token ${k}`}).then(g=>{g.result===!0&&(D({assetName:g.data.asset_name,assetType:g.data.access_type_id,assetFile:g.data.file_name,assetFileType:g.data.file_type_id,tags:g.data.tags,status:g.data.status_id||1}),P(g.data.file_size),M(g.data.file))}):D({assetName:"",assetType:"",assetFile:"",assetFileType:"",tags:[],status:""})},[]);const L=Dt().shape({assetName:q().trim().min(3,"Minimum 3 characters is required").required("Asset name is required"),assetType:q().trim().required("Access type is required"),assetFile:q().trim().required("Upload file is required")});return t("div",{className:lt.uploadFormWrap,children:[e("div",{className:lt.subTitle,children:ot.assetInfo}),e("div",{className:lt.myAccWrap,children:W&&e(Rt,{innerRef:N,enableReinitialize:!0,initialValues:W,validate:()=>({}),validationSchema:L,onSubmit:(k,{setFieldError:g})=>{d(),b(iu({assetName:k.assetName,assetType:k.assetType,assetFileType:k.assetFileType,assetFile:f,tags:k.tags,status:k.status},l,i,r,c,o))},children:k=>{const{values:g,handleChange:w,handleSubmit:x,errors:V,touched:G,handleBlur:ie,setErrors:Y,dirty:re,setFieldValue:ye,setFieldError:H,setFieldTouched:pe}=k;return _(re),t(qt,{className:lt.assetForm,onSubmit:v=>{v.preventDefault(),x(v)},onKeyDown:v=>{v.key==="Enter"&&v.preventDefault()},children:[t("div",{className:lt.accInfoForm,children:[t("div",{className:lt.accInfoField,children:[e("div",{className:`${lt.semiField} ${lt.labelField}`,children:ot.assetName}),t("div",{className:lt.semiField,children:[e(te,{type:"text",name:"assetName",value:g.assetName,onChange:w,onBlur:ie,placeholder:ot.assetName,hasError:V.assetName&&G.assetName,errorMessage:V.assetName,component:Se,classes:n}),e(le,{name:"assetName"})]})]}),t("div",{className:lt.accInfoField,children:[e("div",{className:`${lt.semiField} ${lt.labelField}`,children:ot.accessType}),t("div",{className:lt.semiField,children:[e(Pt,{name:"assetType",value:g.assetType,displayEmpty:!0,renderValue:g.assetType!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",ot.accessType]}),onChange:w,onBlur:ie,className:lt.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:m.map(v=>e(Ue,{value:v.id,children:v.value},v.id))}),e(le,{name:"assetType"})]})]}),t("div",{className:lt.accInfoField,children:[e("div",{className:`${lt.semiField} ${lt.labelField}`,children:ot.uploadFile}),t("div",{className:`${lt.semiField} disabledFile`,children:[e(te,{name:"assetFile",component:Se,classes:n,type:"file",disabled:!0,placeholder:ot.uploadFile,InputProps:{endAdornment:e(mt,{position:"end",children:t(et,{onClick:v=>{I&&I.current&&I.current.click()},children:[e("input",{accept:"*",ref:I,type:"file",style:{display:"none"},onChange:v=>{U(v)}}),e("img",{src:wa,alt:""})]})}),accept:"*",readOnly:!0}}),e(le,{name:"assetFile"})]})]}),t("div",{className:lt.accInfoField,children:[e("div",{className:`${lt.semiField} ${lt.labelField}`,children:ot.tags}),t("div",{className:lt.semiField,children:[e(jn,{selectedTags:v=>console.log(v),fullWidth:!0,selectedChip:g.tags,className:`${lt.tagInput} tagsField`,variant:"outlined",id:"tags",name:"tags",errorMessage:V.tags&&G.tags,placeholder:"Add tags",hasError:!0,setFieldValue:ye}),e(le,{name:"tags"})]})]}),l!==""&&t("div",{className:lt.accInfoField,children:[e("div",{className:`${lt.semiField} ${lt.labelField}`,children:ot.status}),e("div",{className:lt.semiField,children:e(Pt,{name:"status",value:g.status,className:lt.uploadAssetSelect,displayEmpty:!0,renderValue:g.status!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",ot.status]}),onChange:w,onBlur:ie,inputProps:{"aria-label":"Without label"},children:S.map(v=>e(Ue,{value:v.id,children:v.value},v.id))})})]})]}),e("div",{className:lt.previewWrap,children:(f!==""||g.assetFile!=="")&&e(tg,{uploadedFile:f,fileURL:g.assetFile,filePath:E,uploadedFileSize:$})}),t("div",{className:`${lt.accInfoBtnWrap} ${lt.bottomLayer}`,children:[e(At,{onClick:()=>{re||y?p(!0):o()},style:{minWidth:"160px",marginRight:"30px"},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.save})]})]})}})})]})},ng="_assetHead_am9t9_1",sg="_assetTitle_am9t9_11",og="_flexBackground_am9t9_21",ig="_assetHeadWrap_am9t9_33",rg="_filterWrap_am9t9_39",lg="_centerDropDown_am9t9_49",cg="_searchbar_am9t9_55",dg="_inputWrap_am9t9_87",mg="_searchIcon_am9t9_95",ug="_assetBtn_am9t9_109",pg="_plusWrap_am9t9_137",hg="_dropDownFilter_am9t9_157",_g="_dropdownBtn_am9t9_179",gg="_arrowIcon_am9t9_227",fg="_arrowIconActive_am9t9_241",yg="_dropdown_am9t9_179",vg="_menuWrap_am9t9_253",bg="_dropdownMenu_am9t9_285",Cg="_docTypeCell_am9t9_291",Sg="_assetTable_am9t9_305",wg="_tableWrap_am9t9_339",xg="_tagChip_am9t9_373",Ag="_searchBtn_am9t9_397",Ig="_chipsWrap_am9t9_403",Tg="_assetCheckBox_am9t9_411",Ng="_modal_am9t9_419",kg="_modalActive_am9t9_463",Mg="_modalcontent_am9t9_507",Lg="_modalcontenttitle_am9t9_527",$g="_modalSecContenttitle_am9t9_539",Fg="_btnPrimary_am9t9_557",Eg="_btnOutlined_am9t9_559",Dg="_btnTopWrap_am9t9_607",Pg="_paginationWrap_am9t9_621",Hg="_noRecord_am9t9_653";var ze={assetHead:ng,assetTitle:sg,flexBackground:og,assetHeadWrap:ig,filterWrap:rg,centerDropDown:lg,searchbar:cg,inputWrap:dg,searchIcon:mg,assetBtn:ug,plusWrap:pg,dropDownFilter:hg,dropdownBtn:_g,arrowIcon:gg,arrowIconActive:fg,dropdown:yg,menuWrap:vg,dropdownMenu:bg,docTypeCell:Cg,assetTable:Sg,tableWrap:wg,tagChip:xg,searchBtn:Ag,chipsWrap:Ig,assetCheckBox:Tg,modal:Ng,modalActive:kg,modalcontent:Mg,modalcontenttitle:Lg,modalSecContenttitle:$g,btnPrimary:Fg,btnOutlined:Eg,btnTopWrap:Dg,paginationWrap:Pg,"Mui-selected":"_Mui-selected_am9t9_645",noRecord:Hg},Bi="/assets/Pdf.2a1862ca.svg",Oi="/assets/PPT.939b1495.svg",Wi="/assets/Image.78469235.svg",Ri="/assets/Video.ea854b1a.svg",Ls="/assets/Document.01db7949.svg",qi="/assets/Word.b20164aa.svg",zi="/assets/Excel.3cafabb0.svg";const Bg=a=>{const{tableData:n=[],selected:o,handleSelectAllClick:l,handleCheckboxClick:m,handleUpdateAsset:i}=a,d=c=>{let p="";switch(c){case"Pdf":p=Bi;break;case"Image":p=Wi;break;case"Video":p=Ri;break;case"Powerpoint":p=Oi;break;case"Word":p=qi;break;case"Excel":p=zi;break;case"Others":p=Ls;break;default:p=Ls}return p},u=va(qn)(()=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),r=va(Et)(()=>({"&:last-child td, &:last-child th":{border:0}}));return t(Ua,{component:as,children:[t(ja,{sx:{minWidth:700},"aria-label":"customized table",className:ze.assetTable,children:[e(Va,{children:t(Et,{children:[e(u,{children:e(Xt,{className:n.length>0&&n.filter(c=>o.includes(c.id.toString())).length===n.length?ze.assetCheckBox:"",checked:n.length>0&&n.length===n.filter(c=>o.includes(c.id.toString())).length,onChange:c=>l(c)})}),e(u,{children:ot.name}),e(u,{children:ot.docType}),e(u,{children:ot.accessType}),e(u,{children:ot.tags})]})}),console.log(n,"tableData"),n.length>0&&e(ka,{children:n.map(c=>t(r,{onClick:()=>i(c.id),children:[e(u,{component:"td",children:e(Xt,{className:o.includes(c.id.toString())?ze.assetCheckBox:"",checked:o.length>0?o.includes(c.id.toString()):!1,onClick:p=>m(p,c.id.toString())})}),e(u,{children:c.name}),e(u,{children:t("div",{className:ze.docTypeCell,children:[e("img",{src:d(c.docType),alt:""}),e("span",{children:c.docType})]})}),e(u,{children:c.accessDocType}),e(u,{children:e("div",{className:ze.chipsWrap,children:c.tags.map((p,h)=>e("span",{className:ze.tagChip,children:p},`${h+1}+${p}`))})})]},c.id))})]}),(n.length===0||n===void 0||n===!1)&&e("div",{className:ze.noRecord,children:ot.noRecords})]})},Og=()=>{const a=[{key:"Internal",id:1,value:"Internal"},{key:"External",id:2,value:"External"}],n=[{key:"active",id:1,value:"Active"},{key:"inActive",id:2,value:"Inactive"}],[o,l]=s.exports.useState(!1),[m,i]=s.exports.useState(!1),[d,u]=s.exports.useState(""),[r,c]=s.exports.useState(""),[p,h]=s.exports.useState(""),[y,_]=s.exports.useState(""),[b,S]=s.exports.useState([]),[f,A]=s.exports.useState([""]),[I,N]=s.exports.useState(!1),[W,D]=s.exports.useState(!1),[$,P]=s.exports.useState(!1);s.exports.useState(!1);const[E,M]=s.exports.useState([]),[U,L]=s.exports.useState(0),[k,g]=s.exports.useState(10),[w,x]=s.exports.useState(1),[V,G]=s.exports.useState(0),[ie,Y]=s.exports.useState({showAlert:!1,severity:"",message:""}),[re,ye]=s.exports.useState(!1),[H,pe]=s.exports.useState(!1),[v,R]=s.exports.useState(!1),K=new URLSearchParams(window.location.search),de=K.get("partner_id")||"0",ve=st(gi),ke=rt(),Oe=()=>{const T=localStorage.getItem("token"),ee=r!==""&&r!=="All"?a.filter(Re=>Re.value===r)[0].id:"",Fe=p!==""&&p!=="All"?E.length>0&&E.filter(Re=>Re.value===p)[0].id:"",be=d!==""?`&name=${d}`:"",nt=r!==""&&ee!==""?`&access_type_id=${ee}`:"",pt=p!==""&&Fe!==""?`&file_type_id=${Fe}`:"";U===0&&x(1),fe(`partnership/asset/?partnership_id=${de}${be}${nt}${pt}&offset=${U}&limit=${k}&is_inactive=true`,{Authorization:`Token ${T}`}).then(Re=>{if(Re.result===!0){const Ft=Re.data.length>0&&Re.data.map(it=>{const wt={};return wt.name=it.asset_name,wt.tags=it.tags,wt.docType=it.file_type,wt.id=it.asset_id,wt.file=it.file,wt.accessDocType=it.access_type,wt.status=it.status_id,wt});S(Ft),Re.count&&G(Re.count)}})},Ae=()=>{const T=localStorage.getItem("token");fe("partnership/asset/get-file-type-list/",{Authorization:`Token ${T}`}).then(ee=>{if(ee.result===!0){const Fe=ee.data.map(be=>({key:be.name,id:be.file_type_id,value:be.name}));M(Fe)}})},qe=Ie.useRef(),_e=Ie.useRef(),We=T=>{qe.current&&!qe.current.contains(T.target)&&i(!1),_e.current&&!_e.current.contains(T.target)&&l(!1)};s.exports.useEffect(()=>{const T=!!K.get("assetModal")||!1;return Oe(),Ae(),D(T),document.addEventListener("mousedown",We),()=>document.removeEventListener("mousedown",We)},[]);const Te=T=>{const ee=T.filter(Fe=>Fe!=="");ke(ru(de,ee,f,A,()=>N(!1),()=>P(!1),(Fe,be)=>Y(nt=>ue(Z({},nt),{showAlert:!0,message:ve.errorMsg,severity:Fe})),Oe))},Qe=(T,ee)=>{L((ee-1)*k),x(ee)},vt=T=>{_(T.toString()),D(!0),Oe()};s.exports.useEffect(()=>{Oe()},[U]);const se=(T,ee)=>{T==="accDocType"?h(ee):T==="accType"&&c(ee)},ge=T=>{if(T.target.checked){const be=b.map(nt=>nt.id.toString());A(Array.from(new Set([...f,...be])));return}const ee=b.map(be=>be.id.toString()),Fe=f.filter(be=>!ee.includes(be));A(Fe)},ce=(T,ee)=>{T.stopPropagation();const Fe=f.indexOf(ee);let be=[];Fe===-1?be=be.concat(f,ee):Fe===0?be=be.concat(f.slice(1)):Fe===f.length-1?be=be.concat(f.slice(0,-1)):Fe>0&&(be=be.concat(f.slice(0,Fe),f.slice(Fe+1))),A(be)},oe=()=>{D(!1),_(""),Oe(),ye(!1),pe(!1),R(!1)};return t("div",{className:ze.flexBackground,children:[t("div",{className:ze.assetHeadWrap,children:[t("div",{className:ze.assetHead,children:[e("div",{className:ze.assetTitle,children:ot.manageAssets}),e("div",{className:ze.btnTopWrap,children:f.filter(T=>T!=="").length>0?e(bt,{className:ze.assetBtn,onClick:()=>N(!0),children:ot.deleteAsset}):t(bt,{className:ze.assetBtn,onClick:()=>D(!0),children:[t("div",{className:ze.plusWrap,children:[" ",e("img",{src:H_,alt:"add"})," "]}),ot.addAsset]})})]}),t("div",{className:ze.filterWrap,children:[t("div",{className:ze.inputWrap,children:[e("form",{children:e("input",{type:"text",name:"name",onKeyDown:T=>{T.key==="Enter"&&T.preventDefault()},onChange:T=>{T.key==="Enter"?T.preventDefault():u(T.target.value)},placeholder:"Search assets",className:`${ze.searchbar} search`})}),e(us,{className:ze.searchIcon})]}),e("div",{className:ze.centerDropDown,children:t("div",{className:ze.dropdown,ref:_e,children:[t("button",{type:"button",className:ze.dropdownBtn,onClick:()=>l(!o),children:[" ",r===""?e("span",{style:{fontSize:"12px",letterSpacing:"normal"},children:ot.filterByAccessType}):r,e(tn,{className:`${ze.arrowIcon}  ${o?ze.arrowIconActive:""}`})]}),e("div",{className:`${ze.menuWrap} ${o?ze.dropdownMenuActive:ze.dropdownMenu}`,children:o&&t(xe,{children:[e(Ue,{value:"",onClick:()=>{se("accType","All"),l(!1)},children:"All"}),a.map(T=>e(Ue,{value:T.value,onClick:()=>{se("accType",T.value),l(!1)},children:T.value},T.id))]})})]})}),e("div",{children:t("div",{className:ze.dropdown,ref:qe,children:[t("button",{type:"button",className:ze.dropdownBtn,onClick:()=>i(!m),children:[" ",p===""?e("span",{style:{fontSize:"12px",letterSpacing:"normal"},children:ot.filterByDocType}):p,e(tn,{className:`${ze.arrowIcon}  ${o?ze.arrowIconActive:""}`})]}),e("div",{className:`${ze.menuWrap} ${m?ze.dropdownMenuActive:ze.dropdownMenu}`,children:m&&t(xe,{children:[e(Ue,{value:"",onClick:()=>{se("accDocType","All"),i(!1)},children:"All"}),E.map(T=>e(Ue,{value:T.value,onClick:()=>{se("accDocType",T.value),i(!1)},children:T.value},T.id))]})})]})}),e("div",{className:ze.searchBtn,children:e(bt,{className:ze.assetBtn,onClick:()=>{L(0),x(1),A([]),Oe()},children:ot.search})})]})]}),e("div",{className:ze.tableWrap,children:e(Bg,{tableData:b,selected:f,handleUpdateAsset:vt,handleSelectAllClick:ge,handleCheckboxClick:ce})}),V>k&&e(Ma,{spacing:2,className:ze.paginationWrap,children:e(La,{count:Math.ceil(V/k),shape:"rounded",page:w,onChange:(T,ee)=>Qe(T,ee)})}),W&&e(Ha,{title:y!==""?ot.updateAsset:ot.uploadTitle,closeHandler:()=>{v||H?ye(!0):oe()},renderElement:e(ag,{accessTypeList:a,accessDocTypeList:E,statusList:n,updateTable:S,tableData:b,selected:f,updateId:y,partnershipId:de,setLoader:()=>P(!0),clearLoader:()=>P(!1),showAlert:(T,ee)=>Y(Fe=>ue(Z({},Fe),{showAlert:!0,message:ee,severity:T})),cancelHandler:()=>oe(),showCloseWarning:re,setShowCloseWarning:ye,setFormEdited:pe,formEdited:H,setIsDirty:R})}),ie.showAlert&&e(Ht,{severity:ie.severity,handler:()=>{Y(T=>ue(Z({},T),{showAlert:!1}))},showalert:ie.showAlert,message:ve.errorMsg}),re&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>ye(!1),handleAgree:()=>oe(),show:!0}),$===!0&&e(ft,{}),I&&e("div",{className:I?ze.modalActive:ze.modal,children:t("div",{className:ze.modalcontent,children:[e("p",{className:ze.modalcontenttitle,children:ot.deleteAsset}),t("p",{className:ze.modalSecContenttitle,children:[" ",ot.confirmDeleteAsset]}),e(At,{onClick:()=>N(!1),style:{minWidth:"160px",marginRight:"10px"},children:ot.cancel}),e(Ke,{style:{minWidth:"160px"},onClick:()=>Te(f),children:ot.deleteAsset})]})})]})},Wg="_flexBackground_1yrbp_1",Rg="_container_1yrbp_15",qg="_link_1yrbp_29",zg="_mailReceiveTxt_1yrbp_43",Ug="_verifyTitle_1yrbp_51",jg="_mailSent_1yrbp_61",Vg="_mail_1yrbp_43",Gg="_spam_1yrbp_75",Jg="_verifyTxt_1yrbp_83",Zg="_signIn_1yrbp_93",Yg="_thanksWrap_1yrbp_119",Kg="_invalidToken_1yrbp_133";var Ka={flexBackground:Wg,container:Rg,link:qg,mailReceiveTxt:zg,verifyTitle:Ug,mailSent:jg,mail:Vg,spam:Gg,verifyTxt:Jg,signIn:Zg,thanksWrap:Yg,invalidToken:Kg};const Ui=()=>{const a=gt(),[n,o]=Ie.useState(!1),[l,m]=Ie.useState(!1),[i,d]=Ie.useState(!1);return s.exports.useEffect(()=>{const u=new URLSearchParams(window.location.search).get("verifytoken");o(!0),fe(`users/confirm-email-verification/?verifytoken=${u}`).then(r=>{r.result===!0?(console.log(r,"resp"),m(!0)):m(!1),o(!1),d(!0)})},[]),t("div",{className:Ka.flexBackground,children:[e("div",{className:Ka.container,children:l===!0?t(xe,{children:[t("div",{className:Ka.mailImgWrap,children:[" ",e("img",{src:vo,alt:"",className:"mailImg"})]}),e("div",{className:Ka.verifyTitle,children:rs.verifiedTxt}),t("div",{className:Ka.thanksWrap,children:[e("div",{children:rs.thanksTxt}),e("div",{children:rs.cosellTeam})]}),e("div",{className:Ka.verifyTxt,children:t("div",{className:`${Ka.link} ${Ka.mailReceiveTxt}`,children:[rs.signInLabel,e(bt,{size:"small",className:Ka.linkBtn,onClick:()=>a.push("/"),children:rs.here})]})})]}):n===!1&&i&&e("div",{className:Ka.invalidToken,children:"Token Invalid"})}),n===!0&&e(ft,{})]})};var ji="/assets/left_arrow.3767c245.svg";const Xg={generalErrMsg:"",generalValidationField:"",siteLayoutErrMsg:"",siteLayoutValidationField:"",callOutOneErrMsg:"",callOutOneValidationField:"",callOutTwoErrMsg:"",callOutTwoValidationField:"",ctaErrMsg:"",ctaValidationField:"",currentSalesHubAccountId:"",accountTeamErrMsg:"",accountTeamValidationField:""},Vi=en({name:"salesHub",initialState:Xg,reducers:{setGeneralErrMsg(a,{payload:n}){a.generalErrMsg=n.generalErrMsg,a.generalValidationField=n.generalValidationField},setSiteLayoutErrMsg(a,{payload:n}){a.siteLayoutErrMsg=n.siteLayoutErrMsg,a.siteLayoutValidationField=n.siteLayoutValidationField},setCallOutOneErrMsg(a,{payload:n}){a.callOutOneErrMsg=n.callOutOneErrMsg,a.callOutOneValidationField=n.callOutOneValidationField},setCallOutTwoErrMsg(a,{payload:n}){a.callOutTwoErrMsg=n.callOutTwoErrMsg,a.callOutTwoValidationField=n.callOutTwoValidationField},setCtaErrMsg(a,{payload:n}){a.ctaErrMsg=n.ctaErrMsg,a.ctaValidationField=n.ctaValidationField},setCurrentSalesHubAccId(a,{payload:n}){a.currentSalesHubAccountId=n.currentSalesHubAccountId},setaccountTeamErrMsg(a,{payload:n}){a.accountTeamErrMsg=n.accountTeamErrMsg,a.accountTeamValidationField=n.accountTeamValidationField}}}),{setGeneralErrMsg:Wa,setSiteLayoutErrMsg:$s,setCallOutOneErrMsg:Fs,setCallOutTwoErrMsg:Es,setCtaErrMsg:Kn,setCurrentSalesHubAccId:Bn,setaccountTeamErrMsg:Ra}=Vi.actions,bn=a=>a.salesHubAccountSlice,Qg=(a,n,o,l,m,i,d,u)=>(r,c)=>{const p=localStorage.getItem("token"),h=new URLSearchParams(window.location.search),y=h.get("partner_id")||"0",_=h.get("sales_hub_account_id")||"0",b="partnership/sales-hub-account/sales-opportunity/",S=a.estimatedDealAmount!==""?{estimate_deal_amount:a.estimatedDealAmount}:{},f=Z({opportunity_name:a.opportunityName,sales_stage:a.salesStage,created_date:a.createdDate,estimated_close_date:a.estimatedCloseDate,sales_hub_account_id:_,partner_ship_id:y},S),A={Authorization:`Token ${p}`};(n!=="0"?Cs(b,ue(Z({},f),{sales_opportunity_id:n}),A):xt(b,f,A)).then(N=>{N.result===!0?(console.log(N,"rsp",a),i(),o||d(),u(),l&&l(),m()):(m(),r(Wa({generalErrMsg:N.data.msg,generalValidationField:N.data.validation_error_field})))})},So=(a,n,o,l,m,i)=>(d,u)=>{const r=u(),c=bn(r),p=localStorage.getItem("token"),h=new URLSearchParams(window.location.search),y=h.get("partner_id")||"0",_=h.get("sales_hub_account_id")||"0";if(o){const b=a.trim().split(",").filter(S=>S.trim()!=="").map(S=>S.trim());xt("partnership/sales-hub-account/account-team/",{partnership_id:y,sales_hub_account_id:n,emails:b},{Authorization:`Token ${p}`}).then(S=>{S.result===!0?(m(),i(),l(),d(Bn({currentSalesHubAccountId:""})),d(Ra({accountTeamErrMsg:"",accountTeamValidationField:""}))):(l(),d(Ra({accountTeamErrMsg:S.data.msg,accountTeamValidationField:S.data.validation_error_field})))})}else if(_==="0"&&!o){const b=a.trim().split(",").filter(S=>S.trim()!=="").map(S=>S.trim());xt("partnership/sales-hub-account/account-team/",{partnership_id:y,sales_hub_account_id:n,emails:b},{Authorization:`Token ${p}`}).then(S=>{S.result===!0?(l(),c.generalErrMsg===""&&c.siteLayoutErrMsg===""&&c.callOutOneErrMsg===""&&c.callOutTwoErrMsg===""&&c.ctaErrMsg===""&&(m(),i(),l(),d(Bn({currentSalesHubAccountId:""})),d(Ra({accountTeamErrMsg:"",accountTeamValidationField:""})))):S.data.msg.includes("already exists")?c.generalErrMsg===""&&c.siteLayoutErrMsg===""&&c.callOutOneErrMsg===""&&c.callOutTwoErrMsg===""&&c.ctaErrMsg===""&&(m(),i(),l(),d(Bn({currentSalesHubAccountId:""})),d(Ra({accountTeamErrMsg:"",accountTeamValidationField:""}))):(l(),d(Ra({accountTeamErrMsg:S.data.msg,accountTeamValidationField:S.data.validation_error_field})))})}else c.generalErrMsg===""&&c.siteLayoutErrMsg===""&&c.callOutOneErrMsg===""&&c.callOutTwoErrMsg===""&&c.ctaErrMsg===""&&(m(),i(),l(),d(Bn({currentSalesHubAccountId:""})),d(Ra({accountTeamErrMsg:"",accountTeamValidationField:""})))},Gi=(a,n,o,l,m,i,d,u,r,c,p,h)=>y=>{var A;const _=localStorage.getItem("token"),S=new URLSearchParams(window.location.search).get("partner_id")||"0",f=new FormData;f.append("partnership_id",S),f.append("sales_motion_id",a.salesMotion.toString()),f.append("sales_hub_account_id",n.toString()),f.append("cta_name",a.ctaName),f.append("header_text",a.ctaHeaderTxt),f.append("sub_header_text",a.ctaSubHeaderTxt),f.append("cta_image",i.file||((A=i==null?void 0:i.source)==null?void 0:A.replace(/(\?time=.*)/gm,""))),f.append("embedded_code",a.ctaEmbeddedCode),p.ctaId?(f.append("cta_id",p.ctaId),ta("partnership/sales-hub-account/cta/",f,{Authorization:`Token ${_}`}).then(I=>{I.result===!0?y(Kn({ctaErrMsg:"",ctaValidationField:""})):y(Kn({ctaErrMsg:I.data.msg,ctaValidationField:I.data.validation_error_field})),u()}).finally(()=>{y(So(a.accountTeamEmailList,n,!1,u,r,c))})):Ca("partnership/sales-hub-account/cta/",f,{Authorization:`Token ${_}`}).then(I=>{I.result===!0&&I.data?(u(),I.data.cta.cta_id&&h("ctaId",I.data.cta.cta_id),y(Kn({ctaErrMsg:"",ctaValidationField:""}))):(u(),y(Kn({ctaErrMsg:I.data.msg,ctaValidationField:I.data.validation_error_field})))}).finally(()=>{y(So(a.accountTeamEmailList,n,!1,u,r,c))})},Ji=(a,n,o,l,m,i,d,u,r,c,p,h)=>y=>{var A;const _=localStorage.getItem("token"),S=new URLSearchParams(window.location.search).get("partner_id")||"0",f=new FormData;f.append("partnership_id",S),f.append("sales_hub_account_id",n.toString()),f.append("sales_motion_id",a.salesMotion.toString()),f.append("header_text",a.callOutTwoHeaderText),f.append("sub_header_text",a.callOutTwoSubHeaderTxt),f.append("header_image",l.file||((A=l==null?void 0:l.source)==null?void 0:A.replace(/(\?time=.*)/gm,""))),f.append("font_color_id",a.callOutTwoFontColor),f.append("data_type","call_out_section_2"),p.callOutSecTwoId?(f.append("call_out_section_two_id",p.callOutSecTwoId),ta("partnership/sales-hub-account/site-layout/",f,{Authorization:`Token ${_}`}).then(I=>{I.result===!0?y(Es({callOutTwoErrMsg:"",callOutTwoValidationField:""})):y(Es({callOutTwoErrMsg:I.data.msg,callOutTwoValidationField:I.data.validation_error_field})),y(Gi(a,n,o,l,m,i,!0,u,r,c,p,h))})):Ca("partnership/sales-hub-account/site-layout/",f,{Authorization:`Token ${_}`}).then(I=>{I.result===!0?(I.data.call_out_section_two.call_out_section_two_id&&h("callOutSecTwoId",I.data.call_out_section_two.call_out_section_two_id),y(Es({callOutTwoErrMsg:"",callOutTwoValidationField:""}))):y(Es({callOutTwoErrMsg:I.data.msg,callOutTwoValidationField:I.data.validation_error_field})),y(Gi(a,n,o,l,m,i,!1,u,r,c,p,h))})},Zi=(a,n,o,l,m,i,d,u,r,c,p,h)=>y=>{var A;const _=localStorage.getItem("token"),S=new URLSearchParams(window.location.search).get("partner_id")||"0",f=new FormData;f.append("partnership_id",S),f.append("sales_motion_id",a.salesMotion.toString()),f.append("sales_hub_account_id",n.toString()),f.append("header_text",a.callOutOneHeaderText),f.append("sub_header_text",a.callOutOneSubHeaderTxt),f.append("header_image",m.file||((A=m==null?void 0:m.source)==null?void 0:A.replace(/(\?time=.*)/gm,""))),f.append("font_color_id",a.callOutOneFontColor),f.append("data_type","call_out_section_1"),p.callOutSecOneId?(f.append("call_out_section_one_id",p.callOutSecOneId),ta("partnership/sales-hub-account/site-layout/",f,{Authorization:`Token ${_}`}).then(I=>{I.result===!0?y(Fs({callOutOneErrMsg:"",callOutOneValidationField:""})):y(Fs({callOutOneErrMsg:I.data.msg,callOutOneValidationField:I.data.validation_error_field})),y(Ji(a,n,o,l,m,i,!0,u,r,c,p,h))})):Ca("partnership/sales-hub-account/site-layout/",f,{Authorization:`Token ${_}`}).then(I=>{I.result===!0?(I.data.call_out_section_one.call_out_section_one_id&&h("callOutSecOneId",I.data.call_out_section_one.call_out_section_one_id),y(Fs({callOutOneErrMsg:"",callOutOneValidationField:""}))):y(Fs({callOutOneErrMsg:I.data.msg,callOutOneValidationField:I.data.validation_error_field})),y(Ji(a,n,o,l,m,i,!1,u,r,c,p,h))})},Yi=(a,n,o,l,m,i,d,u,r,c,p,h)=>y=>{var A;const _=localStorage.getItem("token"),S=new URLSearchParams(window.location.search).get("partner_id")||"0",f=new FormData;f.append("partnership_id",S),f.append("sales_motion_id",a.salesMotion.toString()),f.append("sales_hub_account_id",n.toString()),f.append("header_text",a.layOutHeaderText),f.append("sub_header_text",a.layOutSubHeaderTxt),f.append("header_image",o.file||((A=o==null?void 0:o.source)==null?void 0:A.replace(/(\?time=.*)/gm,""))),f.append("font_color_id",a.layOutFontColor),f.append("data_type","site_layout"),f.append("font_style_id",a.layOutFontStyle),p.siteLayoutId?(f.append("site_layout_id",p.siteLayoutId),ta("partnership/sales-hub-account/site-layout/",f,{Authorization:`Token ${_}`}).then(I=>{I.result===!0?y($s({siteLayoutErrMsg:"",siteLayoutValidationField:""})):y($s({siteLayoutErrMsg:I.data.msg,siteLayoutValidationField:I.data.validation_error_field})),y(Zi(a,n,o,l,m,i,!0,u,r,c,p,h))})):Ca("partnership/sales-hub-account/site-layout/",f,{Authorization:`Token ${_}`}).then(I=>{I.result===!0?(I.data.site_layout,I.data.site_layout.site_layout_id&&h("siteLayoutId",I.data.site_layout.site_layout_id),y($s({siteLayoutErrMsg:"",siteLayoutValidationField:""}))):y($s({siteLayoutErrMsg:I.data.msg,siteLayoutValidationField:I.data.validation_error_field})),y(Zi(a,n,o,l,m,i,!1,u,r,c,p,h))})},ef=(a,n,o,l,m,i,d,u,r,c,p,h,y,_,b)=>S=>{var W,D;const f=localStorage.getItem("token"),I=new URLSearchParams(window.location.search).get("partner_id")||"0",N=new FormData;N.append("partnership_id",I),N.append("company_name",a.companyName),N.append("company_logo",o.file||((W=o==null?void 0:o.source)==null?void 0:W.replace(/(\?time=.*)/gm,""))),N.append("company_website",a.companyWebsite),N.append("domain_name",a.domainName),N.append("account_type",a.accountType),N.append("industry",a.industry),N.append("target_buyer_titles",JSON.stringify(a.targetBuyerTitles)),N.append("is_team_checkin_cadence",a.cadenceShow.toString()),N.append("team_checkin_cadence_frequency",a.candenceFrequency),N.append("team_checkin_cadence_day",a.candenceValue),N.append("is_service_partner_involved",a.servicePartnerShow.toString()),N.append("service_provider_name",a.servicePartnerName),N.append("service_provider_logo",l.file||((D=l==null?void 0:l.source)==null?void 0:D.replace(/(\?time=.*)/gm,""))),n!==""&&N.append("status_id ",n),r!=="0"||b!==""?(N.append("sales_hub_account_id",r==="0"?b:r),ta("partnership/sales-hub-account/",N,{Authorization:`Token ${f}`}).then($=>{if($.result===!0){const P=$.data&&$.data.sales_hub_account_id;S(Bn({currentSalesHubAccountId:$.data&&$.data.sales_hub_account_id.toString()})),S(Wa({generalErrMsg:"",generalValidationField:""})),S(Yi(a,P,m,i,d,u,!0,h,y,_,c,p))}else h(),S(Wa({generalErrMsg:$.data.msg,generalValidationField:$.data.validation_error_field}))})):Ca("partnership/sales-hub-account/",N,{Authorization:`Token ${f}`}).then($=>{if($.result===!0){const P=$.data&&$.data.sales_hub_account_id;S(Wa({generalErrMsg:"",generalValidationField:""})),S(Bn({currentSalesHubAccountId:$.data&&$.data.sales_hub_account_id.toString()})),S(Yi(a,P,m,i,d,u,!1,h,y,_,c,p))}else h(),S(Wa({generalErrMsg:$.data.msg,generalValidationField:$.data.validation_error_field}))})};var tf=Vi.reducer;const af="_formContainer_6208r_37",nf="_accInfoField_6208r_45",sf="_semiField_6208r_63",of="_labelField_6208r_73",rf="_salesMenuWrap_6208r_95",lf="_salesMenu_6208r_95",cf="_accInfoBtnWrap_6208r_137",df="_myAccWrap_6208r_155",mf="_accInfoFom_6208r_163",uf="_salesHubAccFormWrap_6208r_181",pf="_salesHubAccForm_6208r_181",hf="_salesHubEditAccForm_6208r_221",_f="_salesHubAccFieldWrap_6208r_231",gf="_bottomLayer_6208r_251",ff="_bottomLayerAccount_6208r_267",yf="_UserInfoBottomLayer_6208r_297",vf="_salesHubAccDropDown_6208r_311",bf="_salesHubEditAccFieldWrap_6208r_363",Cf="_salesHubAccLabel_6208r_383",Sf="_salesHubAccField_6208r_231",wf="_upload_img_div_6208r_415",xf="_chooseTxt_6208r_423",Af="_salesHubAccMiniField_6208r_433",If="_thumbnailImg_6208r_443",Tf="_solTable_6208r_455",Nf="_tagChip_6208r_505",kf="_chipsWrap_6208r_531",Mf="_bannerCard_6208r_543",Lf="_cardContainer_6208r_581",$f="_loadLink_6208r_607",Ff="_cardWrap_6208r_625",Ef="_teamCadenceinput_6208r_639",Df="_inputHelper_6208r_659",Pf="_accountTable_6208r_671",Hf="_accountCheckBox_6208r_747",Bf="_emailavatar_6208r_755",Of="_accTeamTableWrap_6208r_769",Wf="_accTeamTable_6208r_769",Rf="_salesOppTable_6208r_781",qf="_paginationWrap_6208r_789",zf="_avatarCell_6208r_821",Uf="_mailRefreshImg_6208r_831",jf="_manageAccLabel_6208r_845",Vf="_manageAccountWrap_6208r_859",Gf="_userInformationWrap_6208r_871",Jf="_userInformationFieldWrap_6208r_883",Zf="_userInfoForm_6208r_895",Yf="_salesInfoForm_6208r_901",Kf="_noResults_6208r_909",Xf="_fullField_6208r_925",Qf="_searchbar_6208r_933",ey="_closeWrap_6208r_963",ty="_tagInput_6208r_973",ay="_hidden_6208r_991";var C={formContainer:af,accInfoField:nf,semiField:sf,labelField:of,salesMenuWrap:rf,salesMenu:lf,accInfoBtnWrap:cf,myAccWrap:df,accInfoFom:mf,salesHubAccFormWrap:uf,salesHubAccForm:pf,salesHubEditAccForm:hf,salesHubAccFieldWrap:_f,bottomLayer:gf,bottomLayerAccount:ff,UserInfoBottomLayer:yf,salesHubAccDropDown:vf,salesHubEditAccFieldWrap:bf,salesHubAccLabel:Cf,salesHubAccField:Sf,upload_img_div:wf,chooseTxt:xf,salesHubAccMiniField:Af,thumbnailImg:If,solTable:Tf,tagChip:Nf,chipsWrap:kf,bannerCard:Mf,cardContainer:Lf,loadLink:$f,cardWrap:Ff,teamCadenceinput:Ef,inputHelper:Df,accountTable:Pf,accountCheckBox:Hf,emailavatar:Bf,accTeamTableWrap:Of,accTeamTable:Wf,salesOppTable:Rf,paginationWrap:qf,"Mui-selected":"_Mui-selected_6208r_813",avatarCell:zf,mailRefreshImg:Uf,manageAccLabel:jf,manageAccountWrap:Vf,userInformationWrap:Gf,userInformationFieldWrap:Jf,userInfoForm:Zf,salesInfoForm:Yf,noResults:Kf,fullField:Xf,searchbar:Qf,closeWrap:ey,tagInput:ty,hidden:ay};const ny=a=>{const{formikValues:n,assetCollectData:o,assetCollectionShow:l,setAssetCollectionShow:m}=a,i=ba(ss)(({theme:c})=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),d=ba(Et)(({theme:c})=>({"&:nth-of-type(odd)":{backgroundColor:c.palette.action.hover},"&:last-child td, &:last-child th":{border:0}})),r=new URLSearchParams(window.location.search).get("sales_hub_account_id")||"0";return t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>m(!l),children:["Asset Collections",e(et,{children:e("img",{src:St,alt:""})})]}),e("div",{className:C.generalFromMainDiv,children:l?e("div",{className:C.manage_solution_narrative_mainContent,children:e("div",{className:C.assetCollectTableWrap,children:n.salesMotion!==""?e(xe,{children:o.length>0?r!=="0"?e("div",{className:C.cardWrap,children:o.map(c=>t("div",{className:C.bannerCard,children:[e("img",{src:(c==null?void 0:c.image)?`${c==null?void 0:c.image}?time=${Date.now()}`:c==null?void 0:c.image,alt:"Avatar"}),t("div",{className:C.cardContainer,children:[e("h4",{children:c.name}),e("p",{children:c.description})]})]},c.solution_narrative_id))}):e(Ua,{component:as,className:C.solTable,children:t(ja,{sx:{minWidth:700},"aria-label":"customized table",children:[e(Va,{children:t(Et,{children:[e(i,{children:ma.tableName}),e(i,{children:ma.tableNoOfAssets}),e(i,{children:ma.tableTags})]})}),e(ka,{children:o.map(c=>t(d,{children:[e(i,{children:t("div",{style:{display:"flex",alignItems:"center"},children:[e("img",{src:(c==null?void 0:c.image)?`${c==null?void 0:c.image}?time=${Date.now()}`:c==null?void 0:c.image,alt:"",style:{width:"60px",height:"30px",borderRadius:"10px",marginRight:"15px"}}),c.name]})}),e(i,{children:c.asset_count}),t(i,{children:[" ",e("div",{className:C.chipsWrap,children:c.tags.map((p,h)=>e("span",{className:C.tagChip,children:p},`${h+1}+${p}`))})]})]},c.solution_narrative_id))})]})}):e("p",{className:C.chooseTxt,children:ma.noSalesMotionMapped})}):e("p",{className:C.chooseTxt,children:ma.viewAssetCollections})})}):null})]})};const sy=a=>{const n=yt(),[o,l]=s.exports.useState(""),{formikValues:m,errors:i,touched:d,handleBlur:u,handleChange:r,accountTypeList:c,candenceList:p,onFileSelected:h,companyLogo:y,showGeneral:_,setShowGeneral:b,statusShow:S,statusChosen:f,setStatusChosen:A,statusList:I,OnImageCancel:N,validateField:W,servicePartnerLogo:D,prevDomainName:$,setFormEdited:P,setFieldValue:E}=a,M=Ie.useRef(null),U=Ie.useRef(null),L=st(bn),g=new URLSearchParams(window.location.search).get("sales_hub_account_id")||"0",w=rt();return s.exports.useEffect(()=>{const x=setTimeout(()=>{l(""),w(Wa({generalErrMsg:"",generalValidationField:""}))},15e3);return l(L.generalErrMsg),()=>clearTimeout(x)},[L]),s.exports.useEffect(()=>{w(Wa({generalErrMsg:"",generalValidationField:""}))},[]),t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>b(!_),children:[an.general,e(et,{children:e("img",{src:St,alt:""})})]}),_?e(xe,{children:t("div",{className:C.salesHubAccFormWrap,children:[t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.companyName}),t("div",{className:C.salesHubAccField,children:[e(te,{type:"text",name:"companyName",value:m.companyName,onChange:r,onBlur:u,placeholder:me.companyName,hasError:i.companyName&&d.companyName,errorMessage:i.companyName,component:fn,classes:n}),o!==""&&L.generalValidationField==="company_name"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:o}):e(le,{name:"companyName"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.companyLogo}),t("div",{className:`${C.salesHubAccField} disabledFile`,children:[e(te,{type:"file",name:"companyLogo",readOnly:!0,disabled:!0,hasError:i.companyLogo&&d.companyLogo,errorMessage:i.companyLogo,placeholder:me.companyLogo,component:Se,classes:n,InputProps:{endAdornment:e(mt,{position:"end",children:t(et,{onClick:x=>{M&&M.current&&M.current.click()},children:[e("input",{accept:"image/*",ref:M,type:"file",style:{display:"none"},onChange:x=>{h(x,"companyLogo"),W("companyLogo"),P(!0)}}),e("img",{src:wa,alt:""})]})}),accept:"image/*",readOnly:!0}}),y&&e(ra,{id:"headerImg",classes:C.thumbnailImg,src:y.source,show:y.name&&y.source,alt:"companyLogo",CustomStyles:{},CloseHandler:()=>{M.current.value="",N("companyLogo")}}),e(le,{name:"companyLogo"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.companyWebsite}),t("div",{className:C.salesHubAccField,children:[e(te,{type:"text",name:"companyWebsite",value:m.companyWebsite,onChange:g==="0"&&r,onBlur:g==="0"&&u,placeholder:me.companyWebsite,className:"Mui-disabled fieldDisabled",hasError:i.companyWebsite&&d.companyWebsite,errorMessage:i.companyWebsite,classes:n,component:Se}),o!==""&&L.generalValidationField==="companyWebsite"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:o}):e(le,{name:"companyWebsite"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.accountType}),t("div",{className:`${C.salesHubAccField} salesHubAccSelect`,children:[e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"accountType",value:m.accountType,displayEmpty:!0,renderValue:m.accountType!==""?void 0:()=>t("span",{className:"salesHubAccSelectName",children:[" ",me.accountType]}),onChange:(x,V)=>{r(x,V)},onBlur:u,className:C.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:c&&c.map(x=>e(Ue,{value:x.account_type_id,children:x.name},x.account_type_id))}),e(le,{name:"accountType"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.industry}),t("div",{className:C.salesHubAccField,children:[e(te,{type:"text",name:"industry",value:m.industry,onChange:r,onBlur:u,placeholder:me.industry,hasError:i.industry&&d.industry,errorMessage:i.industry,component:fn,classes:n}),e(le,{name:"industry"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.targetBuyerTitles}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(jn,{selectedTags:x=>console.log(x),fullWidth:!0,selectedChip:m.targetBuyerTitles,className:`${C.tagInput} tagsField`,variant:"outlined",id:"targetBuyerTitles",name:"targetBuyerTitles",setFieldValue:E,placeholder:me.targetBuyerTitles,hasError:i.targetBuyerTitles&&d.targetBuyerTitles,errorMessage:i.targetBuyerTitles&&d.targetBuyerTitles,onBlur:x=>{u(x,"targetBuyerTitles")}}),e("small",{className:`styles.inputHelper ${i.targetBuyerTitles&&d.targetBuyerTitles?C.hidden:""}`,children:me.TargetBuyerHelperText}),e(le,{name:"targetBuyerTitles"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.domainName}),t("div",{className:C.salesHubAccField,children:[e(te,{type:"text",name:"domainName",value:m.domainName,onChange:g==="0"&&r,onBlur:g==="0"&&u,readOnly:g!=="0",disabled:g!=="0",placeholder:me.domainName,className:"Mui-disabled fieldDisabled",hasError:i.domainName&&d.domainName,errorMessage:i.domainName,classes:n,component:Se}),e("div",{style:{color:"grey",fontSize:"14px",padding:"5px 0",width:"100%",wordBreak:"break-all"},children:`${$||localStorage.getItem("subDomainName")}.lp.partners/${m.domainName}`}),o!==""&&L.generalValidationField==="domain_name"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:o}):e(le,{name:"domainName"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.teamCadence}),t("div",{className:`${C.salesHubAccField} salesHubAccFieldCheckBox`,children:[e(te,{name:"cadenceShow",type:"checkbox",component:Js,label:"",style:{color:"#707683",fontSize:"14px"},checked:m.cadenceShow}),m.cadenceShow?t("div",{className:`${C.salesHubAccMiniField} salesHubAccMiniSelect`,children:[t("div",{className:"cadenceInput",children:[e(te,{type:"text",name:"candenceValue",value:m.candenceValue,onChange:x=>{x.target.value>0&&r(x)},style:{padding:"0 5px"},onBlur:u,placeholder:me.cadenceId,hasError:i.candenceValue&&d.candenceValue,errorMessage:i.candenceValue,component:Se,classes:n.root}),e("div",{className:"candenceInputErrorMsg",children:e(le,{name:"candenceValue"})})]}),t("div",{style:{width:"100%"},children:[e(Pt,{style:{padding:"4px 10px"},name:"candenceFrequency",value:m.candenceFrequency||"",displayEmpty:!0,fullWidth:!0,renderValue:m.candenceFrequency!==""&&m.candenceFrequency!==null?void 0:()=>t("span",{className:"salesHubAccSelectName",children:[" ","Select Frequency"]}),onChange:(x,V)=>{r(x,V)},onBlur:u,className:C.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:p&&p.map(x=>e(Ue,{value:x.team_checkin_cadence_frequency_id,children:x.name},x.team_checkin_cadence_frequency_id))}),e(le,{name:"candenceFrequency"})]})]}):""]})]}),e("div",{className:`${C.salesHubAccFieldWrap} ${C.fullField}`,children:t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.servicePartnerInvloved}),e("div",{className:`${C.salesHubAccField} salesHubAccFieldCheckBox`,children:e(te,{name:"servicePartnerShow",type:"checkbox",component:Js,label:"",style:{color:"#707683",fontSize:"14px"},checked:m.servicePartnerShow})})]})}),m.servicePartnerShow&&t(xe,{children:[t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.servicePartnerName}),t("div",{className:C.salesHubAccField,children:[e(te,{type:"text",name:"servicePartnerName",value:m.servicePartnerName,onChange:r,onBlur:u,placeholder:me.servicePartnerName,hasError:i.servicePartnerName&&d.servicePartnerName,errorMessage:i.servicePartnerName,component:fn,classes:n}),o!==""&&L.generalValidationField==="servicePartnerName"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:o}):e(le,{name:"servicePartnerName"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.servicePartnerLogo}),t("div",{className:`${C.salesHubAccField} disabledFile`,children:[e(te,{type:"file",name:"servicePartnerLogo",readOnly:!0,disabled:!0,hasError:i.servicePartnerLogo&&d.servicePartnerLogo,errorMessage:i.servicePartnerLogo,placeholder:me.servicePartnerLogo,component:Se,classes:n,InputProps:{endAdornment:e(mt,{position:"end",children:t(et,{onClick:x=>{U&&U.current&&U.current.click()},children:[e("input",{accept:"image/*",ref:U,type:"file",style:{display:"none"},onChange:x=>{h(x,"servicePartnerLogo"),W("servicePartnerLogo"),P(!0)}}),e("img",{src:wa,alt:""})]})}),accept:"image/*",readOnly:!0}}),D&&e(ra,{id:"servicePartnerHeaderImg",classes:C.thumbnailImg,src:D.source,alt:"",show:D.name&&D.source,CustomStyles:{},CloseHandler:()=>{U.current.value="",N("servicePartnerLogo")}}),e(le,{name:"servicePartnerLogo"})]})]})]}),S&&t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.status}),e("div",{className:`${C.salesHubAccField} salesHubAccSelect`,children:e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"status",value:f,displayEmpty:!0,renderValue:f!==""?void 0:()=>t("span",{className:"salesHubAccSelectName",children:[" ",me.status]}),onChange:(x,V)=>{r(x,V)},onBlur:u,className:C.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:I&&I.map(x=>e(Ue,{value:x.id,onClick:()=>A(x.id),children:x.value},x.key))})})]})]})}):null]})},oy=a=>{const n=yt(),{formikValues:o,errors:l,touched:m,handleBlur:i,handleChange:d,onFileSelected:u,salesMotionList:r,fontStyleList:c,fontColorList:p,fetchSalesMotionDataById:h,layOutHeaderImage:y,showSiteLayout:_,setShowSiteLayout:b,OnImageCancel:S,setFormEdited:f,fetchDeletedSalesMotion:A,fetchSalesHubAccountDetailById:I}=a,N=Ie.useRef(null);return t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>b(!_),children:[an.siteLayout,e(et,{children:e("img",{src:St,alt:""})})]}),_?e(xe,{children:t("div",{className:C.salesHubAccFormWrap,children:[e("div",{className:`${C.salesHubAccFieldWrap} ${C.fullField}`,children:t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.salesMotion}),t("div",{className:`${C.salesHubAccField} salesHubAccSelect`,children:[e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"salesMotion",value:o.salesMotion||1,displayEmpty:!0,renderValue:o.salesMotion!==""?void 0:()=>t("span",{className:"salesHubAccSelectName",children:[" ",me.salesMotion]}),onChange:(W,D)=>{var P;d(W,D),((P=r.filter(E=>E.id===W.target.value)[0])==null?void 0:P.value.includes("(deleted)"))?A(W.target.value):h(W.target.value),f(!0)},onBlur:i,className:C.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:r&&r.map(W=>e(Ue,{value:W.id,children:W.value},W.id))}),e(le,{name:"salesMotion"})]})]})}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.headerText}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"layOutHeaderText",value:o.layOutHeaderText,onBlur:i,onChange:d,hasError:l.layOutHeaderText&&m.layOutHeaderText,errorMessage:l.layOutHeaderText,disabled:o.salesMotion===""||o.salesMotion===void 0,component:Se,classes:n,multiline:!0,placeholder:me.headerText}),e(le,{name:"layOutHeaderText"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.subHeaderText}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"layOutSubHeaderTxt",value:o.layOutSubHeaderTxt,onBlur:i,onChange:d,hasError:l.layOutSubHeaderTxt&&m.layOutSubHeaderTxt,errorMessage:l.layOutSubHeaderTxt,disabled:o.salesMotion===""||o.salesMotion===void 0,component:Se,classes:n,multiline:!0,placeholder:me.subHeaderText}),e(le,{name:"layOutSubHeaderTxt"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.headerImage}),t("div",{className:C.salesHubAccField,children:[e(te,{type:"file",name:"layOutHeaderImg",value:o.layOutHeaderImg,readOnly:!0,hasError:l.layOutHeaderImg&&m.layOutHeaderImg,errorMessage:l.layOutHeaderImg,disabled:o.salesMotion===""||o.salesMotion===void 0,placeholder:me.headerImage,component:Se,classes:n,InputProps:{endAdornment:e(mt,{position:"end",children:t(et,{onClick:W=>{N&&N.current&&N.current.click()},children:[e("input",{accept:"image/*",ref:N,type:"file",style:{display:"none"},onChange:W=>u(W,"layOutHeaderImg"),disabled:o.salesMotion===""||o.salesMotion===void 0}),e("img",{src:wa,alt:""})]})}),accept:"image/*",readOnly:!0}}),y&&e(ra,{id:"layOutHeaderImg",classes:C.thumbnailImg,src:y.source,show:y.name&&y.source,alt:"layOutHeaderImage",CustomStyles:{},CloseHandler:()=>{N.current.value="",S("layOutHeaderImg")}}),e(le,{name:"layOutHeaderImg"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.fontColor}),t("div",{className:`${C.salesHubAccField} salesHubAccSelect`,children:[e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"layOutFontColor",value:o.layOutFontColor,displayEmpty:!0,renderValue:o.layOutFontColor!==""?void 0:()=>t("span",{className:"salesHubAccSelectName",children:[" ",me.fontColor]}),onChange:(W,D)=>{d(W,D)},onBlur:i,disabled:o.salesMotion===""||o.salesMotion===void 0,className:C.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:p&&p.map(W=>e(Ue,{value:W.id,children:W.value},W.id))}),e(le,{name:"layOutFontColor"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.fontStyle}),t("div",{className:`${C.salesHubAccField} salesHubAccSelect`,children:[e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"layOutFontStyle",value:o.layOutFontStyle,displayEmpty:!0,renderValue:o.layOutFontStyle!==""?void 0:()=>t("span",{className:"salesHubAccSelectName",children:[" ",me.fontStyle]}),onChange:(W,D)=>{d(W,D)},onBlur:i,disabled:o.salesMotion===""||o.salesMotion===void 0,className:C.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:c&&c.map(W=>e(Ue,{value:W.id,children:W.value},W.id))}),e(le,{name:"layOutFontStyle"})]})]})]})}):null]})},iy=a=>{const n=yt(),{formikValues:o,errors:l,touched:m,handleBlur:i,handleChange:d,fontColorList:u,onFileSelected:r,callOutOneHeaderImage:c,setShowSection1:p,showSection1:h,OnImageCancel:y}=a,_=Ie.useRef(null);return t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>p(!h),children:[an.calloutSection1,e(et,{children:e("img",{src:St,alt:""})})]}),h?e(xe,{children:t("div",{className:C.salesHubAccFormWrap,children:[t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.headerText}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"callOutOneHeaderText",value:o.callOutOneHeaderText,onBlur:i,onChange:d,hasError:l.callOutOneHeaderText&&m.callOutOneHeaderText,errorMessage:l.callOutOneHeaderText,component:Se,classes:n,multiline:!0,disabled:o.salesMotion===""||o.salesMotion===void 0,placeholder:me.headerText}),e(le,{name:"callOutOneHeaderText"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.subHeaderText}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"callOutOneSubHeaderTxt",value:o.callOutOneSubHeaderTxt,onBlur:i,onChange:d,hasError:l.callOutOneSubHeaderTxt&&m.callOutOneSubHeaderTxt,errorMessage:l.callOutOneSubHeaderTxt,component:Se,classes:n,multiline:!0,disabled:o.salesMotion===""||o.salesMotion===void 0,placeholder:me.subHeaderText}),e(le,{name:"callOutOneSubHeaderTxt"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.headerImage}),t("div",{className:`${C.salesHubAccField} disabledFile`,children:[e(te,{type:"file",name:"callOutOneHeaderImg",readOnly:!0,hasError:l.callOutOneHeaderImg&&m.callOutOneHeaderImg,disabled:!0,errorMessage:l.callOutOneHeaderImg,placeholder:me.headerImage,component:Se,classes:n,InputProps:{endAdornment:e(mt,{position:"end",children:t(et,{onClick:b=>{_&&_.current&&_.current.click()},children:[e("input",{accept:"image/*",ref:_,type:"file",style:{display:"none"},onChange:b=>r(b,"callOutOneHeaderImg"),disabled:o.salesMotion===""||o.salesMotion===void 0}),e("img",{src:wa,alt:""})]})}),accept:"image/*",readOnly:!0}}),c&&e(ra,{id:"callOutOneHeaderImg",classes:C.thumbnailImg,src:c.source,show:c.name&&c.source,alt:"callOutOneHeaderImage",CustomStyles:{},CloseHandler:()=>{_.current.value="",y("callOutOneHeaderImg")}}),e(le,{name:"callOutOneHeaderImg"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.fontColor}),t("div",{className:`${C.salesHubAccField} salesHubAccSelect`,children:[e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"callOutOneFontColor",value:o.callOutOneFontColor,displayEmpty:!0,renderValue:o.callOutOneFontColor!==""?void 0:()=>t("span",{className:"salesHubAccSelectName",children:[" ",me.fontColor]}),disabled:o.salesMotion===""||o.salesMotion===void 0,onChange:(b,S)=>{d(b,S)},onBlur:i,className:C.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:u&&u.map(b=>e(Ue,{value:b.id,children:b.value},b.id))}),e(le,{name:"callOutOneFontColor"})]})]})]})}):null]})},ry=a=>{const n=yt(),{formikValues:o,errors:l,touched:m,handleBlur:i,handleChange:d,fontColorList:u,onFileSelected:r,callOutTwoHeaderImage:c,setShowSection2:p,showSection2:h,OnImageCancel:y}=a,_=Ie.useRef(null);return t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>p(!h),children:[an.calloutSection2,e(et,{children:e("img",{src:St,alt:""})})]}),h?e(xe,{children:t("div",{className:C.salesHubAccFormWrap,children:[t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.headerText}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"callOutTwoHeaderText",value:o.callOutTwoHeaderText,onBlur:i,onChange:d,hasError:l.callOutTwoHeaderText&&m.callOutTwoHeaderText,errorMessage:l.callOutTwoHeaderText,component:Se,classes:n,multiline:!0,disabled:o.salesMotion===""||o.salesMotion===void 0,placeholder:"Enter header text"}),e(le,{name:"callOutTwoHeaderText"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.subHeaderText}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"callOutTwoSubHeaderTxt",value:o.callOutTwoSubHeaderTxt,onBlur:i,onChange:d,hasError:l.callOutTwoSubHeaderTxt&&m.callOutTwoSubHeaderTxt,errorMessage:l.callOutTwoSubHeaderTxt,component:Se,classes:n,multiline:!0,disabled:o.salesMotion===""||o.salesMotion===void 0,placeholder:"Enter sub header text"}),e(le,{name:"callOutTwoSubHeaderTxt"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.headerImage}),t("div",{className:`${C.salesHubAccField} disabledFile`,children:[e(te,{type:"file",name:"callOutTwoHeaderImg",disabled:!0,readOnly:!0,hasError:l.callOutTwoHeaderImg&&m.callOutTwoHeaderImg,errorMessage:l.callOutTwoHeaderImg,placeholder:me.headerImage,component:Se,classes:n.root,InputProps:{endAdornment:e(mt,{position:"end",children:t(et,{onClick:b=>{_&&_.current&&_.current.click()},children:[e("input",{accept:"image/*",ref:_,type:"file",style:{display:"none"},onChange:b=>r(b,"callOutTwoHeaderImg"),disabled:o.salesMotion===""||o.salesMotion===void 0}),e("img",{src:wa,alt:""})]})}),accept:"image/*",readOnly:!0}}),c&&e(ra,{id:"callOutTwoHeaderImg",classes:C.thumbnailImg,src:c.source,show:c.name&&c.source,alt:"callOutTwoHeaderImage",CustomStyles:{},CloseHandler:()=>{_.current.value="",y("callOutTwoHeaderImg")}}),e(le,{name:"callOutTwoHeaderImg"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.fontColor}),t("div",{className:`${C.salesHubAccField} salesHubAccSelect`,children:[e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"callOutTwoFontColor",value:o.callOutTwoFontColor,displayEmpty:!0,renderValue:o.callOutTwoFontColor!==""?void 0:()=>t("span",{className:"salesHubAccSelectName",children:[" ",me.fontColor]}),disabled:o.salesMotion===""||o.salesMotion===void 0,onChange:(b,S)=>{d(b,S)},onBlur:i,className:C.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:u&&u.map(b=>e(Ue,{value:b.id,children:b.value},b.id))}),e(le,{name:"callOutTwoFontColor"})]})]})]})}):null]})},ly=a=>{const n=yt(),{formikValues:o,errors:l,touched:m,handleBlur:i,handleChange:d,onFileSelected:u,ctaImage:r,showCta:c,setShowCta:p,OnImageCancel:h}=a,[y,_]=Ie.useState(""),b=st(bn),S=Ie.useRef(null);return s.exports.useEffect(()=>{const f=setTimeout(()=>_(""),2e4);return _(b.ctaErrMsg),()=>clearTimeout(f)},[b]),s.exports.useEffect(()=>{Kn({ctaErrMsg:"",ctaValidationField:""})},[]),t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>p(!c),children:[an.cta,e(et,{children:e("img",{src:St,alt:""})})]}),c?e(xe,{children:t("div",{className:C.salesHubAccFormWrap,children:[e("div",{className:`${C.salesHubAccFieldWrap} ${C.fullField}`,children:t("div",{className:C.salesHubAccFieldWrap,children:[" ",e("div",{className:C.salesHubAccLabel,children:me.ctaName}),t("div",{className:`${C.salesHubAccField}`,children:[e(te,{type:"text",name:"ctaName",value:o.ctaName,onChange:d,onBlur:i,placeholder:me.ctaName,hasError:l.ctaName&&m.ctaName,errorMessage:l.ctaName,component:Se,classes:n,disabled:o.salesMotion===""||o.salesMotion===void 0}),y!==""&&b.ctaValidationField==="cta_name"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:y}):e(le,{name:"ctaName"})]})]})}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.headerText}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"ctaHeaderTxt",value:o.ctaHeaderTxt,onBlur:i,onChange:d,hasError:l.ctaHeaderTxt&&m.ctaHeaderTxt,errorMessage:l.ctaHeaderTxt,component:Se,classes:n,multiline:!0,placeholder:"Enter header text",disabled:o.salesMotion===""||o.salesMotion===void 0}),e(le,{name:"ctaHeaderTxt"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.subHeaderText}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"ctaSubHeaderTxt",value:o.ctaSubHeaderTxt,onBlur:i,onChange:d,hasError:l.ctaSubHeaderTxt&&m.ctaSubHeaderTxt,errorMessage:l.ctaSubHeaderTxt,component:Se,classes:n,multiline:!0,placeholder:"Enter sub header text",disabled:o.salesMotion===""||o.salesMotion===void 0}),e(le,{name:"ctaSubHeaderTxt"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.ctaImage}),t("div",{className:`${C.salesHubAccField} disabledFile`,children:[e(te,{type:"file",name:"ctaImage",value:o.ctaImage,readOnly:!0,disabled:!0,hasError:l.ctaImage&&m.ctaImage,errorMessage:l.ctaImage,placeholder:me.ctaImage,component:Se,classes:n,InputProps:{endAdornment:e(mt,{position:"end",children:t(et,{onClick:f=>{S&&S.current&&S.current.click()},children:[e("input",{accept:"image/*",ref:S,type:"file",style:{display:"none"},onChange:f=>u(f,"ctaImage"),disabled:o.salesMotion===""||o.salesMotion===void 0}),e("img",{src:wa,alt:""})]})}),accept:"image/*",readOnly:!0}}),r&&e(ra,{id:"ctaImage",classes:C.thumbnailImg,src:r.source,show:r.source&&r.name,alt:"ctaImage",CustomStyles:{},CloseHandler:()=>{S.current.value="",h("ctaImage")}}),e(le,{name:"ctaImage"})]})]}),t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.embeddedCode}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"ctaEmbeddedCode",value:o.ctaEmbeddedCode,onBlur:i,onChange:d,hasError:l.ctaEmbeddedCode&&m.ctaEmbeddedCode,errorMessage:l.ctaEmbeddedCode,component:Se,classes:n,multiline:!0,disabled:o.salesMotion===""||o.salesMotion===void 0,placeholder:"Enter Embedded Code"}),e(le,{name:"ctaEmbeddedCode"})]})]})]})}):null]})};var cy="/assets/emailRefresh.d31d3b88.svg";const dy=a=>{const n=yt(),{formikValues:o,errors:l,touched:m,handleBlur:i,handleChange:d,setShowAccountTeam:u,showAccountTeam:r,setActiveAddUserMenu:c="",accountTeamList:p=[],setAccountTeamList:h=null,fetchAccountTeamList:y="",accountTeamCount:_,accountTeamLimit:b,setLoader:S,clearLoader:f,setAlert:A}=a,[I,N]=s.exports.useState(""),W=st(bn),D=new URLSearchParams(window.location.search),$=D.get("partner_id")||"0",P=D.get("sales_hub_account_id")||"0",[E,M]=s.exports.useState([]),[U,L]=s.exports.useState(!1),k=rt();s.exports.useEffect(()=>{const Y=setTimeout(()=>{N(""),k(Ra({accountTeamErrMsg:"",accountTeamValidationField:""}))},15e3);return N(W.accountTeamErrMsg),()=>clearTimeout(Y)},[W]),s.exports.useEffect(()=>{k(Ra({accountTeamErrMsg:"",accountTeamValidationField:""}))},[]);const g=va(qn)(()=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),w=va(Et)(()=>({"&:last-child td, &:last-child th":{border:0}})),x=Y=>{if(Y.target.checked){const H=p.map(pe=>pe.sales_hub_account_team_id);M(Array.from(new Set([...E,...H])));return}const re=p.map(H=>H.sales_hub_account_team_id),ye=E.filter(H=>!re.includes(H));M(ye)},V=(Y,re)=>{Y.stopPropagation();const ye=E.indexOf(re);let H=[];ye===-1?H=H.concat(E,re):ye===0?H=H.concat(E.slice(1)):ye===E.length-1?H=H.concat(E.slice(0,-1)):ye>0&&(H=H.concat(E.slice(0,ye),E.slice(ye+1))),M(H)},G=()=>{L(!1),S();const Y=localStorage.getItem("token");mn("partnership/sales-hub-account/account-team/",{Authorization:`Token ${Y}`},{partnership_id:$,sales_hub_account_team_ids:E}).then(re=>{re.result===!0?(M([]),y(0),f(),A(Ct.deleteAccountUserSuccessMsg)):f()})},ie=Y=>{const re=localStorage.getItem("token");xt("partnership/sales-hub-account/account-team/resend-invite/",{sales_hub_account_team_id:Y,sales_hub_account_id:P},{Authorization:`Token ${re}`}).then(ye=>{ye.result===!0?(f(),A(Ct.resendSucessMsg)):f()})};return s.exports.useEffect(()=>{P!=="0"&&y(0)},[]),t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>u(!r),children:[an.accountsTeam,e(et,{children:e("img",{src:St,alt:""})})]}),r?e(xe,{children:P!=="0"?t(xe,{children:[t("div",{className:C.manageAccountWrap,children:[e("div",{className:C.manageAccLabel,children:nn.manageAccountTeamLabel}),e("div",{children:E.length>0?e(Ke,{style:{minWidth:"160px"},onClick:()=>L(!0),children:nn.removeUser}):e(Ke,{style:{minWidth:"160px"},onClick:()=>c(!0),children:nn.addUser})})]}),t("div",{className:C.accTeamTableWrap,children:[e(Ua,{className:C.accTeamTable,children:t(ja,{"aria-label":"customized table",className:C.accountTable,children:[e(Va,{children:t(Et,{children:[e(g,{children:e(Xt,{className:p.length>0&&p.filter(Y=>E.includes(Y.sales_hub_account_team_id)).length===p.length?C.accountCheckBox:"",checked:p.length>0&&p.length===p.filter(Y=>E.includes(Y.sales_hub_account_team_id)).length,onChange:Y=>x(Y)})}),e(g,{children:nn.firstName}),e(g,{children:nn.lastName}),e(g,{children:nn.role}),e(g,{children:nn.company}),e(g,{children:nn.email}),e(g,{children:nn.inviteStatus})]})}),e(ka,{children:p.length>0?p.map(Y=>t(w,{children:[t(g,{component:"td",children:[e(Xt,{className:E.includes(Y.sales_hub_account_team_id)?C.accountCheckBox:"",checked:E.length>0?E.includes(Y.sales_hub_account_team_id):!1,onClick:re=>V(re,Y.sales_hub_account_team_id)}),Y.invite_status==="Pending"&&e("img",{src:cy,alt:"",className:C.mailRefreshImg,onClickCapture:()=>ie(Y.sales_hub_account_team_id)})]}),e(g,{children:Y.user&&Y.user.first_name}),e(g,{children:Y.user&&Y.user.last_name}),e(g,{children:Y.role}),e(g,{children:Y.company}),e(g,{children:t("div",{className:C.avatarCell,children:[e(Hr,{className:C.emailavatar,children:Y.email&&Y.email[0].toUpperCase()}),e("div",{children:Y.email})]})}),t(g,{children:[" ",Y.invite_status]})]})):e(g,{colSpan:7,className:C.noResults,children:e("div",{className:C.noResults,children:"No Records Found"})})})]})}),_>b&&e(Ma,{spacing:2,className:C.paginationWrap,children:e(La,{count:Math.ceil(_/b),shape:"rounded",onChange:(Y,re)=>y((re-1)*b)})})]}),e(Bt,{title:"",primaryContent:Ct.deleteAccountTeamUser,secondaryContent:Ct.confirmDeleteAccountTeamUser,secondaryButton:Ct.cancel,primaryButton:Ct.deleteAccountUser,show:U,handleDialogBoxClose:()=>L(!1),handleAgree:()=>G()})]}):e("div",{className:C.salesHubAccFormWrap,children:t("div",{className:C.salesHubAccFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.enterEmailLabel}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"accountTeamEmailList",value:o.accountTeamEmailList,onBlur:i,onChange:d,hasError:l.accountTeamEmailList&&m.accountTeamEmailList,placeholder:me.enterEmailLabel,errorMessage:l.accountTeamEmailList,component:Se,classes:n,multiline:!0}),e("small",{className:C.inputHelper,children:me.seperateByCommaHelperText}),I!==""&&W.accountTeamValidationField==="emails"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:I}):e(le,{name:"accountTeamEmailList"})]})]})})}):null]})},my="_searchbar_97asj_1",uy="_closeWrap_97asj_33",py="_accountTable_97asj_47",hy="_accountCheckBox_97asj_129",_y="_dealAmtCheckBox_97asj_143",gy="_noResults_97asj_193";var Aa={searchbar:my,closeWrap:uy,accountTable:py,accountCheckBox:hy,"MuiCheckbox-root":"_MuiCheckbox-root_97asj_135",dealAmtCheckBox:_y,noResults:gy};const Ki=new URLSearchParams(window.location.search),wo=Ki.get("sales_hub_account_id")||"0",Xi=Ki.get("partner_id")||"0",fy=a=>{const{selectedSalesForceIds:n=[],setSelectedSalesForceIds:o,isOpen:l,loading:m,setAlert:i,fetchSalesOpportunityList:d,companyName:u}=a;console.log(n,"selectedSalesForceIds");const[r,c]=s.exports.useState([]),[p,h]=s.exports.useState(l),[y,_]=s.exports.useState([]),[b,S]=s.exports.useState(!1),[f,A]=s.exports.useState(""),I=()=>{h(!1);const w=window.location.hostname.split(".");let x;w[0]==="portal"?x="accountsEngagements":x="home",N.push(`/${x}?partner_id=${Xi}&sales_hub_account_id=${wo}`)},N=gt(),W=()=>{const w=y.length>0&&y.map(G=>{const ie={};return ie.opportunity_name=G.Name,ie.sales_stage=G.StageName,ie.estimated_close_date=_s(new Date(G.CloseDate),"dd/MM/yyyy"),ie.estimate_deal_amount=G.Amount,ie}),x={is_store_estimated_deal_amount:b,sales_hub_accout_id:wo,opportunities:w||[]};console.log("importSaleForce",x);const V=localStorage.getItem("token");xt("partnership/sales-hub-account/sales-opportunity/salesforce/opportunities/",x,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${V}`}).then(G=>{if(console.log(G),G.result===!0){h(!1),d();const ie=window.location.hostname.split(".");let Y;ie[0]==="portal"?Y="accountsEngagements":Y="home",N.push(`/${Y}?partner_id=${Xi}&sales_hub_account_id=${wo}`),i("Sales Opportunities Imported Sucessfully!","success")}else i(G.data.msg,"error")})};s.exports.useEffect(()=>{A(u),D(u)},[u]),console.log("companyName",u,f);const D=w=>{const x=localStorage.getItem("token"),V=localStorage.getItem("sftoken"),G=localStorage.getItem("sfurl");w!==""&&fe(`/partnership/sales-hub-account/sales-opportunity/salesforce/opportunities/?access_token=${V}&instance_url=${G}&account_name=${w}`,{Authorization:`Token ${x}`}).then(ie=>{console.log("salsesForce",ie.data),ie.data.done===!0&&c(ie.data.records)})},$=w=>{if(w.target.checked){const G=r.map(re=>re.Id);o(Array.from(new Set([...n,...G])));const Y=r.map(re=>re).filter(re=>G.includes(re.Id));console.log("salesForceFilter",Y),_(Y);return}const x=r.map(G=>G.Id),V=n.filter(G=>!x.includes(G));o(V),_([]),console.log("salesForceFilter",V)},P=(w,x)=>{w.stopPropagation();const V=n.indexOf(x);let G=[];V===-1?G=G.concat(n,x):V===0?G=G.concat(n.slice(1)):V===n.length-1?G=G.concat(n.slice(0,-1)):V>0&&(G=G.concat(n.slice(0,V),n.slice(V+1))),o(G);const Y=r.map(re=>re).filter(re=>G.includes(re.Id));_(Y),console.log("salesForceFilter",Y)},E=va(qn)(()=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),M=va(zo)(()=>({"&:last-child td, &:last-child th":{border:0}})),U=()=>{D(f)},L=e(xe,{children:e("div",{className:Aa.closeWrap,children:e("img",{className:Aa.closeIcon,onClickCapture:I,src:Gs,alt:"close"})})}),k=t(xe,{children:[L,t("div",{className:Aa.inputWrap,children:[e("form",{children:e("input",{type:"text",name:"name",placeholder:"Search",className:`${Aa.searchbar} search`,onChange:w=>A(w.target.value),value:f})}),e(Ke,{style:{marginRight:"25%"},onClick:w=>U(),children:"Search"})]})]}),g=t(xe,{children:[e(Br,{className:Aa.accTeamTable,children:t(Or,{"aria-label":"customized table",className:Aa.accountTable,children:[e(Wr,{children:t(zo,{children:[e(E,{children:e(Xt,{className:r.length>0&&r.filter(w=>n.includes(w.Id)).length===r.length?Aa.accountCheckBox:"",checked:r.length>0&&r.length===r.filter(w=>n.includes(w.Id)).length,onChange:w=>$(w)})}),e(E,{children:me.opportunityName}),e(E,{children:me.salesStage}),e(E,{children:me.createdDate}),e(E,{children:me.estimatedCloseDate}),t(E,{className:Aa.dealAmtCheckBox,children:[e(Xt,{checked:b,className:b?Aa.accountCheckBox:"",onChange:w=>S(!b)}),me.estimatedDealAmount]})]})}),e(ka,{children:r.length>0?r.map(w=>t(M,{children:[e(E,{component:"td",children:e(Xt,{checked:n.length>0?n.includes(w.Id):!1,className:n.length>0&&n.includes(w.Id)?Aa.accountCheckBox:"",onClick:x=>P(x,w.Id)})}),e(E,{children:w.Name}),e(E,{children:w.StageName}),e(E,{children:"-"}),e(E,{children:_s(new Date(w.CloseDate),"dd/MM/yyyy")}),e(E,{children:`$${w.Amount}`})]},w.Id)):e(E,{colSpan:7,className:Aa.noResults,children:e("div",{className:Aa.noResults,children:"No Records Found"})})})]})}),m===!0&&e(ft,{})]});return e(xe,{children:e(Bt,{title:"Import Sales Opportunity",primaryContent:k,secondaryContent:g,secondaryButton:"cancel",primaryButton:"import",show:p,handleDialogBoxClose:I,handleAgree:()=>W(),fullScreen:!0,btnAlign:!0})})},yy=a=>{const{setShowAddSalesOpportunity:n,showAddSalesOpportunity:o,salesOpportunityList:l=[{}],setSalesOpportunityList:m,clearLoader:i,setLoader:d,setAlert:u,fetchSalesOpportunityList:r,companyName:c}=a;yt();const p="https://portal.stg.cosell.partners/",[h,y]=s.exports.useState(!0),[_,b]=s.exports.useState(""),[S,f]=s.exports.useState(!1),[A,I]=s.exports.useState(""),[N,W]=s.exports.useState([]);rt();const D=new URLSearchParams(window.location.search),$=D.get("sales_hub_account_id")||"0",P=D.get("partner_id")||"0",E=!!D.get("code")||!1,[M,U]=s.exports.useState([]),[L,k]=s.exports.useState(!1),[g,w]=s.exports.useState(!0),x=va(qn)(()=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),V=va(Et)(()=>({"&:last-child td, &:last-child th, &:last-child tr":{border:0}})),G=H=>{if(H.target.checked){const R=l.map(K=>K.sales_opportunity_id);U(Array.from(new Set([...M,...R])));return}const pe=l.map(R=>R.sales_opportunity_id),v=M.filter(R=>!pe.includes(R));U(v)},ie=(H,pe)=>{H.stopPropagation();const v=M.indexOf(pe);let R=[];v===-1?R=R.concat(M,pe):v===0?R=R.concat(M.slice(1)):v===M.length-1?R=R.concat(M.slice(0,-1)):v>0&&(R=R.concat(M.slice(0,v),M.slice(v+1))),U(R)},Y=()=>{const H=localStorage.getItem("token");fe("/partnership/sales-hub-account/sales-opportunity/salesforce/get-consumer-key/",{Authorization:`Token ${H}`}).then(pe=>{console.log("consumerKey",pe.data.consumer_key),I(pe.data.consumer_key)})},re=()=>{if(E===!0){const H=D.get("code");console.log("code",H);const pe=encodeURI(H);console.log("code",pe);const v=localStorage.getItem("token");xt("partnership/sales-hub-account/sales-opportunity/salesforce/authorization/",{oauth_token:pe,callback_url:`${p}accountsEngagements/`},{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${v}`}).then(R=>{R.result===!0&&(localStorage.setItem("sftoken",R.data.access_token),localStorage.setItem("sfurl",R.data.instance_url)),w(!1)}).finally(()=>w(!1))}};s.exports.useEffect(()=>{r(),Y(),re(),console.log("env_url",p)},[]),s.exports.useEffect(()=>{b(c)},[c]);const ye=()=>{f(!1),d();const H=localStorage.getItem("token");mn("partnership/sales-hub-account/sales-opportunity/",{Authorization:`Token ${H}`},{sales_opportunity_ids:M,sales_hub_account_id:$}).then(pe=>{pe.result===!0?(i(),u(Ct.deleteSalesOpportunitySuccessMsg,"success"),U([]),r()):i()})};return t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>y(!h),children:[an.salesOpportunities,e(et,{children:e("img",{src:St,alt:""})})]}),h&&t(xe,{children:[t("div",{className:C.manageAccountWrap,children:[e("div",{className:C.manageAccLabel,children:me.salesOpportunities}),e("div",{children:M.length>0?e(Ke,{style:{minWidth:"210px"},onClick:()=>f(!0),children:me.removeOpportunity}):t("div",{className:C.salesMenuWrap,children:[e(Ke,{style:{minWidth:"210px"},onClick:()=>k(!L),children:me.addSalesOpportunity}),L&&t("div",{className:C.salesMenu,children:[e(Ue,{onClick:()=>{k(!L),n("0")},children:"Add new Opportunity"}),e(Rr,{}),e(Ue,{onClick:()=>{k(!L),window.open(`https://login.salesforce.com/services/oauth2/authorize?response_type=code&client_id=${A}&state=${window.location.hostname}/${P}/${$}&redirect_uri=${p}accountsEngagements/`,"_self")},children:"Salesforce Sync"})]})]})})]}),e("div",{className:C.accTeamTableWrap,children:e(Ua,{className:`${C.salesOppTable} salesOppTable`,children:t(ja,{"aria-label":"customized table",className:C.accountTable,children:[e(Va,{children:t(Et,{children:[e(x,{children:e(Xt,{className:l.length>0&&l.filter(H=>M.includes(H.sales_opportunity_id)).length===l.length?C.accountCheckBox:"",checked:l.length>0&&l.length===l.filter(H=>M.includes(H.sales_opportunity_id)).length,onChange:H=>G(H)})}),e(x,{children:me.opportunityName}),e(x,{children:me.salesStage}),e(x,{children:me.createdDate}),e(x,{children:me.estimatedCloseDate}),e(x,{children:me.estimatedDealAmount})]})}),e(ka,{children:l.length>0?l.map(H=>t(V,{onClick:()=>n(H.sales_opportunity_id),children:[e(x,{component:"td",children:e(Xt,{className:M.includes(H.sales_opportunity_id)?C.accountCheckBox:"",checked:M.length>0?M.includes(H.sales_opportunity_id):!1,onClick:pe=>ie(pe,H.sales_opportunity_id)})}),e(x,{children:H.opportunity_name}),e(x,{children:H.sales_stage}),e(x,{children:H.created_date}),e(x,{children:H.estimated_close_date}),e(x,{children:H.estimate_deal_amount?`$${(Math.round(H.estimate_deal_amount*100)/100).toLocaleString()}`:""})]})):e(x,{colSpan:7,className:C.noResults,children:e("div",{className:C.noResults,children:"No Records Found"})})})]})})})]}),e(Bt,{title:"",primaryContent:Ct.deleteSalesOpportunity,secondaryContent:Ct.confirmDeleteSalesOpportunity,secondaryButton:Ct.cancel,primaryButton:Ct.deleteSalesOpportunity,show:S,handleDialogBoxClose:()=>f(!1),handleAgree:()=>ye()}),e(fy,{isOpen:E,apicall:re,setSelectedSalesForceIds:W,selectedSalesForceIds:N,loading:g,setAlert:u,fetchSalesOpportunityList:r,companyName:_})]})},Ds=a=>{const n=rt(),{cancelHandler:o,setAlert:l,setLoader:m,clearLoader:i,setAccountTitle:d,fetchSalesHubAccountsList:u,statusShow:r,statusList:c,setActiveAddUserMenu:p=null,accountTeamList:h=null,setAccountTeamList:y=null,fetchAccountTeamList:_="",accountTeamCount:b,accountTeamLimit:S,showCloseWarning:f,setShowCloseWarning:A,setFormEdited:I,formEdited:N,setIsDirty:W,setShowAddSalesOpportunity:D,showAddSalesOpportunity:$,fetchSalesOpportunityList:P,setSalesOpportunityList:E,salesOpportunityList:M,getAccContactsDetails:U,GetExportData:L}=a,k=s.exports.useRef(null),{companyLogo:g,servicePartnerCompanyLogo:w,siteLayoutImage:x,calloutOneImage:V,calloutTwoImage:G,ctaImage:ie}=Le,[Y,re]=s.exports.useState([]),[ye,H,pe]=yn([g,w,x,V,G,ie]),[v,R]=s.exports.useState(0),[K,de]=s.exports.useState(0),[ve,ke]=s.exports.useState(10),[Oe,Ae]=s.exports.useState(!0),[qe,_e]=s.exports.useState(!0),[We,Te]=s.exports.useState(!0),[Qe,vt]=s.exports.useState(!0),[se,ge]=s.exports.useState(!0),[ce,oe]=s.exports.useState(!0),[T,ee]=s.exports.useState(!0),[Fe,be]=s.exports.useState("1"),[nt,pt]=s.exports.useState(""),[Re,Ft]=s.exports.useState([]),[it,wt]=s.exports.useState({siteLayoutId:"",callOutSecOneId:"",callOutSecTwoId:"",ctaId:""}),[Ta,pa]=s.exports.useState([]),[oa,Ut]=s.exports.useState([]),[jt,Ot]=s.exports.useState([]),[Yt,J]=s.exports.useState([]),[O,ne]=s.exports.useState({companyName:"",companyLogo:"",domainName:"",companyWebsite:"",accountType:"",industry:"",targetBuyerTitles:[],cadenceShow:!1,candenceValue:"",candenceFrequency:"",servicePartnerShow:!1,servicePartnerName:"",servicePartnerLogo:"",salesMotion:"",layOutHeaderText:"",layOutSubHeaderTxt:"",layOutHeaderImg:"",layOutFontColor:"",layOutFontStyle:"",callOutOneHeaderText:"",callOutOneSubHeaderTxt:"",callOutOneHeaderImg:"",callOutOneFontColor:"",callOutTwoHeaderText:"",callOutTwoSubHeaderTxt:"",callOutTwoHeaderImg:"",callOutTwoFontColor:"",ctaName:"",ctaHeaderTxt:"",ctaSubHeaderTxt:"",ctaImage:"",ctaEmbeddedCode:"",accountTeamEmailList:""}),[ae,z]=s.exports.useState(null),B=Dt().shape({companyName:q().trim().required("Company name is required"),companyLogo:q().trim().required("Company logo is required"),servicePartnerShow:Uo(),servicePartnerLogo:q().when("servicePartnerShow",{is:!0,then:q().required("Service provider logo is required").nullable(),otherwise:q().nullable()}),servicePartnerName:q().when("servicePartnerShow",{is:!0,then:q().required("Service provider name is required"),otherwise:q()}),targetBuyerTitles:qo().min(1,"Minimum 1 Target buyer title is required"),companyWebsite:q().trim().matches(/(https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|www\.[a-zA-Z0-9][a-zA-Z0-9-]+[a-zA-Z0-9]\.[^\s]{2,}|https?:\/\/(?:www\.|(?!www))[a-zA-Z0-9]+\.[^\s]{2,}|www\.[a-zA-Z0-9]+\.[^\s]{2,})/gi,"Enter a valid company website name"),domainName:q().trim().required("Domain name is required").matches(/^[a-zA-z0-9-_]{1,62}$/,"Enter a valid domain name"),accountType:q().trim().required("Account type is required"),industry:q().trim().required("Industry is required"),cadenceShow:Uo(),candenceValue:q().when("cadenceShow",{is:!0,then:q().required("Cadence is required").matches(/^(?!0)\d+$/,"Enter a valid cadence(number)").max(2,"Must be less than 3 Digits").nullable(),otherwise:q().nullable()}),candenceFrequency:q().trim().when("cadenceShow",{is:!0,then:q().required("Cadence frequency is required").nullable(),otherwise:q().nullable()}),salesMotion:q().trim().required("Sales motion is required"),layOutHeaderText:q().trim().required("Header text is required"),layOutSubHeaderTxt:q().trim().required("Sub header text is required"),layOutHeaderImg:q().trim().required("Header image is required"),layOutFontColor:q().trim().required("Font color is required"),layOutFontStyle:q().trim().required("Font style is required"),callOutOneHeaderText:q().trim().required("Header text is required"),callOutOneSubHeaderTxt:q().trim().required("Sub header text is required"),callOutOneHeaderImg:q().trim().required("Header image is required"),callOutOneFontColor:q().trim().required("Font color is required"),callOutTwoHeaderText:q().trim().required("Header text is required"),callOutTwoSubHeaderTxt:q().trim().required("Sub header text is required"),callOutTwoHeaderImg:q().trim().required("Header image is required"),callOutTwoFontColor:q().trim().required("Font color is required"),ctaName:q().trim().required("CTA name is required"),ctaHeaderTxt:q().trim().required("Header text is required"),ctaSubHeaderTxt:q().trim().required("Sub header text is required"),ctaImage:q().trim().required("CTA image is required"),ctaEmbeddedCode:q().trim().required("Embedded code is required")}),we=st(bn),Ce=new URLSearchParams(window.location.search),Ge=Ce.get("partner_id")||"0",ht=Ce.get("sales_hub_account_id")||"0",Ve=$e=>{m(),n(ef($e,Fe,ye[g],ye[w],ye[x],ye[G],ye[V],ye[ie],ht,it,(X,F)=>wt(j=>ue(Z({},j),{[X]:F})),i,()=>l(X=>ue(Z({},X),{showAlert:!0,message:ht!=="0"?me.salesHubSiteSuccessMsg:me.salesHubSiteCreateSuccessMsg,severity:"success"})),()=>{o(),u(0)},we.currentSalesHubAccountId))},Je=()=>{const $e=localStorage.getItem("token");fe("partnership/sales-hub-account/get-types/",{Authorization:`Token ${$e}`}).then(X=>{if(X.result===!0){const F=X.data;pa(F)}})},Xa=()=>{const $e=localStorage.getItem("token");fe("partnership/sales-hub-account/get-team-checkin-frequency/",{Authorization:`Token ${$e}`}).then(X=>{if(X){const F=X.data;Ut(F)}})},Cn=()=>{const $e=localStorage.getItem("token");fe("partnership/sales-hub/font-colors/",{Authorization:`Token ${$e}`}).then(X=>{if(X.result===!0){const F=X.data.map(j=>({key:j.name,id:j.font_color_id,value:j.name}));Ot(F)}})},Xn=()=>{const $e=localStorage.getItem("token");fe("partnership/sales-hub/font-family/",{Authorization:`Token ${$e}`}).then(X=>{if(X.result===!0){const F=X.data.map(j=>({key:j.name,id:j.font_family_id,value:j.description}));J(F)}})},Na=($e,X)=>{R($e);const F=localStorage.getItem("token");fe(`partnership/sales-motion/solution-narrative-mapping/?partnership_id=${Ge}&sales_motion_id=${X}&is_selected=true&is_inactive=true`,{Authorization:`Token ${F}`}).then(j=>{j.result===!0&&(re(j.data),j.count&&de(j.count))})},Sn=$e=>{const X=localStorage.getItem("token");fe(`partnership/sales-motion/?partnership_id=${Ge}&sales_motion_id=${$e||ae}&is_deleted=true`,{Authorization:`Token ${X}`}).then(j=>{var Ee,De;if(j.result===!0&&j.data){const ea=[{key:j.data.sales_motion_id,id:j.data.sales_motion_id,value:((Ee=j.data)==null?void 0:Ee.name.length)>15?`${j.data.name.slice(0,10)}...(deleted)`:`${j.data.name} (deleted)`}],da=[...new Map([...Re,...ea].map(Ze=>[Ze.id,Ze])).values()];console.log(Re,"salesMotionList",da),Ft(da);const _a=j.data.site_layout&&{salesMotion:j.data.sales_motion_id,layOutHeaderText:j.data.site_layout.header_text,layOutSubHeaderTxt:j.data.site_layout.sub_header_text,layOutHeaderImg:j.data.site_layout.header_image_name,layOutFontColor:j.data.site_layout.font_color.font_color_id,layOutFontStyle:j.data.site_layout.font_style.font_family_id},Kt=j.data.call_out_section_one&&{callOutOneHeaderText:j.data.call_out_section_one.header_text,callOutOneSubHeaderTxt:j.data.call_out_section_one.sub_header_text,callOutOneHeaderImg:j.data.call_out_section_one.header_image_name,callOutOneFontColor:j.data.call_out_section_one.font_color.font_color_id},_t=j.data.call_out_section_two&&{callOutTwoHeaderText:j.data.call_out_section_two.header_text,callOutTwoSubHeaderTxt:j.data.call_out_section_two.sub_header_text,callOutTwoHeaderImg:j.data.call_out_section_two.header_image_name,callOutTwoFontColor:j.data.call_out_section_two.font_color.font_color_id},wn=j.data.cta&&{ctaName:j.data.cta.name,ctaHeaderTxt:j.data.cta.header_text,ctaSubHeaderTxt:j.data.cta.sub_header_text,ctaImage:j.data.cta.image_name,ctaEmbeddedCode:j.data.cta.embedded_code},he=Z(Z(Z(Z(Z({},(De=k==null?void 0:k.current)==null?void 0:De.values),_a),Kt),_t),wn);j.data.site_layout&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:x,name:j.data.site_layout.header_image_name,source:j.data.site_layout.header_image}}),j.data.call_out_section_one&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:V,name:j.data.call_out_section_one.header_image_name,source:j.data.call_out_section_one.header_image}}),j.data.call_out_section_two&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:G,name:j.data.call_out_section_two.header_image_name,source:j.data.call_out_section_two.header_image}}),j.data.cta&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:ie,name:j.data.cta.image_name,source:j.data.cta.image}}),j.data.sales_motion_id&&Na(0,j.data.sales_motion_id),ne(Z({},he))}})},Qn=$e=>{const X=localStorage.getItem("token");fe(`partnership/sales-motion/?partnership_id=${Ge}&sales_motion_id=${$e}`,{Authorization:`Token ${X}`}).then(F=>{var j;if(F.result===!0&&F.data){const Ee=F.data.site_layout&&{salesMotion:F.data.sales_motion_id,layOutHeaderText:F.data.site_layout.header_text,layOutSubHeaderTxt:F.data.site_layout.sub_header_text,layOutHeaderImg:F.data.site_layout.header_image_name,layOutFontColor:F.data.site_layout.font_color.font_color_id,layOutFontStyle:F.data.site_layout.font_style.font_family_id};F.data.sales_motion_id&&Na(0,F.data.sales_motion_id);const De=F.data.call_out_section_one&&{callOutOneHeaderText:F.data.call_out_section_one.header_text,callOutOneSubHeaderTxt:F.data.call_out_section_one.sub_header_text,callOutOneHeaderImg:F.data.call_out_section_one.header_image_name,callOutOneFontColor:F.data.call_out_section_one.font_color.font_color_id},ea=F.data.call_out_section_two&&{callOutTwoHeaderText:F.data.call_out_section_two.header_text,callOutTwoSubHeaderTxt:F.data.call_out_section_two.sub_header_text,callOutTwoHeaderImg:F.data.call_out_section_two.header_image_name,callOutTwoFontColor:F.data.call_out_section_two.font_color.font_color_id},da=F.data.cta&&{ctaName:F.data.cta.name,ctaHeaderTxt:F.data.cta.header_text,ctaSubHeaderTxt:F.data.cta.sub_header_text,ctaImage:F.data.cta.image_name,ctaEmbeddedCode:F.data.cta.embedded_code},_a=Z(Z(Z(Z(Z({},(j=k==null?void 0:k.current)==null?void 0:j.values),Ee),De),ea),da);F.data.site_layout&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:x,name:F.data.site_layout.header_image_name,source:F.data.site_layout.header_image}}),F.data.call_out_section_one&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:V,name:F.data.call_out_section_one.header_image_name,source:F.data.call_out_section_one.header_image}}),F.data.call_out_section_two&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:G,name:F.data.call_out_section_two.header_image_name,source:F.data.call_out_section_two.header_image}}),F.data.cta&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:ie,name:F.data.cta.image_name,source:F.data.cta.image}}),ne(Z({},_a))}})},ln=()=>{m();const $e=localStorage.getItem("token");fe(`partnership/sales-hub-account/?partnership_id=${Ge}&sales_hub_account_id=${ht}`,{Authorization:`Token ${$e}`}).then(X=>{var F,j,Ee;if(X.result===!0){const De=X.data.site_layout&&{salesMotion:X.data.site_layout.sales_motion.sales_motion_id,layOutHeaderText:X.data.site_layout.header_text,layOutSubHeaderTxt:X.data.site_layout.sub_header_text,layOutHeaderImg:X.data.site_layout.header_image_name,layOutFontColor:X.data.site_layout.font_color.font_color_id,layOutFontStyle:X.data.site_layout.font_style.font_family_id};X.data.site_layout.sales_motion.sales_motion_id&&(Na(0,X.data.site_layout.sales_motion.sales_motion_id),z(X.data.site_layout.sales_motion.sales_motion_id));const ea=X.data.call_out_section_one&&{callOutOneHeaderText:X.data.call_out_section_one.header_text,callOutOneSubHeaderTxt:X.data.call_out_section_one.sub_header_text,callOutOneHeaderImg:X.data.call_out_section_one.header_image_name,callOutOneFontColor:X.data.call_out_section_one.font_color.font_color_id},da=X.data.call_out_section_two&&{callOutTwoHeaderText:X.data.call_out_section_two.header_text,callOutTwoSubHeaderTxt:X.data.call_out_section_two.sub_header_text,callOutTwoHeaderImg:X.data.call_out_section_two.header_image_name,callOutTwoFontColor:X.data.call_out_section_two.font_color.font_color_id},_a=X.data.cta&&{ctaName:X.data.cta.name,ctaHeaderTxt:X.data.cta.header_text,ctaSubHeaderTxt:X.data.cta.sub_header_text,ctaImage:X.data.cta.image_name,ctaEmbeddedCode:X.data.cta.embedded_code},Kt=Z(Z(Z(Z(ue(Z({},(F=k==null?void 0:k.current)==null?void 0:F.values),{companyName:X.data.company_name,companyLogo:X.data.company_logo_name,domainName:X.data.domain_name,accountType:X.data.account_type_id,industry:X.data.industry,targetBuyerTitles:X.data.target_buyer_titles,candenceValue:X.data.team_checkin_cadence_day,candenceFrequency:X.data.team_checkin_cadence_frequency,servicePartnerName:X.data.service_provider_name,servicePartnerLogo:X.data.service_provider_logo_name,companyWebsite:X.data.company_website,cadenceShow:X.data.is_team_checkin_cadence||!1,servicePartnerShow:X.data.is_service_partner_involved||!1}),De),ea),da),_a);ne(Z({},Kt)),be(X.data.status_id),d(X.data.company_name),pt((Ee=(j=X.data)==null?void 0:j.partnership)==null?void 0:Ee.content_hub_subdomain_name),H({type:"SET_API_IMAGE_DETAILS",payload:{key:g,name:X.data.company_logo_name,source:X.data.company_logo}}),H({type:"SET_API_IMAGE_DETAILS",payload:{key:w,name:X.data.service_provider_name,source:X.data.service_provider_logo}}),X.data.site_layout&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:x,name:X.data.site_layout.header_image_name,source:X.data.site_layout.header_image}}),X.data.call_out_section_one&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:V,name:X.data.call_out_section_one.header_image_name,source:X.data.call_out_section_one.header_image}}),X.data.call_out_section_two&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:G,name:X.data.call_out_section_two.header_image_name,source:X.data.call_out_section_two.header_image}}),X.data.cta&&H({type:"SET_API_IMAGE_DETAILS",payload:{key:ie,name:X.data.cta.image_name,source:X.data.cta.image}}),wt({siteLayoutId:X.data.site_layout&&X.data.site_layout.site_layout_id,callOutSecOneId:X.data.call_out_section_one&&X.data.call_out_section_one.call_out_section_one_id,callOutSecTwoId:X.data.call_out_section_two&&X.data.call_out_section_two.call_out_section_two_id,ctaId:X.data.cta&&X.data.cta.cta_id}),i()}else i()})},Qa=()=>{const $e=localStorage.getItem("token");fe(`partnership/sales-motion/?partnership_id=${Ge}&offset=${0}&limit=${50}`,{Authorization:`Token ${$e}`}).then(X=>{if(X.result===!0){const F=X.data&&X.data.map(Ee=>({key:Ee.name,id:Ee.sales_motion_id,value:Ee.name})),j=[...new Map([...Re,...F].map(Ee=>[Ee.id,Ee])).values()];console.log(F,"salesMotionData",j),Ft(j)}})};s.exports.useEffect(()=>{Je(),Xa(),Xn(),Cn(),Qa(),ht!=="0"&&(P(),ln(),U(0),L()),n(Wa({generalErrMsg:"",generalValidationField:""})),Kn({ctaErrMsg:"",ctaValidationField:""}),Ra({accountTeamErrMsg:"",accountTeamValidationField:""})},[]),s.exports.useEffect(()=>{Sn(null)},[ae]);const ha=($e,X)=>{var j;const F=$e.target.files[0];if(F&&F.name&&k&&k.current&&F.type.includes("image/")){const Ee=F.name;(j=k==null?void 0:k.current)==null||j.setFieldValue(X,Ee),X==="companyLogo"?pe(g,F):X==="servicePartnerLogo"?pe(w,F):X==="layOutHeaderImg"?pe(x,F):X==="callOutOneHeaderImg"?pe(V,F):X==="callOutTwoHeaderImg"?pe(G,F):X==="ctaImage"&&pe(ie,F)}else l(Ee=>ue(Z({},Ee),{showAlert:!0,message:"Invalid file format. Please use jpg, png, or svg.",severity:"error"}))},za=$e=>{var X;I(!0),$e==="companyLogo"?H({type:"SET_IMAGEFILE_CANCEL",payload:{key:g}}):$e==="servicePartnerLogo"?H({type:"SET_IMAGEFILE_CANCEL",payload:{key:w}}):$e==="layOutHeaderImg"?H({type:"SET_IMAGEFILE_CANCEL",payload:{key:x}}):$e==="callOutOneHeaderImg"?H({type:"SET_IMAGEFILE_CANCEL",payload:{key:V}}):$e==="callOutTwoHeaderImg"?H({type:"SET_IMAGEFILE_CANCEL",payload:{key:G}}):$e==="ctaImage"&&H({type:"SET_IMAGEFILE_CANCEL",payload:{key:ie}}),(X=k==null?void 0:k.current)==null||X.setFieldValue($e,"")};return t("div",{className:C.salesHubAccFormWrap,children:[e(Rt,{innerRef:k,enableReinitialize:!0,initialValues:O,validationSchema:B,onSubmit:$e=>{console.log("called in submit out"),Ve($e)},children:$e=>{const{handleChange:X,handleSubmit:F,handleBlur:j,validateField:Ee,setFieldValue:De,values:ea,errors:da,dirty:_a}=$e;return W(_a),e(xe,{children:t(qt,{style:{width:"100%"},id:"createAccount",onSubmit:Kt=>{Kt.preventDefault(),console.log("called in submitin"),Ae(!0),_e(!0),Te(!0),vt(!0),ge(!0),oe(!0),F(Kt)},className:`${ht!=="0"?C.salesHubEditAccForm:C.salesHubAccForm}`,onKeyDown:Kt=>{Kt.key==="Enter"&&Kt.preventDefault()},children:[ht!=="0"&&(_a||N)&&t("div",{className:`${C.accInfoBtnWrap} ${ht!=="0"?C.bottomLayerAccount:C.bottomLayer}`,children:[e(At,{onClick:()=>{_a||N?A(!0):o()},style:{minWidth:"160px",marginRight:"30px"},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.save})]}),e(sy,{formikValues:$e.values,errors:$e.errors,touched:$e.touched,handleBlur:j,handleChange:X,accountTypeList:Ta,candenceList:oa,onFileSelected:ha,validateField:Ee,companyLogo:ye[g],servicePartnerLogo:ye[w],OnImageCancel:za,showGeneral:Oe,setShowGeneral:Ae,statusShow:r,setStatusChosen:be,statusChosen:Fe,statusList:c,prevDomainName:nt,setFormEdited:I,setFieldValue:De}),ht!=="0"&&e(yy,{setSalesOpportunityList:E,salesOpportunityList:M,fetchSalesOpportunityList:P,setShowAddSalesOpportunity:D,showAddSalesOpportunity:$,setLoader:m,clearLoader:i,companyName:O.companyName,setAlert:(Kt,_t)=>l(wn=>ue(Z({},wn),{showAlert:!0,message:Kt,severity:_t}))}),e(oy,{formikValues:$e.values,errors:$e.errors,touched:$e.touched,handleBlur:j,handleChange:X,styles:C,fontColorList:jt,fontStyleList:Yt,salesMotionList:Re,onFileSelected:ha,layOutHeaderImage:ye[x],fetchSalesMotionDataById:Qn,OnImageCancel:za,fetchAllAssetCollectData:Na,showSiteLayout:qe,setShowSiteLayout:_e,setFormEdited:I,fetchDeletedSalesMotion:Sn,fetchSalesHubAccountDetailById:ln}),e(iy,{formikValues:$e.values,errors:$e.errors,touched:$e.touched,handleBlur:j,handleChange:X,styles:C,fontColorList:jt,fontStyleList:Yt,callOutOneHeaderImage:ye[V],OnImageCancel:za,onFileSelected:ha,showSection1:We,setShowSection1:Te}),e(ry,{formikValues:$e.values,errors:$e.errors,touched:$e.touched,handleBlur:j,handleChange:X,styles:C,fontColorList:jt,fontStyleList:Yt,callOutTwoHeaderImage:ye[G],OnImageCancel:za,onFileSelected:ha,showSection2:Qe,setShowSection2:vt}),e(ny,{formikValues:$e.values,offset:v,limit:ve,count:K,assetCollectData:Y,assetCollectionShow:se,setAssetCollectionShow:ge}),e(ly,{formikValues:$e.values,errors:$e.errors,touched:$e.touched,handleBlur:j,handleChange:X,ctaImage:ye[ie],OnImageCancel:za,onFileSelected:ha,showCta:ce,setShowCta:oe}),e(dy,{formikValues:$e.values,errors:$e.errors,touched:$e.touched,handleBlur:j,handleChange:X,setShowAccountTeam:ee,showAccountTeam:T,setActiveAddUserMenu:p,accountTeamList:h,setAccountTeamList:y,fetchAccountTeamList:_,accountTeamCount:b,accountTeamLimit:S,setLoader:m,clearLoader:i,setAlert:Kt=>l(_t=>ue(Z({},_t),{showAlert:!0,message:Kt,severity:"success"}))}),e("div",{className:C.lastCard}),ht==="0"&&t("div",{className:`${C.accInfoBtnWrap} ${ht!=="0"?C.bottomLayerAccount:C.bottomLayer}`,children:[e(At,{onClick:()=>{_a||N?A(!0):o()},style:{minWidth:"160px",marginRight:"30px"},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.save})]})]})})}}),f&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"Cancel",handleDialogBoxClose:()=>A(!1),handleAgree:()=>{A(!1),o(),I(!1),W(!1)},show:!0})]})},vy="_main_1jr20_39",by="_headerDiv_1jr20_45",Cy="_backButton_1jr20_59",Sy="_headBg_1jr20_93",wy="_bannerTxtWrap_1jr20_127",xy="_accEngagementWrap_1jr20_161",Ay="_engagementEditMode_1jr20_171",Iy="_backWrap_1jr20_179",Ty="_stickyCard_1jr20_205",Ny="_accHead_1jr20_221",ky="_centerContentWrap_1jr20_237",My="_recommendHeadTxt_1jr20_243",Ly="_noAssetCollectionMsg_1jr20_259",$y="_salesHubTable_1jr20_283",Fy="_cardWrap_1jr20_289",Ey="_fieldDisabled_1jr20_303",Dy="_bannerCard_1jr20_317",Py="_cardContainer_1jr20_353",Hy="_loadLink_1jr20_385",By="_accountTitle_1jr20_401",Oy="_table_headers_1jr20_407",Wy="_table_header_1jr20_407",Ry="_table_columns_1jr20_437",qy="_table_row_1jr20_447",zy="_assetCollectTableWrap_1jr20_465",Uy="_salesAccTable_1jr20_477",jy="_customBox_1jr20_527",Vy="_paginationWrap_1jr20_535",Gy="_salesHubAccDropDownButton_1jr20_549",Jy="_filterWrap_1jr20_577",Zy="_centerDropDown_1jr20_587",Yy="_searchbar_1jr20_593",Ky="_inputWrap_1jr20_623",Xy="_searchIcon_1jr20_631",Qy="_dropDownFilter_1jr20_645",ev="_dropdownBtn_1jr20_667",tv="_arrowIcon_1jr20_721",av="_arrowIconActive_1jr20_735",nv="_dropdown_1jr20_667",sv="_menuWrap_1jr20_747",ov="_dropdownMenu_1jr20_787",iv="_chooseText_1jr20_793",rv="_noResults_1jr20_801",lv="_backArrowBtn_1jr20_813",cv="_searchBtn_1jr20_821",dv="_searchBtnWrap_1jr20_849";var je={main:vy,headerDiv:by,backButton:Cy,headBg:Sy,bannerTxtWrap:wy,accEngagementWrap:xy,engagementEditMode:Ay,backWrap:Iy,stickyCard:Ty,accHead:Ny,centerContentWrap:ky,recommendHeadTxt:My,noAssetCollectionMsg:Ly,salesHubTable:$y,cardWrap:Fy,fieldDisabled:Ey,bannerCard:Dy,cardContainer:Py,loadLink:Hy,accountTitle:By,table_headers:Oy,table_header:Wy,table_columns:Ry,table_row:qy,assetCollectTableWrap:zy,salesAccTable:Uy,customBox:jy,paginationWrap:Vy,salesHubAccDropDownButton:Gy,filterWrap:Jy,centerDropDown:Zy,searchbar:Yy,inputWrap:Ky,searchIcon:Xy,dropDownFilter:Qy,dropdownBtn:ev,arrowIcon:tv,arrowIconActive:av,dropdown:nv,menuWrap:sv,dropdownMenu:ov,chooseText:iv,noResults:rv,backArrowBtn:lv,searchBtn:cv,searchBtnWrap:dv};const Qi=a=>{const n={accountTeamEmailList:""},o=Dt().shape({accountTeamEmailList:q().trim().required("Email is required")}),l=yt(),[m,i]=s.exports.useState(!0),d=rt(),r=new URLSearchParams(window.location.search).get("sales_hub_account_id")||"0",{clearLoader:c,setAlert:p,cancelHandler:h,setLoader:y,setIsDirty:_,setShowCloseWarning:b,showCloseWarning:S}=a,[f,A]=s.exports.useState(""),I=st(bn);return s.exports.useEffect(()=>{const N=setTimeout(()=>A(""),15e3);return A(I.accountTeamErrMsg),()=>clearTimeout(N)},[I]),s.exports.useEffect(()=>{d(Ra({accountTeamErrMsg:"",accountTeamValidationField:""}))},[]),t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>i(!m),children:[an.userInformation,e(et,{children:e("img",{src:St,alt:""})})]}),e(Rt,{initialValues:n,validationSchema:o,onSubmit:N=>{y(),d(Ra({accountTeamErrMsg:"",accountTeamValidationField:""})),d(So(N.accountTeamEmailList,parseInt(r,10)||0,!0,()=>c(),()=>p(W=>ue(Z({},W),{showAlert:!0,message:Ct.accountTeamSuccessMsg,severity:"success"})),h))},children:N=>{const{handleChange:W,handleSubmit:D,handleBlur:$,values:P,errors:E,touched:M,dirty:U}=N;return _(U),e("div",{className:C.userInfoForm,children:t(qt,{style:{width:"100%"},onSubmit:L=>{L.preventDefault(),i(!0),D(L)},id:"userInfo",onKeyDown:L=>{L.key==="Enter"&&L.preventDefault()},children:[m&&e("div",{className:C.userInformationWrap,children:t("div",{className:C.userInformationFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.enterEmailLabel}),t("div",{className:`${C.salesHubAccField} textArea`,children:[e(te,{type:"text",name:"accountTeamEmailList",value:P.accountTeamEmailList,onBlur:$,onChange:W,hasError:E.accountTeamEmailList&&M.accountTeamEmailList,errorMessage:E.accountTeamEmailList,component:An,classes:l,multiline:!0}),e("small",{className:C.inputHelper,children:me.seperateByCommaHelperText}),f!==""&&I.accountTeamValidationField==="emails"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:f}):e(ut,{name:"accountTeamEmailList"})]})]})}),t("div",{className:`${C.accInfoBtnWrap} ${C.UserInfoBottomLayer}`,children:[e(At,{onClick:()=>{U?b(!0):h()},style:{minWidth:"160px",marginRight:"30px"},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.sendInvite})]})]})})}}),S&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>b(!1),handleAgree:h,show:!0})]})},mv="_formContainer_14s8j_37",uv="_accInfoField_14s8j_45",pv="_semiField_14s8j_63",hv="_labelField_14s8j_73",_v="_accInfoBtnWrap_14s8j_97",gv="_myAccWrap_14s8j_115",fv="_accInfoFom_14s8j_123",yv="_salesHubAccFormWrap_14s8j_141",vv="_salesHubAccForm_14s8j_141",bv="_salesHubEditAccForm_14s8j_181",Cv="_salesHubAccFieldWrap_14s8j_191",Sv="_bottomLayer_14s8j_211",wv="_bottomLayerAccount_14s8j_227",xv="_UserInfoBottomLayer_14s8j_241",Av="_salesHubAccDropDown_14s8j_255",Iv="_salesHubEditAccFieldWrap_14s8j_307",Tv="_salesHubAccLabel_14s8j_327",Nv="_salesHubAccField_14s8j_191",kv="_upload_img_div_14s8j_359",Mv="_chooseTxt_14s8j_367",Lv="_salesHubAccMiniField_14s8j_377",$v="_thumbnailImg_14s8j_387",Fv="_tagChip_14s8j_399",Ev="_chipsWrap_14s8j_425",Dv="_bannerCard_14s8j_437",Pv="_cardContainer_14s8j_475",Hv="_loadLink_14s8j_499",Bv="_cardWrap_14s8j_515",Ov="_teamCadenceinput_14s8j_529",Wv="_inputHelper_14s8j_549",Rv="_accountTable_14s8j_561",qv="_accountCheckBox_14s8j_639",zv="_emailavatar_14s8j_647",Uv="_accContactsTableWrap_14s8j_661",jv="_accContactsTable_14s8j_661",Vv="_paginationWrap_14s8j_675",Gv="_avatarCell_14s8j_707",Jv="_mailRefreshImg_14s8j_717",Zv="_manageAccLabel_14s8j_731",Yv="_manageAccountWrap_14s8j_745",Kv="_userInformationWrap_14s8j_757",Xv="_userInformationFieldWrap_14s8j_767",Qv="_userInfoForm_14s8j_779",eb="_noResults_14s8j_787",tb="_fullField_14s8j_803",ab="_fileIcon_14s8j_811",nb="_btnAlign_14s8j_819",sb="_assetAlign_14s8j_829",ob="_assetTextAlign_14s8j_837";var qa={formContainer:mv,accInfoField:uv,semiField:pv,labelField:hv,accInfoBtnWrap:_v,myAccWrap:gv,accInfoFom:fv,salesHubAccFormWrap:yv,salesHubAccForm:vv,salesHubEditAccForm:bv,salesHubAccFieldWrap:Cv,bottomLayer:Sv,bottomLayerAccount:wv,UserInfoBottomLayer:xv,salesHubAccDropDown:Av,salesHubEditAccFieldWrap:Iv,salesHubAccLabel:Tv,salesHubAccField:Nv,upload_img_div:kv,chooseTxt:Mv,salesHubAccMiniField:Lv,thumbnailImg:$v,tagChip:Fv,chipsWrap:Ev,bannerCard:Dv,cardContainer:Pv,loadLink:Hv,cardWrap:Bv,teamCadenceinput:Ov,inputHelper:Wv,accountTable:Rv,accountCheckBox:qv,emailavatar:zv,accContactsTableWrap:Uv,accContactsTable:jv,paginationWrap:Vv,"Mui-selected":"_Mui-selected_14s8j_699",avatarCell:Gv,mailRefreshImg:Jv,manageAccLabel:Zv,manageAccountWrap:Yv,userInformationWrap:Kv,userInformationFieldWrap:Xv,userInfoForm:Qv,noResults:eb,fullField:tb,fileIcon:ab,btnAlign:nb,assetAlign:sb,assetTextAlign:ob};const er=a=>{const{formikValues:n,errors:o,touched:l,handleBlur:m,handleChange:i,setShowAccountTeam:d,showAccountTeam:u,setActiveAddUserMenu:r="",setAlert:c,accContactsList:p,contactsCount:h,contactsLimit:y,contactsOffset:_,contactsPage:b,setContactsCount:S,setContactsLimit:f,setContactsPage:A,setContactsOffset:I,handleContactsPageChange:N,salesHubAccountId:W,contactsLoading:D,CsvData:$,accountTitle:P}=a,E=g=>{let w="";switch(g){case"Pdf":case"pdf":w=Bi;break;case"Image":case"jpeg":case"webp":case"gif":case"jfif":case"jpg":case"png":case"svg":w=Wi;break;case"Video":case"mp4":case"mkv":case"MP4":case"webm":case"MOV":case"mov":w=Ri;break;case"Powerpoint":case"pptx":case"ppt":w=Oi;break;case"Word":case"word":case"docx":case"doc":w=qi;break;case"Excel":case"xlsx":case"xls":case"csv":w=zi;break;case"Others":w=Ls;break;default:w=Ls}return w},M=va(qn)(()=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),U=va(Et)(()=>({"&:last-child td, &:last-child th":{border:0}}));function L(){var g=new Date,w=g.toLocaleDateString("en-US",{year:"2-digit",month:"2-digit",day:"2-digit"});return P+"_date("+w+")"}const k=()=>{const g=[];g.push($);const w=new Blob(g,{type:"text/csv;charset=utf-8;"}),x=new Date;""+x.getHours()+x.getMinutes()+x.getSeconds(),qr.saveAs(w,L())};return t(xe,{children:[e("div",{className:qa.btnAlign,children:e(Ke,{style:{minWidth:"160px",marginRight:"10px",marginTop:"20px"},onClick:()=>k(),children:kn.export})}),t("div",{className:qa.salesHubAccDropDown,onClickCapture:()=>d(!u),children:[kn.contacts,e(et,{children:e("img",{src:St,alt:""})})]}),u?e("div",{className:qa.accContactsTableWrap,children:e(Ua,{className:qa.accContactsTable,children:t(ja,{"aria-label":"customized table",className:qa.accountTable,children:[e(Va,{children:t(Et,{children:[e(M,{children:kn.ip}),e(M,{children:kn.organization}),e(M,{children:kn.TotalEngagedTime}),e(M,{children:kn.SiteSessions}),e(M,{children:kn.TopAssetEngagement})]})}),e(ka,{children:p.length>0?p.map(g=>t(U,{children:[e(M,{children:g.ip}),e(M,{children:"Unknown"}),e(M,{children:g.total_engaged_time}),e(M,{children:g.site_sessions}),e(M,{children:t("div",{className:qa.assetAlign,children:[e("img",{src:E(g.asset_type),className:qa.fileIcon,alt:"icon"}),e("span",{className:qa.assetTextAlign,children:g.top_asset_engagement})]})})]})):e(M,{colSpan:7,className:qa.noResults,children:e("div",{className:qa.noResults,children:"No Records Found"})})})]})})}):null,h>y&&e(Ma,{spacing:2,className:qa.paginationWrap,children:e(La,{count:Math.ceil(h/y),shape:"rounded",page:b,onChange:N})}),D&&e(ft,{})]})},ib="_headerProfileImg_ds9s9_1",rb="_userName_ds9s9_13",lb="_userWrap_ds9s9_25",cb="_userMenu_ds9s9_35",db="_toolbarWithMenu_ds9s9_53";var Ps={headerProfileImg:ib,userName:rb,userWrap:lb,userMenu:cb,toolbarWithMenu:db};const mb="_profileInfoField_g9be3_1",ub="_semiField_g9be3_19",pb="_userInformationWrap_g9be3_27",hb="_deletePWLabel_g9be3_33",_b="_deleteProfileWrapper_g9be3_39",gb="_accInfoBtnWrap_g9be3_39",fb="_deleteProfileBtnWrap_g9be3_51",yb="_select_field_g9be3_59",vb="_labelField_g9be3_69",bb="_profileField_g9be3_75",Cb="_profileImg_g9be3_89",Sb="_changeImgIcon_g9be3_99",wb="_changePwLink_g9be3_107",xb="_changeImageLink_g9be3_123",Ab="_myAccWrap_g9be3_157",Ib="_accInfoFom_g9be3_165",Tb="_bottomLayer_g9be3_185",Nb="_mailDisabled_g9be3_199";var Me={profileInfoField:mb,semiField:ub,userInformationWrap:pb,deletePWLabel:hb,deleteProfileWrapper:_b,accInfoBtnWrap:gb,deleteProfileBtnWrap:fb,select_field:yb,labelField:vb,profileField:bb,profileImg:Cb,changeImgIcon:Sb,changePwLink:wb,changeImageLink:xb,myAccWrap:Ab,accInfoFom:Ib,bottomLayer:Tb,mailDisabled:Nb};const kb=a=>{const n=yt();rt();const{deleteProfileAction:o,cancelHandler:l,pwFieldError:m,setPwFieldError:i}=a;console.log(m,"pwFieldError"),st(bn);const[d,u]=s.exports.useState(!1),r=s.exports.useRef(null),c=h=>{u(!d),r.current.children[0].children[0].focus(),setTimeout(()=>{r.current.children[0].children[0].setSelectionRange(h.length,h.length)},1)},p=h=>{h.preventDefault()};return s.exports.useEffect(()=>{const h=setTimeout(()=>{i("")},15e3);return()=>clearTimeout(h)},[m]),s.exports.useEffect(()=>{i("")},[]),e(xe,{children:e(Rt,{initialValues:{password:""},onSubmit:h=>{o(h)},children:h=>{const{handleChange:y,handleSubmit:_,handleBlur:b,values:S}=h;return e("div",{className:Me.deleteProfileWrap,children:t(qt,{style:{width:"100%"},onSubmit:f=>{f.preventDefault(),_(f)},id:"userInfo",onKeyDown:f=>{f.key==="Enter"&&f.preventDefault()},className:Me.deleteProfileWrapper,children:[t("div",{className:Me.userInformationWrap,children:[e("div",{className:Me.deletePWLabel,children:"Password"}),t("div",{className:`${Me.salesHubAccField} textArea`,children:[e(te,{type:d?"text":"password",name:"password",innerRef:r,value:S.password,onBlur:b,onChange:y,placeholder:tt.currentPassword,component:Qt,classes:n,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>c(S.password),onMouseDown:p,children:d?e($a,{}):e(Fa,{})})})}}),m!==""?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px",textAlign:"left"},children:m}):e(ut,{name:"password"})]})]}),e("div",{className:Me.deleteProfileBtnWrap,children:t("div",{className:`${Me.accInfoBtnWrap} ${Me.UserInfoBottomLayer}`,children:[e(At,{onClick:l,style:{minWidth:"160px",marginRight:"30px"},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:ct.delete})]})})]})})}})})},Mb=a=>{const{cancelHandler:n,showAlert:o,setisDirty:l,setIsFormEdited:m,isFormEdited:i,showCloseWarning:d,setShowCloseWarning:u}=a,r=st(fo),[c,p]=s.exports.useState(!1),[h,y]=s.exports.useState(""),_=s.exports.useRef(null);s.exports.useRef(null);const[b,S]=s.exports.useState(!1),[f,A]=s.exports.useState(!1),[I,N]=s.exports.useState(!1),[W,D]=s.exports.useState(!1),[$,P]=s.exports.useState(""),[E,M]=s.exports.useState([]),[U,L]=s.exports.useState([]),[k,g]=s.exports.useState(null),[w,x]=s.exports.useState(null),[V,G]=s.exports.useState({firstName:"",lastName:"",profileImg:"",companyName:"",role:"",salesRegion:"",email:"",currentPassword:"",newPassword:"",confirmPassword:""}),ie=rt(),[Y,re,ye]=yn([Le.profileImage]),H=()=>{const oe=localStorage.getItem("token");fe("users/my-account/",{Authorization:`Token ${oe}`}).then(T=>{var ee,Fe;T.result===!0&&(G({firstName:T.data.first_name,lastName:T.data.last_name,email:T.data.email,profileImg:T.data.image,companyName:T.data.company_information_id||"",role:T.data.role_id||"",salesRegion:T.data.sales_region||"",currentPassword:"",newPassword:"",confirmPassword:""}),re({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.profileImage,name:(ee=T.data)==null?void 0:ee.image,source:(Fe=T.data)==null?void 0:Fe.image}}),g(T.data.user_type))})},pe=()=>{const oe=localStorage.getItem("subDomainName");fe(`partnership/get-company-information-list/?domain_name=${oe}`,{}).then(T=>{if(T.result===!0){const ee=T.data;M(ee)}}).catch(T=>console.log(T))},v=()=>{fe("partnership/get-roles/",{}).then(oe=>{if(oe.result===!0){const T=oe.data;L(T)}}).catch(oe=>console.log(oe))};s.exports.useEffect(()=>{H(),pe(),v()},[]);const R=oe=>{const T=localStorage.getItem("token"),ee=new FormData;ee.append("first_name",oe.firstName),ee.append("last_name",oe.lastName),ee.append("email",oe.email),ee.append("company_information_id",oe.companyName),ee.append("role_id",oe.role),ee.append("sales_region",oe.salesRegion),ee.append("image",oe.profileImg),c&&(ee.append("current_password",oe.currentPassword),ee.append("new_password",oe.newPassword),ee.append("confirm_password",oe.confirmPassword)),xt("users/my-account/",ee,{Authorization:`Token ${T}`}).then(Fe=>{Fe.result===!0&&(ie(hi({refreshAccDetailTimeStamp:Date.now()})),go({userData:ue(Z({},r),{email:Fe.data.email,firstName:Fe.data.first_name,lastName:Fe.data.last_name})}),p(!1),n(),o(tt.successProfileMsg,"success"));const be=setTimeout(()=>y(""),1e4);return y(Fe.data.msg),()=>clearTimeout(be)})},K=oe=>{_.current.value="",oe("profileImg",""),re({type:"SET_API_IMAGE_DETAILS",payload:{key:Le.profileImage}})},de=(oe,T)=>{const ee=oe.target.files[0];ee&&ee.name&&ee.type.includes("image/")?T("profileImg",oe.target.files[0]):o(tt.fileErrorMessage,"error")},ve=Dt().shape({firstName:q().trim().min(3,"Minimum 3 characters is required").required("First name is required"),lastName:q().trim().required("Last name is required"),companyName:q().trim().required("Company name is required"),role:q().trim().required("Role is required"),salesRegion:q().trim().required("Sales region is required"),currentPassword:q().trim().required("Current password is required"),newPassword:q().trim().required("New password is required").matches(/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d)(?=.*[@$!%*#?&])[A-Za-z\d@$!%*#?&]{5,17}$/,"Valid password should include 5 to 17 characters, upper, lower case, numeric and special characters").notOneOf([ns("currentPassword"),null],"New password must be different from current password"),confirmPassword:q().trim().required("Confirm password is required").oneOf([ns("newPassword"),null],"Passwords must match")}),ke=Dt().shape({firstName:q().trim().required("First name is required"),lastName:q().trim().required("Last name is required"),companyName:q().trim().required("Company name is required"),role:q().trim().required("Role is required"),salesRegion:q().trim().required("Sales region is required")}),Oe=gt(),Ae=Ie.useRef(null),qe=Ie.useRef(null),_e=Ie.useRef(null),We=oe=>{oe.preventDefault()},Te=oe=>{S(!b),Ae.current.children[0].children[0].focus(),setTimeout(()=>{Ae.current.children[0].children[0].setSelectionRange(oe.length,oe.length)},1)},Qe=oe=>{A(!f),qe.current.children[0].children[0].focus(),setTimeout(()=>{qe.current.children[0].children[0].setSelectionRange(oe.length,oe.length)},1)},vt=oe=>{N(!I),_e.current.children[0].children[0].focus(),setTimeout(()=>{_e.current.children[0].children[0].setSelectionRange(oe.length,oe.length)},1)},se=()=>{D(!0),P("")},ge=()=>{P("req")},ce=oe=>{const T=localStorage.getItem("token");mn("users/my-account/",{Authorization:`Token ${T}`},{password:oe.password}).then(ee=>{var Fe;ee.result===!0?(n(),o(tt.profileDeleteSuccessMsg,"success"),localStorage.clear(),Oe.push("/")):(console.log((Fe=ee==null?void 0:ee.data)==null?void 0:Fe.msg,ee==null?void 0:ee.msg,"msg"),x(ee==null?void 0:ee.msg))})};return t("div",{className:Me.myAccWrap,children:[e(Rt,{enableReinitialize:!0,initialValues:V,validationSchema:c?ve:ke,onSubmit:oe=>{R(oe)},children:oe=>{const{values:T,handleChange:ee,handleSubmit:Fe,errors:be,touched:nt,dirty:pt,handleBlur:Re,setFieldValue:Ft}=oe;return l(pt),t(qt,{style:{width:"100%",display:"flex",alignItems:"center",justifyContent:"center"},onSubmit:Fe,children:[t("div",{className:Me.accInfoFom,children:[t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.firstName}),t("div",{className:Me.semiField,children:[e(te,{type:"text",name:"firstName",value:T.firstName,onChange:ee,onBlur:Re,placeholder:tt.firstName,hasError:be.firstName&&nt.firstName,errorMessage:be.firstName,component:Qt}),e(ut,{name:"firstName"})]})]}),t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.lastName}),t("div",{className:Me.semiField,children:[e(te,{type:"text",name:"lastName",value:T.lastName,onChange:ee,onBlur:Re,placeholder:tt.lastName,hasError:be.lastName&&nt.lastName,errorMessage:be.lastName,component:Qt}),e(ut,{name:"lastName"})]})]}),t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.profileImg}),t("div",{className:Me.profileField,children:[T.profileImg?e(hs,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},badgeContent:e(et,{style:{width:"15px",height:"15px",borderRadius:"50%",border:"8px solid white",padding:"2px"},children:e(Wo,{onClick:()=>{K(Ft)},style:{width:"11px",height:"11px",color:"black",backgroundColor:"white",borderRadius:"50%",border:"1px solid black"}})}),children:e("img",{className:Me.profileImg,src:typeof T.profileImg!="string"?URL.createObjectURL(T.profileImg):`${T.profileImg}?time=${new Date().getTime()}`,alt:"Profile"})}):e(hs,{overlap:"circular",anchorOrigin:{vertical:"top",horizontal:"right"},children:e("img",{className:Me.profileImg,src:ks,alt:"Profile"})}),e("div",{className:Me.changeImageLink,onClickCapture:()=>{_&&_.current&&_.current.click()},children:T.profileImg?tt.changeImage:tt.uploadImage}),t("div",{children:[e("img",{id:"salesHubSiteProfileImg",className:Me.changeImgIcon,src:Pn,alt:"upload",onClickCapture:()=>{_&&_.current&&_.current.click()}}),e("input",{accept:"image/*",ref:_,type:"file",style:{display:"none"},onChange:it=>{de(it,Ft),m(!0)}})]})]})]}),t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.companyName}),t("div",{className:Me.semiField,children:[e("div",{className:Me.select_field,children:e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"companyName",value:T.companyName,displayEmpty:!0,renderValue:T.companyName!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",tt.companyName]}),onChange:ee,onBlur:Re,className:Me.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:E.map(it=>e(Ue,{value:it.company_information_id,children:it.company_name},it.company_information_id))})}),e(ut,{name:"companyName"})]})]}),t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.role}),t("div",{className:Me.semiField,children:[e("div",{className:Me.select_field,children:e(Pt,{style:{width:"100%",padding:"4px 10px"},name:"role",defaultValue:1,value:T.role,displayEmpty:!0,renderValue:T.role!==""?void 0:()=>t("span",{style:{color:"#00000059"},children:[" ",tt.role]}),onChange:ee,onBlur:Re,className:Me.uploadAssetSelect,inputProps:{"aria-label":"Without label"},children:U.map(it=>e(Ue,{value:it.role_id,children:it.name},it.role_id))})}),e(ut,{name:"role"})]})]}),t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.salesRegion}),t("div",{className:Me.semiField,children:[e(te,{type:"text",name:"salesRegion",value:T.salesRegion,onChange:ee,onBlur:Re,placeholder:tt.salesRegion,hasError:be.salesRegion&&nt.salesRegion,errorMessage:be.salesRegion,component:Qt}),e(ut,{name:"salesRegion"})]})]}),t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.emailAddress}),t("div",{className:`${Me.semiField} salesRepEmailField`,children:[e(te,{type:"text",name:"email",value:T.email,readOnly:!0,disabled:!0,className:`Mui-disabled ${Me.mailDisabled}`,placeholder:tt.emailAddress,hasError:be.email&&nt.email,errorMessage:be.email,InputProps:{readOnly:!0},component:An}),e(ut,{name:"email"}),c===!1&&e("div",{onClickCapture:()=>p(!0),className:Me.changePwLink,children:tt.changePassword})]})]}),c===!0&&t(xe,{children:[t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.currentPassword}),t("div",{className:Me.semiField,children:[e(te,{type:b?"text":"password",name:"currentPassword",innerRef:Ae,value:T.currentPassword,onChange:ee,onBlur:Re,placeholder:tt.currentPassword,hasError:be.currentPassword&&nt.currentPassword,errorMessage:be.currentPassword,component:Qt,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>Te(T.currentPassword),onMouseDown:We,children:b?e($a,{}):e(Fa,{})})})}}),h!==""?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px"},children:h}):e(ut,{name:"currentPassword"})]})]}),t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.newPassword}),t("div",{className:Me.semiField,children:[e(te,{type:f?"text":"password",name:"newPassword",innerRef:qe,value:T.newPassword,onChange:ee,onBlur:Re,placeholder:tt.newPassword,hasError:be.newPassword&&nt.newPassword,errorMessage:be.newPassword,component:Qt,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>Qe(T.newPassword),onMouseDown:We,children:f?e($a,{}):e(Fa,{})})})}}),e(ut,{name:"newPassword"})]})]}),t("div",{className:Me.profileInfoField,children:[e("div",{className:`${Me.semiField} ${Me.labelField}`,children:tt.confirmPassword}),t("div",{className:Me.semiField,children:[e(te,{type:I?"text":"password",name:"confirmPassword",innerRef:_e,value:T.confirmPassword,onChange:ee,onBlur:Re,placeholder:tt.confirmPassword,hasError:be.confirmPassword&&nt.confirmPassword,errorMessage:be.confirmPassword,component:Qt,InputProps:{endAdornment:e(mt,{position:"end",children:e(et,{onClick:()=>vt(T.confirmPassword),onMouseDown:We,children:I?e($a,{}):e(Fa,{})})})}}),e(ut,{name:"confirmPassword"})]})]})]}),e("div",{children:k&&e(At,{onClick:se,style:{minWidth:"200px"},children:tt.deleteProfile})}),$==="req"?e(Bt,{title:"",primaryContent:tt.deleteProfile,secondaryContent:t(xe,{children:[e("div",{children:tt.requestPassword}),e(kb,{pwFieldError:w,setPwFieldError:x,cancelHandler:()=>D(!1),deleteProfileAction:ce})]}),show:W,handleDialogBoxClose:()=>D(!1),handleAgree:()=>ge()}):e(Bt,{title:"",primaryContent:tt.deleteProfile,secondaryContent:tt.deleteConfirmation,tertiaryContent:"",fieldValue:"hello",secondaryButton:tt.cancel,primaryButton:tt.delete,show:W,handleDialogBoxClose:()=>D(!1),handleAgree:()=>ge()})]}),t("div",{className:`${Me.accInfoBtnWrap} ${Me.bottomLayer}`,children:[e(At,{onClick:()=>{pt||i?u(!0):n()},style:{minWidth:"160px",marginRight:"30px"},children:tt.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},children:tt.update})]})]})}}),d&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>u(!1),handleAgree:n,show:!0})]})};function Lb(a){const n=gt(),{handleSelectMenu:o}=a,l=st(En),[m,i]=s.exports.useState(null),[d,u]=s.exports.useState(!1),[r,c]=s.exports.useState(!1),[p,h]=s.exports.useState(!1),[y,_]=s.exports.useState(!1),[b,S]=s.exports.useState(null),[f,A]=s.exports.useState(null),[I,N]=s.exports.useState({showAlert:!1,severity:"",message:""}),W=Boolean(m),D=U=>{i(U.currentTarget),console.log(U.currentTarget,"event.currentTarget")},$=()=>{i(null),u(!0)},P=U=>{i(null),o(U)},E=()=>{const U=localStorage.getItem("token");xt("users/logout/",{},{Authorization:`Token ${U}`}).then(L=>{L.result===!0&&(localStorage.clear(),n.push("/"))})},M=()=>{const U=localStorage.getItem("token");fe("users/my-account/",{Authorization:`Token ${U}`}).then(L=>{var k,g,w;L.result===!0&&(((k=L.data)==null?void 0:k.image)?S((g=L.data)==null?void 0:g.image):S(null),A((w=L.data)==null?void 0:w.first_name))})};return s.exports.useEffect(()=>{M()},[]),s.exports.useEffect(()=>{M()},[l.refreshAccDetailTimeStamp]),t("div",{className:`${m===null?"":"headerWithMenu"}`,children:[t("div",{className:Ps.userWrap,children:[e("div",{className:Ps.userName,children:f}),e("img",{className:Ps.headerProfileImg,src:b&&`${b}?time=${new Date().getTime()}`||ks,alt:"Profile",onClickCapture:D})]}),t(Bo,{id:"demo-positioned-menu","aria-labelledby":"demo-positioned-button",anchorEl:m,open:W,onClose:()=>P(""),anchorOrigin:{vertical:"top",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},className:`${Ps.userMenu} userMenu`,children:[e(Ue,{style:{borderBottom:"0.5px solid rgba(194, 207, 224, 0.4)"},onClick:()=>$(),children:"My Account"}),e(Ue,{onClick:()=>E(),children:"Logout"})]}),d&&e(Ha,{title:"My Account",closeHandler:()=>{p||y?c(!0):u(!1)},renderElement:localStorage.getItem("userType")==="alliance manager"?e(Ii,{cancelHandler:()=>{u(!1),h(!1),_(!1),c(!1)},showAlert:(U,L)=>N(k=>ue(Z({},k),{showAlert:!0,message:U,severity:L})),setisDirty:h,setIsFormEdited:_,isFormEdited:y,showCloseWarning:r,setShowCloseWarning:c}):e(Mb,{cancelHandler:()=>{u(!1),h(!1),_(!1),c(!1)},showAlert:(U,L)=>N(k=>ue(Z({},k),{showAlert:!0,message:U,severity:L})),setisDirty:h,setIsFormEdited:_,isFormEdited:y,showCloseWarning:r,setShowCloseWarning:c})}),I.showAlert&&e(Ht,{severity:I.severity,handler:()=>{N(U=>ue(Z({},U),{showAlert:!1}))},showalert:I.showAlert,message:I.message})]})}const tr=a=>{const n=s.exports.useRef(null),o=st(bn),[l,m]=s.exports.useState(""),i=yt(),[d,u]=s.exports.useState(!0),c=new URLSearchParams(window.location.search).get("sales_hub_account_id")||"0",{clearLoader:p,setAlert:h,cancelHandler:y,setLoader:_,showAddSalesOpportunity:b="0",setIsDirty:S,setShowCloseWarning:f,showCloseWarning:A,fetchSalesOpportunityList:I}=a,N=rt();s.exports.useEffect(()=>{const k=setTimeout(()=>{m(""),N(Wa({generalErrMsg:"",generalValidationField:""}))},15e3);return m(o.generalErrMsg),()=>clearTimeout(k)},[o]);const[W,D]=s.exports.useState({opportunityName:"",salesStage:"",createdDate:null,estimatedCloseDate:null,estimatedDealAmount:""}),[$,P]=s.exports.useState(!1),E=Dt().shape({opportunityName:q().trim().required("Opportunity name is required"),salesStage:q().trim().required("Sales stage is required"),createdDate:jo().nullable().typeError("Invalid Date").required("Created date is required"),estimatedCloseDate:jo().when("createdDate",(k,g)=>{if(k){const w=new Date(k.getTime()+864e5);return g.min(w,"Estimated close date should be greater than the created date")}return g}).nullable().typeError("Invalid Date").required("Estimated close date is required"),estimatedDealAmount:q().matches(/^(?!0)\d+$/,"Enter a valid amount(number)").nullable()}),M=k=>{console.log("dateStringArr",k);const g=k==null?void 0:k.split("/"),w=`${g[1]}/${g[0]}/${g[2]}`;return g?w:null},U=()=>{const k=localStorage.getItem("token");fe(`partnership/sales-hub-account/sales-opportunity/?sales_hub_account_id=${c}&sales_opportunity_id=${b}`,{Authorization:`Token ${k}`}).then(g=>{if(g.result===!0){const w=g.data;D(ue(Z({},n.current.values),{opportunityName:w.opportunity_name,salesStage:w.sales_stage,createdDate:(w==null?void 0:w.created_date)&&new Date(M(w==null?void 0:w.created_date))||null,estimatedCloseDate:(w==null?void 0:w.estimated_close_date)&&new Date(M(w==null?void 0:w.estimated_close_date))||null,estimatedDealAmount:w.estimate_deal_amount}))}})};s.exports.useEffect(()=>{b&&b!=="0"&&U(),N(Wa({generalErrMsg:"",generalValidationField:""}))},[]);const L=(k,g,w)=>{_(),N(Qg(ue(Z({},k),{createdDate:_s(new Date(k.createdDate),"dd/MM/yyyy"),estimatedCloseDate:_s(new Date(k.estimatedCloseDate),"dd/MM/yyyy")}),b,g,w,()=>p(),()=>h(b==="0"?Ct.salesOpportunitiesSuccessMsg:Ct.salesOpportunitiesupdateSuccessMsg),()=>{y(),N(Wa({generalErrMsg:"",generalValidationField:""}))},I))};return console.log(W,"valll"),t(xe,{children:[t("div",{className:C.salesHubAccDropDown,onClickCapture:()=>u(!d),children:[an.general,e(et,{children:e("img",{src:St,alt:""})})]}),e(Rt,{initialValues:W,enableReinitialize:!0,innerRef:n,validate:()=>({}),validationSchema:E,onSubmit:(k,{resetForm:g})=>L(k,$,g),children:k=>{const{handleChange:g,handleSubmit:w,handleBlur:x,values:V,errors:G,touched:ie,dirty:Y,setFieldValue:re,setFieldError:ye}=k;return S(Y),e("div",{className:C.salesInfoForm,children:t(qt,{style:{width:"100%"},onSubmit:H=>{H.preventDefault(),u(!0),w(H)},id:"salesOpportunityCreation",onKeyDown:H=>{H.key==="Enter"&&H.preventDefault()},children:[d&&e(xe,{children:t("div",{className:C.userInformationWrap,children:[t("div",{className:C.userInformationFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.opportunityName}),t("div",{className:`${C.salesHubAccField}`,children:[e(te,{type:"text",name:"opportunityName",value:V.opportunityName,onBlur:x,placeholder:me.opportunityName,onChange:g,hasError:G.opportunityName&&ie.opportunityName,errorMessage:G.opportunityName,component:An,classes:i}),l!==""&&o.generalValidationField==="opportunity_name"?e("div",{style:{color:"red",fontSize:"12px",paddingBottom:"10px",wordBreak:"break-all"},children:l}):e(ut,{name:"opportunityName"})]})]}),t("div",{className:C.userInformationFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.salesStage}),t("div",{className:`${C.salesHubAccField}`,children:[e(te,{type:"text",name:"salesStage",value:V.salesStage,onBlur:x,placeholder:me.salesStage,onChange:g,hasError:G.salesStage&&ie.salesStage,errorMessage:G.salesStage,component:An,classes:i}),e(ut,{name:"salesStage"})]})]}),t("div",{className:C.userInformationFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.createdDate}),t("div",{className:`${C.salesHubAccField} datePickerField`,children:[e(Vo,{dateAdapter:Go,style:{width:"100%"},children:e(Jo,{views:["year","month","day"],value:V.createdDate,onChange:H=>{console.log(H,"neww"),re("createdDate",H)},inputFormat:"dd/MM/yyyy",renderInput:H=>e(Zo,ue(Z({},H),{helperText:null,placeholder:me.createdDate}))})}),G.createdDate&&ie.createdDate?e("div",{style:{color:"red",fontSize:"12px",padding:"10px 0",wordBreak:"break-word"},children:G.createdDate}):e(ut,{name:"createdDate"})]})]}),t("div",{className:C.userInformationFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.estimatedCloseDate}),t("div",{className:`${C.salesHubAccField} datePickerField`,children:[e(Vo,{dateAdapter:Go,style:{width:"100%"},children:e(Jo,{views:["year","month","day"],value:V.estimatedCloseDate,onChange:H=>{re("estimatedCloseDate",H)},inputFormat:"dd/MM/yyyy",renderInput:H=>e(Zo,ue(Z({},H),{helperText:null,placeholder:me.estimatedCloseDate}))})}),G.estimatedCloseDate&&ie.estimatedCloseDate?e("div",{style:{color:"red",fontSize:"12px",padding:"10px 0",wordBreak:"break-word"},children:G.estimatedCloseDate}):e(ut,{name:"estimatedCloseDate"})]})]}),t("div",{className:C.userInformationFieldWrap,children:[e("div",{className:C.salesHubAccLabel,children:me.estimatedDealAmount}),t("div",{className:`${C.salesHubAccField} dealAmountField`,children:[e(te,{type:"text",name:"estimatedDealAmount",value:`$${V.estimatedDealAmount}`,onBlur:x,placeholder:me.estimatedDealAmount,onChange:g,InputProps:{startAdornment:e(mt,{position:"start",children:"$"})},hasError:G.estimatedDealAmount&&ie.estimatedDealAmount,errorMessage:G.estimatedDealAmount,prefix:"$",component:An,classes:i}),e(ut,{name:"estimatedDealAmount"})]})]}),b==="0"&&e("div",{style:{textAlign:"right",padding:"50px 0"},children:e(Ke,{type:"submit",onClick:()=>P(!0),style:{minWidth:"160px",marginRight:"30px"},children:ct.add})})]})}),t("div",{className:`${C.accInfoBtnWrap} ${C.UserInfoBottomLayer}`,children:[e(At,{onClick:()=>{Y?f(!0):y()},style:{minWidth:"160px",marginRight:"30px"},children:ct.cancel}),e(Ke,{type:"submit",style:{minWidth:"160px"},onClick:()=>P(!1),children:b==="0"?ct.save:ct.update})]})]})})}}),A&&e(Bt,{title:"",secondaryContent:"Are you sure you want to discard changes made on this page?",primaryContent:"Unsaved Changes",primaryButton:"Discard",secondaryButton:"cancel",handleDialogBoxClose:()=>f(!1),handleAgree:y,show:!0})]})},ar=()=>{const[a,n]=s.exports.useState(!1),[o,l]=s.exports.useState(""),[m,i]=s.exports.useState(""),[d,u]=s.exports.useState([]),[r,c]=s.exports.useState({showAlert:!1,severity:"",message:""}),[p,h]=s.exports.useState(!1),[y,_]=s.exports.useState(!1),[b,S]=s.exports.useState(""),[f,A]=s.exports.useState(!1),[I,N]=s.exports.useState(""),[W,D]=s.exports.useState(!1),[$,P]=s.exports.useState(""),[E,M]=s.exports.useState([]),[U,L]=s.exports.useState([]),[k,g]=s.exports.useState(""),[w,x]=s.exports.useState(!1),[V,G]=s.exports.useState(!1),[ie,Y]=s.exports.useState(!1),re=gt(),ye=new URLSearchParams(window.location.search),H=ye.get("partner_id")||"0",pe=ye.get("sales_hub_account_id")||"0",[v,R]=s.exports.useState(),[K,de]=s.exports.useState({bgColor:"#FAFAFA",color:"#707683"}),ve=rt(),ke=s.exports.useRef(),Oe=s.exports.useRef(),[Ae,qe]=s.exports.useState(0),[_e,We]=s.exports.useState(10),[Te,Qe]=s.exports.useState(0),[vt,se]=s.exports.useState(1),[ge,ce]=s.exports.useState(0),[oe,T]=s.exports.useState(!1),[ee,Fe]=s.exports.useState([]),[be,nt]=s.exports.useState(0),[pt,Re]=s.exports.useState(0),[Ft,it]=s.exports.useState(10),[wt,Ta]=s.exports.useState(!0),[pa,oa]=s.exports.useState([]),[Ut,jt]=s.exports.useState(null),[Ot,Yt]=s.exports.useState(!1),[J,O]=s.exports.useState(!1),[ne,ae]=s.exports.useState(!1),[z,B]=s.exports.useState([]),[we,Ce]=s.exports.useState(0),[Ge,ht]=s.exports.useState(25),[Ve,Je]=s.exports.useState(0),[Xa,Cn]=s.exports.useState(1),[Xn,Na]=s.exports.useState(),Sn=he=>{ke.current&&!ke.current.contains(he.target)&&A(!1),Oe.current&&!Oe.current.contains(he.target)&&D(!1)};s.exports.useEffect(()=>(document.addEventListener("mousedown",Sn),console.log("window",document.referrer),()=>document.removeEventListener("mousedown",Sn)),[]);const Qn=he=>{re.push(`/home?partner_id=${H}&sales_hub_account_id=${he}`)},ln=()=>{re.push(`/home?partner_id=${H}`),O(!1),Yt(!1)},Qa=he=>{const kt={Authorization:`Token ${localStorage.getItem("token")}`};Qe(he),he===0&&se(1),fe(`/partnership/sales-hub-account/?partnership_id=${H}&limit=${_e}&offset=${he}`,kt).then(dt=>{if(dt.result===!0){dt.count&&qe(dt.count);const Rn=dt.data;u(Rn)}})},ha=()=>{const he=localStorage.getItem("token"),Ze=localStorage.getItem("subDomainName"),kt={Authorization:`Token ${he}`};h(!0),Ze&&fe(`partnership/sales-hub/site/?subdomain=${Ze}`,kt).then(dt=>{var Rn,ds;if(dt.result===!0){const Wt=dt.data,yr=`${Wt.sales_hub.header_image}?t=${new Date().getTime()}`;R({headerText:Wt.sales_hub.header_text,subHeaderText:Wt.sales_hub.sub_header_text,headerImage:yr,solutinNarrative:Wt.solution_narratives,companyLogo:((Rn=Wt.company_information)==null?void 0:Rn.logo)?`${Wt.company_information.logo}?t=${new Date().getTime()}`:"",partnerLogo:((ds=Wt.partner_company_information)==null?void 0:ds.logo)?`${Wt.partner_company_information.logo}?t=${new Date().getTime()}`:"",address:Wt.company_information}),l(Wt.sales_hub.font_family.name),i(Wt.sales_hub.font_color.name)}h(!1)})},za=()=>{const he=localStorage.getItem("token");fe(`partnership/sales-motion/?partnership_id=${H}&offset=${0}&limit=${50}&is_inactive=true`,{Authorization:`Token ${he}`}).then(Ze=>{if(Ze.result===!0){const kt=Ze.data&&Ze.data.map(dt=>({key:dt.name,id:dt.sales_motion_id,value:`${dt.name}${dt.is_active?"":" (deleted)"}`}));M(kt)}})},$e=()=>{const he=localStorage.getItem("token");fe("partnership/sales-hub-account/get-status/",{Authorization:`Token ${he}`}).then(Ze=>{if(Ze.result===!0){const kt=Ze.data&&Ze.data.map(dt=>({key:dt.name,id:dt.status_id,value:dt.name}));L(kt)}})},X=he=>{const kt={Authorization:`Token ${localStorage.getItem("token")}`};Re(he),fe(`partnership/sales-hub-account/account-team/?partnership_id=${H}&sales_hub_account_id=${pe}&offset=${he}&limit=${Ft}`,kt).then(dt=>{dt.result===!0&&(Fe(dt.data),dt.count&&nt(dt.count))})},F=()=>{const Ze={Authorization:`Token ${localStorage.getItem("token")}`};fe(`partnership/sales-hub-account/sales-opportunity/?sales_hub_account_id=${pe}&limit=${50}&offset=${0}`,Ze).then(kt=>{kt.result===!0&&oa(kt.data)})},j=he=>{const kt={Authorization:`Token ${localStorage.getItem("token")}`};Je(he),Y(!0),he===0&&Cn(1),fe(`/partnership/sales-hub-account/account-contacts/?sales_hub_account_id=${pe}&offset=${he}&limit=${25}`,kt).then(dt=>{dt.result===!0?(dt.data&&B(dt.data),dt.count&&Ce(dt.count)):Y(!1)}).finally(()=>{Y(!1)})},Ee=()=>{const Ze={Authorization:`Token ${localStorage.getItem("token")}`};fe(`partnership/sales-hub-account/account-contacts/export/?sales_hub_account_id=${pe}`,Ze).then(kt=>{Na(kt)})};s.exports.useEffect(()=>{ha(),pe==="0"&&(X(0),F()),Qa(0),za(),$e()},[]);const De=he=>{Qe((he-1)*_e),se(he),Qa((he-1)*_e)},ea=(he,Ze)=>{Je((Ze-1)*Ge),Cn(Ze),j((Ze-1)*Ge)},da=(he,Ze)=>{he==="salesMotion"?N(Ze):he==="status"&&P(Ze)},_a=()=>{const he=I!==""&&I!=="All"?E.length>0&&E.filter(Wt=>Wt.value===I)[0].id:"",Ze=$!==""&&$!=="All"?U.length>0&&U.filter(Wt=>Wt.value===$)[0].id:"",kt=b!==""?`&company_name=${b}`:"",dt=he!==""?`&sales_motion_id=${he}`:"",Rn=Ze!==""?`&status_id=${Ze}`:"",ds=localStorage.getItem("token");fe(`partnership/sales-hub-account/?partnership_id=${H}&limit=${20}&offset=${0}${kt}${dt}${Rn}`,{Authorization:`Token ${ds}`}).then(Wt=>{Wt.result===!0&&Wt.data&&u(Wt.data)})},Kt=he=>{re.push(`/viewAssets?partner_id=${H}&solution_narrative_id=${he.solution_narrative_id}`)},_t=ba(ss)(()=>({[`&.${It.head}`]:{backgroundColor:K.bgColor,color:K.color},[`&.${It.body}`]:{fontSize:14}})),wn=ba(Et)(()=>({"&:nth-of-type(odd)":{border:0},"&:last-child td, &:last-child th":{border:0}}));return t("div",{style:{fontFamily:o},className:je.main,"data-theme":y?"dark":"light",children:[v&&t("div",{children:[t("div",{className:je.headerDiv,children:[e(mi,{companyLogo:v.companyLogo,partnerLogo:v.partnerLogo}),e(Lb,{})]}),t("div",{className:je.headBg,children:[e("img",{src:(v==null?void 0:v.headerImage)?`${v==null?void 0:v.headerImage}?time=${Date.now()}`:v==null?void 0:v.headerImage,alt:"Mountain"}),t("div",{className:je.bannerTxtWrap,"data-theme":m==="Dark"?"dark-text":"light-text",children:[e("h1",{children:v.headerText}),e("p",{children:v.subHeaderText})]})]}),t("div",{className:je.centerContentWrap,children:[t("div",{className:`${je.accEngagementWrap} ${pe!=="0"?"":je.engagementEditMode}`,children:[pe==="0"?t("div",{className:je.accHead,children:[e("h2",{children:Nn.tableTile}),e(Ke,{onClick:()=>{n(!0),ve(Bn({currentSalesHubAccountId:""}))},children:Nn.buttonCreate})]}):t(xe,{children:[e("div",{className:je.stickyCard,children:t("div",{className:je.backWrap,children:[e("img",{src:ji,alt:"arrow",className:je.backArrowBtn,onClickCapture:()=>{J||Ot?ae(!0):ln()}}),e("div",{className:je.accountTitle,children:k})]})}),t(Yo,{value:ge,onChange:(he,Ze)=>ce(Ze),"aria-label":"",style:{borderBottom:"1px solid #334D6E33"},children:[e(gs,{label:"Account Details",style:{textTransform:"capitalize",fontSize:"14px",color:`${ge!==0?"#707683":"#4C70E3"}`}}),e(gs,{label:"Account Contacts",style:{textTransform:"capitalize",fontSize:"14px",color:`${ge!==1?"#707683":"#4C70E3"}`}})]})]}),pe==="0"?t("div",{children:[t("div",{className:je.filterWrap,children:[t("div",{className:je.inputWrap,children:[e("form",{children:e("input",{type:"text",name:"name",onKeyDown:he=>{he.key==="Enter"&&he.preventDefault()},onChange:he=>{he.key==="Enter"?he.preventDefault():S(he.target.value)},placeholder:"Search account engagements",className:`${je.searchbar} search`})}),e(us,{className:je.searchIcon})]}),e("div",{className:je.centerDropDown,children:t("div",{className:je.dropdown,ref:ke,children:[t("button",{type:"button",className:je.dropdownBtn,onClick:()=>A(!f),children:[" ",I===""?e("span",{style:{fontSize:"12px"},children:me.filterBySalesMotion}):I,e(tn,{className:`${je.arrowIcon}  ${f?je.arrowIconActive:""}`})]}),e("div",{className:`${je.menuWrap} ${f?je.dropdownMenuActive:je.dropdownMenu}`,children:f&&t(xe,{children:[e(Ue,{value:"",onClick:()=>{da("salesMotion","All"),A(!1)},children:"All"}),E&&E.map(he=>e(Ue,{value:he.value,onClick:()=>{da("salesMotion",he.value),A(!1)},children:he.value},he.id))]})})]})}),e("div",{children:t("div",{className:je.dropdown,ref:Oe,children:[t("button",{type:"button",className:je.dropdownBtn,onClick:()=>D(!W),children:[" ",$===""?e("span",{style:{fontSize:"12px"},children:me.filterByStatus}):$,e(tn,{className:`${je.arrowIcon}  ${f?je.arrowIconActive:""}`})]}),e("div",{className:`${je.menuWrap} ${W?je.dropdownMenuActive:je.dropdownMenu}`,children:W&&t(xe,{children:[e(Ue,{value:"",onClick:()=>{da("status","All"),D(!1)},children:"All"}),U&&U.map(he=>e(Ue,{value:he.value,onClick:()=>{da("status",he.value),D(!1)},children:he.value},he.id))]})})]})}),e("div",{className:je.searchBtnWrap,children:e(bt,{className:je.searchBtn,onClick:()=>{_a()},children:ct.search})})]}),e(Ua,{className:je.salesHubTable,children:t(ja,{"aria-label":"customized table",children:[e(Va,{children:t(Et,{children:[e(_t,{children:Sa.accountName}),e(_t,{children:Sa.accountType}),e(_t,{children:Sa.industry}),e(_t,{children:Sa.salesMotion}),e(_t,{children:Sa.status}),e(_t,{children:Sa.createdBy})]})}),e(ka,{children:d.length>0?d.map(he=>t(wn,{onClickCapture:()=>{Qn(he.sales_hub_account_id),ce(0)},children:[e(_t,{children:he.company_name}),e(_t,{children:he.account_type_name}),e(_t,{children:he.industry}),e(_t,{children:`${he.site_layout.sales_motion.name}${he.site_layout.sales_motion.is_active?"":" (deleted)"}`}),e(_t,{children:he.status}),e(_t,{children:he.created_by})]},he.sales_hub_account_id)):e(_t,{colSpan:6,className:je.noResults,children:"No Records Found"})})]})}),Ae>_e&&e(Ma,{spacing:2,className:je.paginationWrap,children:e(La,{count:Math.ceil(Ae/_e),shape:"rounded",page:vt,onChange:(he,Ze)=>De(Ze)})})]}):t(xe,{children:[e("div",{role:"tabpanel",hidden:ge!==0,id:`simple-tabpanel-${0}`,"aria-labelledby":`simple-tab-${0}`,children:ge===0&&e(fs,{children:t(ys,{children:[e(Ds,{cancelHandler:ln,setAlert:c,darkMode:y,setLoader:()=>h(!0),clearLoader:()=>h(!1),salesMotionList:E,setAccountTitle:g,statusList:U,fetchSalesHubAccountsList:Qa,cadenceFieldEnabled:w,setCadenceFieldEnabled:x,servicePartnerEnabled:V,setServicePartnerEnabled:G,accountTeamList:ee,setAccountTeamList:Fe,fetchAccountTeamList:X,showAddSalesOpportunity:Ut,setShowAddSalesOpportunity:jt,setSalesOpportunityList:oa,salesOpportunityList:pa,fetchSalesOpportunityList:F,showCloseWarning:ne,setShowCloseWarning:ae,setFormEdited:Yt,formEdited:Ot,setIsDirty:O,accountTeamCount:be,accountTeamLimit:Ft,setActiveAddUserMenu:T,getAccContactsDetails:j,GetExportData:Ee}),oe?e(Ha,{title:Nn.inviteAccTeam,closeHandler:()=>{J||Ot?ae(!0):(T(!1),X(0))},renderElement:e(Qi,{setLoader:()=>h(!0),clearLoader:()=>h(!1),setAlert:c,cancelHandler:()=>{T(!1),X(0),O(!1),ae(!1)},setIsDirty:O,showCloseWarning:ne,setShowCloseWarning:ae})}):null,Ut?e(Ha,{title:Ut==="0"?me.createSalesOpportunity:me.updateSalesOpportunity,closeHandler:()=>{J||Ot?ae(!0):(jt(null),F())},renderElement:e(tr,{showAddSalesOpportunity:Ut,setShowAddSalesOpportunity:jt,fetchSalesOpportunityList:F,setIsDirty:O,setShowCloseWarning:ae,showCloseWarning:ne,setLoader:()=>h(!0),clearLoader:()=>h(!1),setAlert:he=>c(Ze=>ue(Z({},Ze),{showAlert:!0,message:he,severity:"success"})),cancelHandler:()=>{jt(null),O(!1),ae(!1)}})}):null]})})}),e("div",{role:"tabpanel",hidden:ge!==1,id:`simple-tabpanel-${1}`,"aria-labelledby":`simple-tab-${1}`,children:ge===1&&e(fs,{children:e(ys,{children:e(er,{cancelHandler:ln,setAlert:c,darkMode:y,contactsLoading:ie,salesMotionList:E,setAccountTitle:g,statusList:U,fetchSalesHubAccountsList:Qa,cadenceFieldEnabled:w,setCadenceFieldEnabled:x,servicePartnerEnabled:V,setServicePartnerEnabled:G,accountTeamList:ee,setAccountTeamList:Fe,fetchAccountTeamList:X,contactsCount:we,contactsLimit:Ge,setContactsCount:Ce,contactsOffset:Ve,setContactsOffset:Je,setShowAccountTeam:Ta,showAccountTeam:wt,setContactsLimit:ht,accContactsList:z,contactsPage:Xa,setContactsPage:Cn,handleContactsPageChange:ea,salesHubAccountId:pe,CsvData:Xn,accountTitle:k})})})})]}),e("div",{})]}),pe==="0"?t(xe,{children:[e("div",{className:je.recommendHeadTxt,children:Nn.cardTile}),e("div",{className:je.cardWrap,children:v&&v.solutinNarrative.length>0?v.solutinNarrative.map(he=>{var Ze,kt;return t("div",{className:je.bannerCard,onClickCapture:()=>Kt(he),children:[e("img",{src:(he==null?void 0:he.image)?`${he==null?void 0:he.image}?time=${Date.now()}`:he==null?void 0:he.image,alt:"Avatar"}),t("div",{className:je.cardContainer,children:[e("h4",{children:(Ze=he==null?void 0:he.name)==null?void 0:Ze.slice(0,25)}),e("p",{children:(kt=he==null?void 0:he.description)==null?void 0:kt.slice(0,100)})]}),e("div",{className:je.loadLink,children:"Learn More >"})]})}):e("div",{className:je.noAssetCollectionMsg,children:Nn.noAssetCollection})})]}):null]}),e(ui,{address:v==null?void 0:v.address,darkMode:y,isPreview:null})]}),a?e(Ha,{title:Tt.createAccount,closeHandler:()=>{Ot||J?ae(!0):n(!1)},renderElement:e(Ds,{cancelHandler:()=>n(!1),setAlert:c,darkMode:y,setLoader:()=>h(!0),clearLoader:()=>h(!1),salesMotionList:E,fetchSalesHubAccountsList:Qa,cadenceFieldEnabled:w,setCadenceFieldEnabled:x,servicePartnerEnabled:V,setServicePartnerEnabled:G,setActiveAddUserMenu:T,showCloseWarning:ne,setShowCloseWarning:ae,setFormEdited:Yt,formEdited:Ot,setIsDirty:O})}):null,p===!0&&e(ft,{}),r.showAlert&&e(Ht,{severity:r.severity,handler:()=>{c(he=>ue(Z({},he),{showAlert:!1}))},showalert:r.showAlert,message:r.message})]})},$b="_accEngagementMainDiv_edigh_1",Fb="_accountEngagementMainCard_edigh_15",Eb="_accEngagementTitleDiv_edigh_45",Db="_filterWrap_edigh_67",Pb="_centerDropDown_edigh_77",Hb="_searchbar_edigh_83",Bb="_inputWrap_edigh_115",Ob="_searchIcon_edigh_123",Wb="_dropDownFilter_edigh_137",Rb="_backArrowBtn_edigh_159",qb="_dropdownBtn_edigh_165",zb="_arrowIcon_edigh_219",Ub="_arrowIconActive_edigh_233",jb="_dropdown_edigh_165",Vb="_menuWrap_edigh_245",Gb="_dropdownMenu_edigh_285",Jb="_chooseText_edigh_291",Zb="_noResults_edigh_299",Yb="_paginationWrap_edigh_311",Kb="_searchBtn_edigh_345",Xb="_searchBtnWrap_edigh_373",Qb="_backWrap_edigh_379",eC="_stickyCard_edigh_397",tC="_contentDiv_edigh_419",aC="_assetCheckBox_edigh_433",nC="_accEngagementTable_edigh_439",sC="_accListTableWrap_edigh_451",oC="_modal_edigh_467",iC="_modalActive_edigh_511",rC="_modalcontent_edigh_555",lC="_modalcontenttitle_edigh_575",cC="_modalSecContenttitle_edigh_587",dC="_btnPrimary_edigh_605",mC="_btnOutlined_edigh_607";var at={accEngagementMainDiv:$b,accountEngagementMainCard:Fb,accEngagementTitleDiv:Eb,filterWrap:Db,centerDropDown:Pb,searchbar:Hb,inputWrap:Bb,searchIcon:Ob,dropDownFilter:Wb,backArrowBtn:Rb,dropdownBtn:qb,arrowIcon:zb,arrowIconActive:Ub,dropdown:jb,menuWrap:Vb,dropdownMenu:Gb,chooseText:Jb,noResults:Zb,paginationWrap:Yb,"Mui-selected":"_Mui-selected_edigh_335",searchBtn:Kb,searchBtnWrap:Xb,backWrap:Qb,stickyCard:eC,contentDiv:tC,assetCheckBox:aC,accEngagementTable:nC,accListTableWrap:sC,modal:oC,modalActive:iC,modalcontent:rC,modalcontenttitle:lC,modalSecContenttitle:cC,btnPrimary:dC,btnOutlined:mC};const uC=()=>{const a=gt(),n=new URLSearchParams(window.location.search),o=n.get("partner_id")||"0",l=n.get("sales_hub_account_id")||"0",[m,i]=s.exports.useState(!1),[d,u]=s.exports.useState([]),[r,c]=s.exports.useState(0),[p,h]=s.exports.useState(10),[y,_]=s.exports.useState(0),[b,S]=s.exports.useState(1),[f,A]=s.exports.useState(0),[I,N]=s.exports.useState(!1),[W,D]=s.exports.useState([]),[$,P]=s.exports.useState({showAlert:!1,severity:"",message:""}),[E,M]=s.exports.useState(""),[U,L]=s.exports.useState(!1),[k,g]=s.exports.useState(""),[w,x]=s.exports.useState(!1),[V,G]=s.exports.useState(""),[ie,Y]=s.exports.useState([]),[re,ye]=s.exports.useState([]),[H,pe]=s.exports.useState(""),[v,R]=s.exports.useState(!1),K=s.exports.useRef(),de=s.exports.useRef(),[ve,ke]=s.exports.useState(!1),[Oe,Ae]=s.exports.useState([]),[qe,_e]=s.exports.useState(0),[We,Te]=s.exports.useState(0),[Qe,vt]=s.exports.useState(10),[se,ge]=s.exports.useState(!0),[ce,oe]=s.exports.useState(!1),[T,ee]=s.exports.useState(!1),[Fe,be]=s.exports.useState(!1),[nt,pt]=s.exports.useState(null),[Re,Ft]=s.exports.useState([]),[it,wt]=s.exports.useState([]),[Ta,pa]=s.exports.useState(0),[oa,Ut]=s.exports.useState(25),[jt,Ot]=s.exports.useState(0),[Yt,J]=s.exports.useState(1),[O,ne]=s.exports.useState(),[ae,z]=s.exports.useState(!1),B=!!n.get("state")||!1,we=ba(ss)(()=>({[`&.${It.head}`]:{backgroundColor:"#FAFAFA",color:"#707683"},[`&.${It.body}`]:{fontSize:14}})),Ce=ba(Et)(()=>({"&:nth-of-type(odd)":{border:0},"&:last-child td, &:last-child th":{border:0}})),Ge=(F,j)=>{F&&F.stopPropagation&&F.stopPropagation(),a.push(`/accountsEngagements?partner_id=${o}&sales_hub_account_id=${j}`)},ht=F=>{K.current&&!K.current.contains(F.target)&&L(!1),de.current&&!de.current.contains(F.target)&&x(!1)};s.exports.useEffect(()=>{const F=!!n.get("accountModal")||!1;if(N(F),B===!0){const j=n.get("state").split("/"),Ee=n.get("code"),De=j[0].split(".");let ea;De[0]==="portal"?ea="accountsEngagements":ea="home",console.log("showModal",j),window.open(`https://${De[0]}.stg.cosell.partners/${ea}?code=${Ee}&partner_id=${j[1]}&sales_hub_account_id=${j[2]}`,"_self")}},[]),s.exports.useEffect(()=>(document.addEventListener("mousedown",ht),()=>document.removeEventListener("mousedown",ht)),[]);const Ve=F=>{const Ee={Authorization:`Token ${localStorage.getItem("token")}`};Te(F),fe(`partnership/sales-hub-account/account-team/?partnership_id=${o}&sales_hub_account_id=${l}&offset=${F}&limit=${Qe}`,Ee).then(De=>{De.result===!0&&(Ae(De.data),De.count&&_e(De.count))})},Je=F=>{i(!0);const j=k!==""&&k!=="All"?ie.length>0&&ie.filter(_t=>_t.value===k)[0].id:"",Ee=V!==""&&V!=="All"?re.length>0&&re.filter(_t=>_t.value===V)[0].id:"",De=E!==""?`&company_name=${E}`:"",ea=j!==""?`&sales_motion_id=${j}`:"",da=Ee!==""?`&status_id=${Ee}`:"",Kt={Authorization:`Token ${localStorage.getItem("token")}`};_(F),F===0&&S(1),fe(`partnership/sales-hub-account/?partnership_id=${o}&limit=${p}&offset=${F}${De}${ea}${da}`,Kt).then(_t=>{if(_t.result===!0){const wn=_t.data;D(wn),_t.count&&c(_t.count),i(!1)}else i(!1)})},Xa=()=>{a.push(`/accountsEngagements?partner_id=${o}`),Je(0),be(!1),ee(!1)},Cn=()=>{const F=localStorage.getItem("token");fe(`partnership/sales-motion/?partnership_id=${o}&offset=${0}&limit=${50}&is_inactive=true`,{Authorization:`Token ${F}`}).then(j=>{if(j.result===!0){const Ee=j.data&&j.data.map(De=>({key:De.name,id:De.sales_motion_id,value:`${De.name}${De.is_active?"":" (deleted)"}`}));Y(Ee)}})},Xn=()=>{const F=localStorage.getItem("token");fe("partnership/sales-hub-account/get-status/",{Authorization:`Token ${F}`}).then(j=>{if(j.result===!0){const Ee=j.data&&j.data.map(De=>({key:De.name,id:De.status_id,value:De.name}));ye(Ee)}})},Na=(F,j)=>{F==="salesMotion"?g(j):F==="status"&&G(j)},Sn=(F,j)=>{_((j-1)*p),S(j)},Qn=()=>{R(!1),i(!0);const F=localStorage.getItem("token");mn("partnership/sales-hub-account/",{Authorization:`Token ${F}`},{partnership_id:o,sales_hub_account_ids:d}).then(j=>{j.result===!0?(Je(0),i(!1),P(Ee=>ue(Z({},Ee),{showAlert:!0,severity:"success",message:Ct.deleteAccountMsg})),u([])):i(!1)})},ln=(F,j)=>{F&&F.stopPropagation&&F.stopPropagation();const Ee=d.indexOf(j);let De=[];Ee===-1?De=De.concat(d,j):Ee===0?De=De.concat(d.slice(1)):Ee===d.length-1?De=De.concat(d.slice(0,-1)):Ee>0&&(De=De.concat(d.slice(0,Ee),d.slice(Ee+1))),u(De)},Qa=F=>{if(F.target.checked){const De=W.map(ea=>ea.sales_hub_account_id);u(Array.from(new Set([...d,...De])));return}const j=W.map(De=>De.sales_hub_account_id),Ee=d.filter(De=>!j.includes(De));u(Ee)},ha=()=>{const j={Authorization:`Token ${localStorage.getItem("token")}`};fe(`partnership/sales-hub-account/sales-opportunity/?sales_hub_account_id=${l}&limit=${50}&offset=${0}`,j).then(Ee=>{Ee.result===!0&&Ft(Ee.data)})},za=F=>{const Ee={Authorization:`Token ${localStorage.getItem("token")}`};z(!0),Ot(F),F===0&&J(1),fe(`/partnership/sales-hub-account/account-contacts/?sales_hub_account_id=${l}&offset=${F}&limit=${25}`,Ee).then(De=>{De.result===!0?(z(!1),De.data&&wt(De.data),De.count&&pa(De.count)):z(!1)}).finally(()=>{z(!1)})},$e=()=>{const j={Authorization:`Token ${localStorage.getItem("token")}`};fe(`partnership/sales-hub-account/account-contacts/export/?sales_hub_account_id=${l}`,j).then(Ee=>{ne(Ee)})},X=(F,j)=>{Ot((j-1)*oa),J(j),za((j-1)*oa)};return s.exports.useEffect(()=>{l==="0"&&(Je(0),ha()),Cn(),Xn()},[]),s.exports.useEffect(()=>{Je(y)},[y]),t("div",{className:at.accEngagementMainDiv,children:[t("div",{className:at.accountEngagementMainCard,children:[l==="0"?t("div",{className:at.accEngagementTitleDiv,children:[Ct.title,e("div",{children:d.filter(F=>F!=="").length>0?e(Ke,{style:{minWidth:"225px"},onClick:()=>R(!0),children:Ct.deleteAccount}):t(Ke,{style:{minWidth:"225px"},onClick:()=>{N(!0)},children:[t("div",{className:at.plusWrap,children:[" ",e("img",{style:{marginRight:"10px"},src:Ks,alt:""})]}),Ct.createAccount]})})]}):t(xe,{children:[e("div",{className:at.stickyCard,children:t("div",{className:at.backWrap,children:[e("img",{src:ji,alt:"arrow",className:at.backArrowBtn,onClickCapture:()=>{Fe||T?oe(!0):Xa()}}),e("div",{children:H})]})}),t(Yo,{value:f,onChange:(F,j)=>{console.log("tab event"),a.push(`/accountsEngagements?partner_id=${o}&sales_hub_account_id=${l}`),A(j)},"aria-label":"",style:{borderBottom:"1px solid #334D6E33"},children:[e(gs,{label:"Account Details",style:{textTransform:"capitalize",fontSize:"14px",color:`${f!==0?"#707683":"#4C70E3"}`}}),e(gs,{label:"Account Contacts",style:{textTransform:"capitalize",fontSize:"14px",color:`${f!==1?"#707683":"#4C70E3"}`}})]})]}),e("div",{className:at.contentDiv,children:l==="0"?t("div",{className:at.accListTableWrap,children:[t("div",{className:at.filterWrap,children:[t("div",{className:at.inputWrap,children:[e("form",{children:e("input",{type:"text",name:"name",onKeyDown:F=>{F.key==="Enter"&&F.preventDefault()},onChange:F=>{F.key==="Enter"?F.preventDefault():M(F.target.value)},placeholder:"Search account engagements",className:at.searchbar})}),e(us,{className:at.searchIcon})]}),e("div",{className:at.centerDropDown,children:t("div",{className:at.dropdown,ref:K,children:[t("button",{type:"button",className:at.dropdownBtn,onClick:()=>L(!U),children:[" ",k===""?e("span",{style:{fontSize:"12px",letterSpacing:"normal"},children:me.filterBySalesMotion}):k,e(tn,{className:`${at.arrowIcon}  ${U?at.arrowIconActive:""}`})]}),e("div",{className:`${at.menuWrap} ${U?at.dropdownMenuActive:at.dropdownMenu}`,children:U&&t(xe,{children:[e(Ue,{value:"",onClick:()=>{Na("salesMotion","All"),L(!1)},children:"All"}),ie&&ie.map(F=>e(Ue,{value:F.value,onClick:()=>{Na("salesMotion",F.value),L(!1)},children:F.value},F.id))]})})]})}),e("div",{children:t("div",{className:at.dropdown,ref:de,children:[t("button",{type:"button",className:at.dropdownBtn,onClick:()=>x(!w),children:[" ",V===""?e("span",{style:{fontSize:"12px",letterSpacing:"normal"},children:me.filterByStatus}):V,e(tn,{className:`${at.arrowIcon}  ${U?at.arrowIconActive:""}`})]}),e("div",{className:`${at.menuWrap} ${w?at.dropdownMenuActive:at.dropdownMenu}`,children:w&&t(xe,{children:[e(Ue,{value:"",onClick:()=>{Na("status","All"),x(!1)},children:"All"}),re&&re.map(F=>e(Ue,{value:F.value,onClick:()=>{Na("status",F.value),x(!1)},children:F.value},F.id))]})})]})}),e("div",{className:at.searchBtnWrap,children:e(bt,{className:at.searchBtn,onClick:()=>{_(0),S(1),u([]),Je(0)},children:ct.search})})]}),e(Ua,{className:at.accEngagementTable,children:t(ja,{"aria-label":"customized table",children:[e(Va,{children:t(Et,{children:[e(we,{children:e(Xt,{className:W.filter(F=>d.includes(F.sales_hub_account_id)).length===W.length?at.assetCheckBox:"",checked:W.length>0&&W.length===W.filter(F=>d.includes(F.sales_hub_account_id)).length,onChange:F=>Qa(F)})}),e(we,{children:Sa.accountName}),e(we,{children:Sa.accountType}),e(we,{children:Sa.industry}),e(we,{children:Sa.salesMotion}),e(we,{children:Sa.status}),e(we,{children:Sa.createdBy})]})}),e(ka,{children:W.length>0?W.map(F=>t(Ce,{onClick:j=>{Ge(j,F.sales_hub_account_id),A(0)},children:[e(we,{component:"td",children:e(Xt,{className:d.includes(F.sales_hub_account_id)?at.assetCheckBox:"",checked:d.length>0?d.includes(F.sales_hub_account_id):!1,onClick:j=>ln(j,F.sales_hub_account_id)})}),e(we,{children:F.company_name}),e(we,{children:F.account_type_name}),e(we,{children:F.industry}),e(we,{children:`${F.site_layout.sales_motion.name}${F.site_layout.sales_motion.is_active?"":" (deleted)"}`}),e(we,{children:F.status}),e(we,{children:F.created_by})]},F.sales_hub_account_id)):!m&&e(we,{colSpan:6,className:at.noResults,children:"No Records Found"})})]})}),r>p&&e(Ma,{spacing:2,className:at.paginationWrap,children:e(La,{count:Math.ceil(r/p),shape:"rounded",page:b,onChange:Sn})})]}):t(xe,{children:[e("div",{role:"tabpanel",hidden:f!==0,id:`simple-tabpanel-${0}`,"aria-labelledby":`simple-tab-${0}`,children:f===0&&e(fs,{children:t(ys,{children:[e(Ds,{cancelHandler:Xa,setAlert:P,setLoader:()=>i(!0),clearLoader:()=>i(!1),salesMotionList:ie,setAccountTitle:pe,statusShow:!0,statusList:re,setActiveAddUserMenu:ke,accountTeamList:Oe,setAccountTeamList:Ae,fetchAccountTeamList:Ve,accountTeamCount:qe,accountTeamLimit:Qe,fetchSalesHubAccountsList:Je,showAddSalesOpportunity:nt,setShowAddSalesOpportunity:pt,setSalesOpportunityList:Ft,salesOpportunityList:Re,fetchSalesOpportunityList:ha,showCloseWarning:ce,setShowCloseWarning:oe,setFormEdited:ee,formEdited:T,setIsDirty:be,getAccContactsDetails:za,GetExportData:$e}),ve?e(Ha,{title:Ct.inviteAccTeam,closeHandler:()=>{Fe?oe(!0):ke(!1)},renderElement:e(Qi,{setLoader:()=>i(!0),clearLoader:()=>i(!1),setAlert:P,cancelHandler:()=>{ke(!1),Ve(0),be(!1),oe(!1)},setIsDirty:be,showCloseWarning:ce,setShowCloseWarning:oe})}):null,nt?e(Ha,{title:nt==="0"?me.createSalesOpportunity:me.updateSalesOpportunity,closeHandler:()=>{Fe?oe(!0):pt(null),ha()},renderElement:e(tr,{showAddSalesOpportunity:nt,setShowAddSalesOpportunity:pt,fetchSalesOpportunityList:ha,setLoader:()=>i(!0),clearLoader:()=>i(!1),setAlert:F=>P(j=>ue(Z({},j),{showAlert:!0,message:F,severity:"success"})),cancelHandler:()=>{pt(null),be(!1),oe(!1)},setIsDirty:be,showCloseWarning:ce,setShowCloseWarning:oe})}):null]})})}),e("div",{role:"tabpanel",hidden:f!==1,id:`simple-tabpanel-${1}`,"aria-labelledby":`simple-tab-${1}`,children:f===1&&e(fs,{children:e(ys,{children:e(er,{cancelHandler:Xa,setAlert:P,contactsLoading:ae,salesMotionList:ie,setAccountTitle:pe,statusShow:!0,statusList:re,setActiveAddUserMenu:ke,accountTeamList:Oe,setAccountTeamList:Ae,fetchAccountTeamList:Ve,contactsCount:Ta,contactsLimit:oa,setContactsCount:pa,contactsOffset:jt,setContactsOffset:Ot,fetchSalesHubAccountsList:Je,setShowAccountTeam:ge,showAccountTeam:se,setContactsLimit:Ut,accContactsList:it,contactsPage:Yt,setContactsPage:J,handleContactsPageChange:X,salesHubAccountId:l,CsvData:O,accountTitle:H})})})})]})})]}),I?e(Ha,{title:Ct.createAccount,closeHandler:()=>{T||Fe?oe(!0):N(!1)},renderElement:e(Ds,{cancelHandler:()=>{N(!1)},setAlert:P,setLoader:()=>i(!0),clearLoader:()=>i(!1),salesMotionList:ie,fetchSalesHubAccountsList:Je,fetchSalesOpportunityList:ha,showCloseWarning:ce,setShowCloseWarning:oe,setFormEdited:ee,formEdited:T,setIsDirty:be})}):null,m===!0&&e(ft,{}),$.showAlert&&e(Ht,{severity:$.severity,handler:()=>{P(F=>ue(Z({},F),{showAlert:!1}))},showalert:$.showAlert,message:$.message}),e(Bt,{title:"",primaryContent:Ct.deleteAccount,secondaryContent:Ct.confirmDeleteAccount,secondaryButton:Ct.cancel,primaryButton:Ct.deleteAccount,show:v,handleDialogBoxClose:()=>R(!1),handleAgree:()=>Qn()})]})},pC="_termsBannerWrap_15pxy_1",hC="_bannerWrap_15pxy_17",_C="_header_15pxy_27",gC="_content_15pxy_35",fC="_dotted1_15pxy_47",yC="_dotted2_15pxy_57";var Zt={termsBannerWrap:pC,bannerWrap:hC,header:_C,content:gC,dotted1:fC,dotted2:yC};const nr=()=>e(xe,{children:e("div",{className:Zt.termsBannerWrap,children:t("div",{className:Zt.bannerWrap,children:[e("div",{className:Zt.dotted1,children:e("img",{src:Ms,alt:"dotted"})}),e("div",{className:Zt.dotted2,children:e("img",{src:Ms,alt:"dotted"})}),e("h1",{children:"Terms and Conditions"}),e("div",{className:Zt.header,children:"1.Basis of the sale"}),e("div",{className:Zt.content,children:"1.1 The Seller shall sell and the Buyer shall purchase the Goods in accordance with any written quotation of the Seller which is accepted by the Buyer, or any written order of the Buyer which is accepted by the Seller, subject in either case to these Conditions which shall govern the Contract to the exclusion of any other terms and conditions subject to which any such quotation is accepted or purported to be accepted, or any such order is made or purported to be made, by the Buyer."}),e("div",{className:Zt.content,children:"1.2 No variation to these Conditions shall be binding unless agreed in Writing between the authorised representatives of the Buyer and the Seller."}),e("div",{className:Zt.content,children:"1.3 The Seller\u2019s employees or agents are not authorised to make any representations concerning the Goods unless confirmed by the Seller in Writing. In entering into the Contract, the Buyer acknowledges that it does not rely on, and waives any claim for breach of, any such representations that are not so confirmed."}),e("div",{className:Zt.content,children:"1.4 Any advice or recommendation given by the Seller or its employees or agents to the Buyer or its employees or agents as to the storage, application or use of the Goods which is not confirmed in Writing by the Seller is followed or acted upon entirely at the Buyer\u2019s own risk, and accordingly the Seller shall not be liable for any such advice or recommendation which is not so confirmed."}),e("div",{className:Zt.content,children:"1.5 Any typographical, clerical or other error or omission in any sales literature, quotation, price list, acceptance of offer, invoice or other document or information issued by the Seller shall be subject to correction without any liability on the part of the Seller"}),e("div",{className:Zt.header,children:" 2. Delivery "}),e("div",{className:Zt.content,children:"2.1 Delivery of the Goods shall be made by the Buyer collecting the Goods at the Seller\u2019s premises at any time after the Seller has notified the Buyer that the Goods are ready for collection or, if some other place for delivery is agreed by the Seller, by the Seller delivering the Goods to that place."}),e("div",{className:Zt.content,children:"2.2 Any dates quoted for delivery of the Goods are approximate only and the Seller shall not be liable for any delay in delivery of the Goods howsoever caused. Time for delivery shall not be of the essence unless previously agreed by the Seller in writing. The Goods may be delivered by the Seller in advance of the quoted delivery date upon giving reasonable notice to the Buyer. The Seller shall be entitled to make part delivery of the Goods at any time."}),e("div",{className:Zt.header,children:" 3. Risk and property"}),e("div",{className:Zt.content,children:"3.1 Risk of damage to or loss of the Goods shall pass to the Buyer:"}),e("div",{className:Zt.content,children:"3.2 in the case of Goods to be delivered at the Seller\u2019s premises, at the time when the Seller notifies the Buyer that the Goods are available for collection: or"}),e("div",{className:Zt.content,children:"3.3 in the case of Goods to be delivered otherwise than at the Seller\u2019s premises, at the time of delivery or, if the Buyer wrongfully fails to take delivery of the Goods, the time when the Seller has tendered delivered of the Goods"}),e("div",{className:Zt.content,children:"3.4 Notwithstanding delivery and the passing of risk in the Goods, or any other provision of these Conditions, the property in the Goods shall not pass to the Buyer until the Seller has received in cash or cleared funds payment in full of the price of the Goods and payment in full of all sums due from the Buyer to the Seller whether under the Contract or by virtue of any other liability of the Buyer to the Seller."})]})})}),vC="_flexBackground_4l1se_1",bC="_container_4l1se_15",CC="_link_4l1se_29",SC="_mailReceiveTxt_4l1se_43",wC="_verifyTitle_4l1se_51",xC="_mailSent_4l1se_61",AC="_mail_4l1se_43",IC="_spam_4l1se_75",TC="_verifyTxt_4l1se_83",NC="_verifyTxt1_4l1se_95",kC="_signIn_4l1se_107",MC="_invalidToken_4l1se_133";var fa={flexBackground:vC,container:bC,link:CC,mailReceiveTxt:SC,verifyTitle:wC,mailSent:xC,mail:AC,spam:IC,verifyTxt:TC,verifyTxt1:NC,signIn:kC,invalidToken:MC};const LC="stg",$C=()=>{rt(),gt(),st(bo);const[a,n]=Ie.useState(!1),[o,l]=Ie.useState(!1),[m,i]=Ie.useState({showAlert:!1,severity:"",message:""}),[d,u]=Ie.useState(""),[r,c]=Ie.useState(!1);return s.exports.useEffect(()=>{const p=new URLSearchParams(window.location.search).get("verifytoken");l(!0),fe(`partnership/sales-hub-account/account-team/confirm-invite/?verifytoken=${p}`).then(h=>{h.result===!0?(console.log(h,"resp"),n(!0),u(`https://${h.data.sales_hub_domain}.${LC}.cosell.partners/signUp`)):n(!1),l(!1),c(!0)})},[]),t("div",{className:fa.flexBackground,children:[t("div",{className:fa.container,children:[a===!0?t(xe,{children:[t("div",{className:fa.mailImgWrap,children:[" ",e("img",{src:vo,alt:"",className:"mailImg"})]}),e("div",{className:fa.verifyTitle,children:is.inviteHeader}),e("div",{className:`${fa.verifyTxt} ${fa.mailSent}`,children:e("div",{children:is.inviteSubHeader})}),e("div",{className:`${fa.verifyTxt} ${fa.mailSent}`,children:e("div",{children:is.inviteContent})}),e("div",{className:fa.verifyTxt1,children:t("div",{className:`${fa.link} ${fa.mailReceiveTxt}`,children:[is.inviteSignup," ",e(bt,{size:"small",className:fa.linkBtn,onClick:()=>d!==""?window.location.assign(d):console.log(""),children:is.signUp})]})})]}):o===!1&&r&&e("div",{className:fa.invalidToken,children:"Token Invalid"}),o===!0&&e(ft,{})]}),o===!0&&e(ft,{}),m.showAlert&&e(Ht,{severity:m.severity,handler:()=>{i(p=>ue(Z({},p),{showAlert:!1}))},showalert:m.showAlert,message:m.message})]})},ya=a=>{const i=a,{layout:n,component:o,session:l}=i,m=cn(i,["layout","component","session"]);return e(Ho,ue(Z({},m),{render:d=>localStorage.getItem("token")?e(n,{children:e(o,Z({},d))}):e(vs,{to:"/"})}))},FC=()=>t(qs,{children:[e($t,{component:ki,exact:!0,layout:ua,path:"/"}),e($t,{component:Mi,exact:!0,layout:ua,path:"/forgotPassword"}),e($t,{component:Li,exact:!0,layout:ua,path:"/resetPassword"}),e($t,{component:Ei,exact:!0,layout:ua,path:"/verifyMail"}),e($t,{component:Ui,exact:!0,layout:ua,path:"/emailVerification"}),e($t,{component:Di,exact:!0,layout:ua,path:"/signUp"}),e($t,{component:$C,exact:!0,layout:ua,path:"/teamInviteVerification"}),e(ya,{component:vp,exact:!0,layout:Ba,path:"/dashboard"}),e(ya,{component:wh,exact:!0,layout:Ba,path:"/profile"}),e(ya,{component:xh,exact:!0,layout:Ba,path:"/previewPartnership"}),e(ya,{component:yo,exact:!0,layout:Ba,path:"/accountSetup"}),e(ya,{component:Vh,exact:!0,layout:Ba,path:"/salesHub"}),e(ya,{component:E_,exact:!0,layout:Ba,path:"/salesMotion"}),e(ya,{component:yp,exact:!0,layout:Ba,path:"/createPartnership"}),e(ya,{component:hd,exact:!0,layout:Ba,path:"/assetCollection"}),e(ya,{component:Og,exact:!0,layout:Ba,path:"/uploadAsset"}),e(ya,{component:ar,exact:!0,layout:xa,path:"/saleHubSite"}),e($t,{component:uC,exact:!0,layout:Ba,path:"/accountsEngagements"}),e(ya,{component:um,exact:!0,layout:xa,path:"/salesHubPreview"}),e($t,{component:nr,exact:!0,layout:xa,path:"/terms"}),e($t,{component:Hi,exact:!0,layout:xa,path:"*"}),e(vs,{to:"/not-found"})]}),EC=zs(),DC=Us();function xo(){return e(js,{theme:DC,children:e(Vs,{history:EC,children:e(FC,{})})})}var PC="/assets/FloatingActionButtonImg.67738cda.svg",HC="/assets/FloatingCloseButtonImg.2a8d64de.svg";const BC="_campaignHubCardMainDiv_1h8uj_1",OC="_campaignHubCardImgDiv_1h8uj_29",WC="_campaignHubCardImg_1h8uj_29",RC="_campaignHubCardMainContentsDiv_1h8uj_55",qC="_campaignHubCardTitleDiv_1h8uj_75",zC="_campaignHubCardContentDiv_1h8uj_101",UC="_campaignHubCardLink_1h8uj_129";var On={campaignHubCardMainDiv:BC,campaignHubCardImgDiv:OC,campaignHubCardImg:WC,campaignHubCardMainContentsDiv:RC,campaignHubCardTitleDiv:qC,campaignHubCardContentDiv:zC,campaignHubCardLink:UC};function jC(a){return gt(),t("div",{onClickCapture:()=>window.location.assign(`${localStorage.getItem("campaignHubUrl")}/viewAssets?assetCollection=${a.assetCollectionData.solution_narrative_id}`),className:On.campaignHubCardMainDiv,children:[e("div",{className:On.campaignHubCardImgDiv,children:e("img",{className:On.campaignHubCardImg,src:`${(a==null?void 0:a.img)?`${a==null?void 0:a.img}?t=${new Date().getTime()}`:a==null?void 0:a.img}`,alt:"img"})}),t("div",{className:On.campaignHubCardMainContentsDiv,children:[e("div",{className:On.campaignHubCardTitleDiv,children:a.title.slice(0,25)}),e("div",{className:On.campaignHubCardContentDiv,children:a.content.slice(0,150)}),t("a",{className:On.campaignHubCardLink,children:[Gt.learnMore," ",">"]})]})]})}const sr=a=>{var o,l,m;const{partnerShipDetail:n}=a;return e(xe,{children:n!==null&&t("div",{className:"footerMainDiv",children:[t("div",{className:"footerPartnersAdressContainer",children:[t("div",{className:"footerPartnersContainer",children:[n.company_information.logo&&e("div",{className:"footerPartnersDiv",children:e("img",{className:"footerPartnersImg",src:`${((o=n==null?void 0:n.company_information)==null?void 0:o.logo)?`${(l=n==null?void 0:n.company_information)==null?void 0:l.logo}?t=${new Date().getTime()}`:(m=n==null?void 0:n.company_information)==null?void 0:m.logo}`,alt:""})}),e("div",{className:"footerPartnersTextDiv",children:n.company_information.company_name})]}),t("div",{className:"footerAddressPolicyDiv",children:[t("div",{className:"footerAddressDiv",children:[n.company_information.company_address,t("div",{children:[n.company_information.city,","," ",n.company_information.state," ",n.company_information.zipcode]}),e("div",{children:n.company_information.country})]}),t("div",{className:"footerPolicyContainer",children:[e("a",{target:"_blank",href:n.company_information.site_terms_url.includes("https://")||n.company_information.site_terms_url.includes("http://")?n.company_information.site_terms_url:`https://${n.company_information.site_terms_url}`,className:"footerPolicyDiv",rel:"noreferrer",children:Un.siteTerms}),e("a",{target:"_blank",href:n.company_information.privacy_policy_url.includes("https://")||n.company_information.privacy_policy_url.includes("http://")?n.company_information.privacy_policy_url:`https://${n.company_information.privacy_policy_url}`,className:"footerPolicyDiv",rel:"noreferrer",children:Un.privacyPolicy})]})]})]}),e("div",{className:"footerCopyrightDiv",children:"\xA9 2022 Symbio. All rights reserved"})]})})},VC={errorMsg:"",flag:""},GC=en({name:"campaignHub",initialState:VC,reducers:{setErrMsg(a,{payload:n}){a.errorMsg=n.errorMsg,a.flag=n.flag,console.log(n.errorMsg,n.flag,"inside setstae")}}}),or=(a,n,o,l,m,i,d,u,r,c)=>p=>{const h=localStorage.getItem("subDomainName"),y=localStorage.getItem("accountName");fe(`partnership/sales-hub-account/site/?sales_hub_domain=${h}&account_name=${y}`,{}).then(_=>{_.result===!0&&(_.data.partnership&&l(_.data.partnership),_.data.sales_hub_account&&(console.log("color",_.data.sales_hub_account.call_out_section_one.font_color),m(_.data.sales_hub_account),i(_.data.sales_hub_account.site_layout.font_style.name),localStorage.setItem("fontFamily",_.data.sales_hub_account.site_layout.font_style.name),u(_.data.sales_hub_account.site_layout.font_color.name),r(_.data.sales_hub_account.call_out_section_one.font_color.name),c(_.data.sales_hub_account.call_out_section_two.font_color.name)),_.data.solution_narratives&&d&&d(_.data.solution_narratives)),o(!1)})},JC=(a,n,o,l)=>m=>{const i=localStorage.getItem("subDomainName"),d=localStorage.getItem("accountName");fe(`partnership/sales-hub-account/get-solution-narrative/?sales_hub_domain=${i}&account_name=${d}`,{}).then(u=>{u.result===!0&&(u.data&&(o(u.data),l(d)),console.log(u,"response sn"))})};var ZC=GC.reducer;const YC="_previewCtaContainer_1rlyk_1",KC="_fadeIn_1rlyk_29",XC="_fadeOut_1rlyk_37",QC="_previewCta_1rlyk_1",eS="_previewCtaImg_1rlyk_69",tS="_previewCtaheader_1rlyk_83",aS="_previewCtaSubheader_1rlyk_101";var Wn={previewCtaContainer:YC,fadeIn:KC,fadeOut:XC,previewCta:QC,previewCtaImg:eS,previewCtaheader:tS,previewCtaSubheader:aS};const ir=({ctaData:a,show:n,fontFamily:o})=>{const l=gt(),[m,i]=s.exports.useState(n),[d,u]=s.exports.useState(""),[r,c]=s.exports.useState(o),p=()=>{n||i(!1)};return s.exports.useEffect(()=>{u(localStorage.getItem("accountName")),console.log("ctaFontFamily",o)},[]),s.exports.useEffect(()=>{n&&i(!0)},[n]),e(xe,{children:m&&e("div",{className:`${Wn.previewCtaContainer} ${n?Wn.fadeIn:Wn.fadeOut}`,onAnimationEnd:p,children:a&&t("div",{style:{fontFamily:o},className:Wn.previewCta,children:[e("img",{src:`${(a==null?void 0:a.image)?`${a==null?void 0:a.image}?t=${new Date().getTime()}`:a==null?void 0:a.image}`,alt:"",className:Wn.previewCtaImg}),e("div",{className:Wn.previewCtaheader,children:a.header_text}),e("div",{className:Wn.previewCtaSubheader,children:e("span",{children:` ${a.sub_header_text} `})}),e(bt,{variant:"contained",style:{background:"black",color:"white",padding:"0.5em 1.5em",textTransform:"none",fontFamily:r},disableElevation:!0,onClick:()=>l.push({pathname:`/${d}/cta`,state:window.location.pathname}),children:a.name})]})})})},nS=()=>{var U,L,k,g,w,x,V,G,ie;const a=rt(),n=gt(),[o,l]=s.exports.useState(""),[m,i]=s.exports.useState(null),[d,u]=s.exports.useState(null),[r,c]=s.exports.useState(null),[p,h]=s.exports.useState(null),[y,_]=s.exports.useState(!1),[b,S]=s.exports.useState(!1),[f,A]=s.exports.useState(""),[I,N]=s.exports.useState(""),[W,D]=s.exports.useState(""),[$,P]=s.exports.useState(""),E=s.exports.useRef(),M=Y=>{E&&E.current&&!E.current.contains(Y.target)&&_(!1)};return s.exports.useEffect(()=>{const Y=localStorage.getItem("subDomainName"),re=localStorage.getItem("accountName");localStorage.setItem("campaignHubUrl",window.location.href),S(!0),a(JC(Y,re,i,l)),a(or(Y,re,S,u,c,A,h,N,D,P)),document.addEventListener("mousedown",ye=>M(ye))},[]),console.log(W,"assetCollectionList"),e(xe,{children:d!==null&&r!==null&&p!==null?e("div",{style:{fontFamily:f},children:t("div",{className:"campaignHubMainDiv",children:[t("div",{className:"campaignHubPartnersDiv",children:[d!==null&&((U=d.company_information)==null?void 0:U.logo)&&e("div",{className:"campaignHubPartnersImg",children:e("img",{src:`${((L=d==null?void 0:d.company_information)==null?void 0:L.logo)?`${(k=d==null?void 0:d.company_information)==null?void 0:k.logo}?t=${new Date().getTime()}`:(g=d==null?void 0:d.company_information)==null?void 0:g.logo}`,alt:""})}),d!==null&&((w=d.partner_company_information)==null?void 0:w.logo)&&e("div",{className:"campaignHubPartnersImg",children:e("img",{src:`${((x=d==null?void 0:d.partner_company_information)==null?void 0:x.logo)?`${(V=d==null?void 0:d.partner_company_information)==null?void 0:V.logo}?t=${new Date().getTime()}`:(G=d==null?void 0:d.partner_company_information)==null?void 0:G.logo}`,alt:""})}),r!==null&&(r==null?void 0:r.service_provider_logo)&&e(xe,{children:e("div",{className:"campaignHubPartnersImg",children:e("img",{src:`${(r==null?void 0:r.service_provider_logo)?`${r==null?void 0:r.service_provider_logo}?t=${new Date().getTime()}`:r==null?void 0:r.service_provider_logo}`,alt:""})})})]}),t("div",{className:"campaignHubSiteContentDiv",children:[r!==null&&(r==null?void 0:r.site_layout.header_image)&&e("div",{className:"campaignHubSiteHeaderImgDiv",children:e("img",{className:"campaignHubSiteHeaderImg",src:`${(ie=r.site_layout)==null?void 0:ie.header_image}?time=${new Date().getTime()}`,alt:""})}),t("div",{className:"campaignHubSiteHeaderContentContainer",children:[t("div",{className:"campaignHubContentDiv",children:[t("div",{className:"campaignHubSiteHeaderInfoDiv",children:[e("div",{className:"campaignHubSiteHeaderDiv","data-theme":I==="Dark"?"dark-text":"light-text",children:r!==null&&r.site_layout.header_text}),e("div",{className:"campaignHubSiteSubheaderDiv","data-theme":I==="Dark"?"dark-text":"light-text",children:r!==null&&r.site_layout.sub_header_text})]}),e("div",{className:"campaignHubSiteCompanyInfoDiv",children:e("div",{className:"campaignHubSiteCompanyLogoDiv",children:e("img",{className:"campaignHubSiteCompanyLogo",src:(r==null?void 0:r.company_logo)?`${r==null?void 0:r.company_logo}?time=${Date.now()}`:r==null?void 0:r.company_logo,alt:""})})})]}),e("div",{className:"viewContentButtonDiv",children:e(bt,{onClick:()=>n.push(`/${localStorage.getItem("accountName")}/viewAssets`),style:{fontFamily:f},className:"viewContentButton",children:Un.viewContentLabel})})]})]}),e("div",{className:"campaignHubCardText",children:Un.recommendedContent}),e("div",{className:"campaignHubCardsContainer",children:e("div",{className:"campaignHubCardsDiv",children:p.length>0?p.map(Y=>e("div",{className:"campaignHubCardDiv",children:e(jC,{img:Y.image,title:Y.name,content:Y.description,assetCollectionData:Y})})):e("div",{className:"noAssetCollectionMsg",children:Un.noAssetCollection})})}),t("div",{className:"campaignHubCOSDiv",children:[r.call_out_section_one&&t("div",{className:"campaignHubCOS1ContentContainer",children:[e("div",{className:"campaignHubCOS1ImageDiv",children:e("img",{className:"campaignHubCOS1Img",src:(r==null?void 0:r.call_out_section_one.header_image)?`${r==null?void 0:r.call_out_section_one.header_image}?t=${new Date().getTime()}`:r==null?void 0:r.call_out_section_one.header_image,alt:""})}),t("div",{className:"campaignHubCOSContentsDiv","data-theme":W==="Dark"?"dark-text":"light-text",children:[e("div",{className:"campaignHubCOS1Header",children:r.call_out_section_one.header_text}),e("div",{className:"campaignHubCOS1SubHeader",children:r.call_out_section_one.sub_header_text})]})]}),r.call_out_section_two&&t("div",{className:"campaignHubCOS2ContentContainer",children:[t("div",{className:"campaignHubCOSContentsDiv","data-theme":$==="Dark"?"dark-text":"light-text",children:[e("div",{className:"campaignHubCOS2Header",children:r.call_out_section_two.header_text}),e("div",{className:"campaignHubCOS2SubHeader",children:r.call_out_section_two.sub_header_text})]}),e("div",{className:"campaignHubCOS2ImageDiv",children:e("img",{className:"campaignHubCOS2Img",src:(r==null?void 0:r.call_out_section_two.header_image)?`${r==null?void 0:r.call_out_section_two.header_image}?t=${new Date().getTime()}`:r==null?void 0:r.call_out_section_two.header_image,alt:""})})]})]}),e(sr,{partnerShipDetail:d}),(r==null?void 0:r.cta)&&t("div",{className:"fabCOSDiv",ref:E,children:[e(Ko,{className:"fabCOS",onClick:()=>_(!y),children:e("img",{src:y?HC:PC,alt:""})}),e(ir,{ctaData:r==null?void 0:r.cta,show:y,fontFamily:f})]})]})}):b&&e(ft,{})})};var rr="/assets/folderCollapseIcon.25a6c0c3.svg",lr="/assets/folderExpandIcon.39c769da.svg",cr="/assets/left_arrow_mini.f50adbc4.svg",dr="/assets/word_mini_icon.3fa8401f.svg",mr="/assets/pdf_mini_icon.a293ce22.svg",ur="/assets/ppt_mini_icon.8fafb2f1.svg",pr="/assets/excel_mini_icon.eef9dd60.svg",hr="/assets/video_mini_icon.2b8b0b4a.svg",_r="/assets/img_mini_icon.939a68f1.svg",Hs="/assets/others_mini_icon.4988e26d.svg",sS="/assets/FloatingActionButtonImg.67738cda.svg",oS="/assets/FloatingCloseButtonImg.2a8d64de.svg";const iS="_viewAssetsMainContainer_15mnn_1",rS="_viewAssetsListPreviewContainer_15mnn_13",lS="_viewAssetsHeaderContainer_15mnn_25",cS="_viewAssetsListContainer_15mnn_41",dS="_resizedviewAssetsListContainer_15mnn_59",mS="_paddingContainer_15mnn_75",uS="_resizerWrap_15mnn_85",pS="_resizerEnabledWrap_15mnn_103",hS="_resizeBtn_15mnn_125",_S="_pointRight_15mnn_151",gS="_viewAssetsPreviewContainer_15mnn_191",fS="_noAssetMsg_15mnn_211",yS="_viewAssetsLogoContainer_15mnn_231",vS="_assetCollectionTitle_15mnn_243",bS="_assetCollectionNoAsset_15mnn_259",CS="_previewContainer_15mnn_275",SS="_imageAndContentContainer_15mnn_289",wS="_image_15mnn_289",xS="_companyLogo_15mnn_317",AS="_partnerCompanyLogo_15mnn_329",IS="_serviceProviderLogo_15mnn_341",TS="_contentContainer_15mnn_351",NS="_title_15mnn_365",kS="_description_15mnn_389",MS="_imageAndAssetsMainContainer_15mnn_415",LS="_imageAndAssetsContentContainer_15mnn_427",$S="_pfdImage_15mnn_447",FS="_resizedPdfImage_15mnn_457",ES="_pdfTitle_15mnn_473",DS="_paginationContainer_15mnn_493",PS="_fabCTADiv_15mnn_509",HS="_fabCTA_15mnn_509",BS="_videoAssetView_15mnn_531",OS="_iframeAssetView_15mnn_541",WS="_viewAssetsButtonContainer_15mnn_573",RS="_mobileViewBackContainer_15mnn_663";var Nt={viewAssetsMainContainer:iS,viewAssetsListPreviewContainer:rS,viewAssetsHeaderContainer:lS,viewAssetsListContainer:cS,resizedviewAssetsListContainer:dS,paddingContainer:mS,resizerWrap:uS,resizerEnabledWrap:pS,resizeBtn:hS,pointRight:_S,viewAssetsPreviewContainer:gS,noAssetMsg:fS,viewAssetsLogoContainer:yS,assetCollectionTitle:vS,assetCollectionNoAsset:bS,previewContainer:CS,imageAndContentContainer:SS,image:wS,companyLogo:xS,partnerCompanyLogo:AS,serviceProviderLogo:IS,contentContainer:TS,title:NS,description:kS,imageAndAssetsMainContainer:MS,imageAndAssetsContentContainer:LS,pfdImage:$S,resizedPdfImage:FS,pdfTitle:ES,paginationContainer:DS,fabCTADiv:PS,fabCTA:HS,videoAssetView:BS,iframeAssetView:OS,viewAssetsButtonContainer:WS,mobileViewBackContainer:RS};const qS=()=>{gt();const[a,n]=s.exports.useState({file:"",fileType:"",id:"",name:""}),[o,l]=s.exports.useState(!0),[m,i]=s.exports.useState({companyLogo:"",partnerCompanyLogo:"",serviceProviderLogo:""}),[d,u]=s.exports.useState(""),[r,c]=s.exports.useState(!1),[p,h]=s.exports.useState([""]),[y,_]=s.exports.useState([]),[b,S]=s.exports.useState(!1),[f,A]=s.exports.useState(null),[I,N]=s.exports.useState(null),[W,D]=s.exports.useState(new Date().getTime()),[$,P]=s.exports.useState(""),E=localStorage.getItem("subDomainName"),M=localStorage.getItem("accountName"),U=()=>{fe(`partnership/sales-hub-account/site?sales_hub_domain=${E}&account_name=${M}`,{}).then(v=>{var R,K,de,ve,ke,Oe;if(v.result===!0){if(v.data.partnership){const Ae=v.data.partnership,qe=v.data.sales_hub_account;i({companyLogo:((R=Ae==null?void 0:Ae.company_information)==null?void 0:R.logo)?`${(K=Ae==null?void 0:Ae.company_information)==null?void 0:K.logo}?t=${new Date().getTime()}`:(de=Ae==null?void 0:Ae.company_information)==null?void 0:de.logo,partnerCompanyLogo:((ve=Ae==null?void 0:Ae.partner_company_information)==null?void 0:ve.logo)?`${(ke=Ae==null?void 0:Ae.partner_company_information)==null?void 0:ke.logo}?t=${new Date().getTime()}`:(Oe=Ae==null?void 0:Ae.partner_company_information)==null?void 0:Oe.logo,serviceProviderLogo:(qe==null?void 0:qe.service_provider_logo)?`${qe==null?void 0:qe.service_provider_logo}?t=${new Date().getTime()}`:qe==null?void 0:qe.service_provider_logo})}v.data.sales_hub_account&&A(v.data.sales_hub_account),v.data.partnership&&N(v.data.partnership)}l(!1)})},L=()=>{fe(`partnership/sales-hub-account/site/is-available/?subdomain=${E}&campaign_hub_domain=${M}`,{}).then(v=>{v.result===!0&&(v.data&&P(v.data.ip_address),console.log(v,"response sn"))})},k=(v,R)=>R.filter(de=>de.solution_narrative_id===v),g=v=>{var qe,_e,We,Te,Qe;const K=new URLSearchParams(window.location.search).get("assetCollection")||"0",de=K!=="0"?K:v[0].solution_narrative_id.toString();h([de]);const ve=(_e=(qe=k(parseInt(de,10),v)[0])==null?void 0:qe.assets[0])==null?void 0:_e.file,ke=(Te=(We=k(parseInt(de,10),v)[0])==null?void 0:We.assets[0])==null?void 0:Te.asset_id,Oe=(Qe=k(parseInt(de,10),v)[0])==null?void 0:Qe.assets[0].asset_name;let Ae=ve.split(".").pop();Ae==="PNG"&&(Ae="png"),n({file:ve,fileType:Ae,id:ke,name:Oe})},w=()=>{const v=localStorage.getItem("subDomainName"),R=localStorage.getItem("accountName");l(!0),fe(`partnership/sales-hub-account/get-solution-narrative/?sales_hub_domain=${v}&account_name=${R}`,{}).then(K=>{if(K.result===!0){const de=K.data;_(de),g(de)}l(!1)})},x=(v,R)=>{const K=R.filter(de=>!p.includes(de));h(K)},V=v=>(console.log(v,"nodeId"),p.includes(v)?lr:rr),G=ba(Xo)(({theme:v})=>({color:v.palette.text.secondary,[`& .${dn.content}`]:{color:v.palette.text.secondary,borderTopRightRadius:v.spacing(2),borderBottomRightRadius:v.spacing(2),paddingRight:v.spacing(1),fontWeight:v.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:v.typography.fontWeightRegular},"&:hover":{backgroundColor:v.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:`var(--tree-view-bg-color, ${v.palette.action.selected})`,color:"var(--tree-view-color)"},[`& .${dn.label}`]:{fontWeight:"inherit",color:"inherit"}},[`& .${dn.group}`]:{marginLeft:0,[`& .${dn.content}`]:{paddingLeft:v.spacing(2)}}})),ie=v=>{const Ae=v,{bgColor:R,color:K,labelIcon:de,labelInfo:ve,labelText:ke}=Ae,Oe=cn(Ae,["bgColor","color","labelIcon","labelInfo","labelText"]);return e(G,Z({label:t(zn,{sx:{display:"flex",alignItems:"center",p:.5,pr:0},children:[e("img",{style:{marginRight:"0.5rem"},src:de,alt:""}),e(bs,{variant:"body2",sx:{fontWeight:"inherit",flexGrow:1},children:ke}),e(bs,{variant:"caption",color:"inherit",children:ve})]}),style:{"--tree-view-color":K,"--tree-view-bg-color":R}},Oe))};s.exports.useEffect(()=>{Qo.initialize([{trackingId:"G-0YSCR376J9",gaOptions:{debug_mode:!0}}])},[]);const Y=()=>{const v=new Date().getTime();if(v>W){const R=v-W,K=Math.floor(R/1e3);D(v);const de={asset_id:a.id,asset_name:a.name,asset_type:a.fileType,asset_url:a.file,asset_viewing_time:K,ip:$,account_name:M,sub_domain_name:E,partnership_id:I.partnership_id,sales_hub_account_id:f.sales_hub_account_id};console.log("view_asset_data",de),Qo.event("view_asset",de)}},re=v=>{Y(),n({file:"",fileType:"",id:"",name:""});let R=v.file.split(".").pop();R==="PNG"&&(R="png"),n({file:v.file,fileType:R,id:v.asset_id,name:v.asset_name})},ye=v=>v==="svg"||v==="png"||v==="jpg"||v==="jpeg"?e("img",{src:a.file,width:"100%",height:"100%",alt:""}):v==="mp4"||v==="mkv"||v==="mov"?e("video",{id:a.id,className:Nt.videoAssetView,src:a.file,controls:!0}):v==="pptx"||v==="ppt"||v==="doc"||v==="xls"||v==="txt"||v==="json"?e("iframe",{className:Nt.iframeAssetView,src:`https://docs.google.com/gview?url=${a.file}&embedded=true`,frameBorder:"0",title:"frame"},a.id):e(os,{fileType:a.fileType,filePath:a.file},a.id);console.log(y,"assetCollections");const H=v=>{let R="";switch(v){case"Pdf":R=mr;break;case"Image":R=_r;break;case"Video":R=hr;break;case"Powerpoint":R=ur;break;case"Word":R=dr;break;case"Excel":R=pr;break;case"Others":R=Hs;break;default:R=Hs}return R};s.exports.useEffect(()=>{window.onpopstate=v=>{Y()}}),s.exports.useEffect(()=>{const v=new URLSearchParams(window.location.search),R=v.get("partner_id")||"0";v.get("solution_narrative_id"),u(R),U(),w(),L()},[]);const pe=()=>e(ei,{"aria-label":"gmail",defaultExpanded:["3"],defaultCollapseIcon:e(ti,{}),defaultExpandIcon:e(ai,{}),defaultEndIcon:e("div",{style:{width:24}}),sx:{height:"auto",flexGrow:1,maxWidth:400},multiSelect:!0,expanded:p,onNodeToggle:x,children:y.length>0&&y.map(v=>e(ie,{bgColor:"white",nodeId:v.solution_narrative_id.toString(),labelText:r?"":v.assets.length>0?v.name:`${v.name}(no assets)`,labelIcon:V(v.solution_narrative_id.toString()),children:v.assets&&v.assets.length>0&&v.assets.map(R=>e(ie,{onClick:()=>{re(R)},labelText:r?"":R.asset_name,labelIcon:H(R.file_type)},R.asset_id))},v.solution_narrative_id.toString()))});return t("div",{children:[!o&&t("div",{className:Nt.viewAssetsMainContainer,children:[t("div",{className:Nt.viewAssetsHeaderContainer,children:[t("div",{className:Nt.viewAssetsLogoContainer,children:[m.companyLogo!==null&&e("img",{className:Nt.companyLogo,src:m.companyLogo,alt:""}),m.partnerCompanyLogo!==null&&e("img",{className:Nt.companyLogo,src:m.partnerCompanyLogo,alt:""}),m.serviceProviderLogo!==null&&e("img",{className:Nt.companyLogo,src:m.serviceProviderLogo,alt:""})]}),e("div",{className:Nt.viewAssetsButtonContainer,children:e(At,{onClick:()=>{window.location.assign(localStorage.getItem("campaignHubUrl")),a.file!==""&&a.fileType!==""&&Y()},children:"Back"})})]}),t("div",{className:Nt.viewAssetsListPreviewContainer,children:[e("div",{className:Nt.mobileViewBackContainer,children:e(bt,{style:{fontSize:"15px",fontWeight:"500",textTransform:"none",color:"#6B6B6B"},variant:"text",onClick:()=>{window.location.assign(localStorage.getItem("campaignHubUrl"))},children:ct.back})}),e("div",{className:r?Nt.resizedviewAssetsListContainer:Nt.viewAssetsListContainer,children:pe()}),y.length!==0&&e("div",{className:r?Nt.resizerEnabledWrap:Nt.resizerWrap,children:e("div",{onClickCapture:()=>c(!r),className:Nt.resizeBtn,children:e("img",{src:cr,className:r?Nt.pointRight:"",alt:"arrow"})})}),a.file!==""&&a.fileType!==""?e("div",{className:Nt.viewAssetsPreviewContainer,children:ye(a.fileType)}):e("div",{className:Nt.noAssetMsg,children:Un.noAssetPreview}),e("div",{className:Nt.paddingContainer})]}),(f==null?void 0:f.cta)&&t("div",{className:Nt.fabCTADiv,children:[e(Ko,{className:Nt.fabCTA,onClick:()=>S(!b),children:e("img",{src:b?oS:sS,alt:""})}),e(ir,{ctaData:f==null?void 0:f.cta,show:b,fontFamily:localStorage.getItem("fontFamily")})]})]}),o&&e(ft,{})]})},zS="_ctaImgContainer_k7hav_1",US="_CtaLogoImg_k7hav_17",jS="_viewAssetsLogoContainer_k7hav_27",VS="_companyLogo_k7hav_39";var gr={ctaImgContainer:zS,CtaLogoImg:US,viewAssetsLogoContainer:jS,companyLogo:VS};const GS=({LogoList:a})=>e("div",{className:gr.viewAssetsLogoContainer,children:a==null?void 0:a.map((n,o)=>e(xe,{children:n&&e("img",{src:n,alt:n,id:n+o,className:gr.companyLogo})}))}),JS="_mainContainer_1sn6d_1",ZS="_backLink_1sn6d_17",YS="_ctaContainer_1sn6d_45",KS="_ctaContent_1sn6d_59",XS="_ctaHeader_1sn6d_69",QS="_ctaImg_1sn6d_83",ew="_ctaSubHeader_1sn6d_101",tw="_iframeContainer_1sn6d_117",aw="_iframe_1sn6d_117",nw="_ctaPolicy_1sn6d_135",sw="_policy_url_1sn6d_149";var Ia={mainContainer:JS,backLink:ZS,ctaContainer:YS,ctaContent:KS,ctaHeader:XS,ctaImg:QS,ctaSubHeader:ew,iframeContainer:tw,iframe:aw,ctaPolicy:nw,policy_url:sw};const ow=a=>{var S,f,A,I,N,W,D,$;const[n,o]=s.exports.useState(null),[l,m]=s.exports.useState(null),[i,d]=s.exports.useState(""),[u,r]=s.exports.useState(!1),[c,p]=s.exports.useState(""),h=s.exports.useRef(null),y=rt(),_=gt();s.exports.useEffect(()=>{const P=localStorage.getItem("subDomainName"),E=localStorage.getItem("accountName");r(!0),y(or(P,E,r,o,m,p))},[]);const b=()=>{var P,E,M;!i&&h&&h.current&&(h.current.height=(M=(E=(P=document.getElementsByTagName("iframe")[0])==null?void 0:P.contentDocument)==null?void 0:E.body)==null?void 0:M.scrollHeight)};return s.exports.useEffect(()=>{var P,E;if(l){const M=[zr(l.cta.embedded_code)].flat(1);M.length&&M.find(U=>U.type==="iframe")&&d((E=(P=M.find(U=>U.type==="iframe"))==null?void 0:P.props)==null?void 0:E.src)}},[l]),e(xe,{children:n&&l?t(xe,{children:[t("main",{style:{fontFamily:c},className:Ia.mainContainer,children:[e(GS,{LogoList:[n.company_information.logo,n.partner_company_information.logo,l.service_provider_logo]}),e("p",{className:Ia.backLink,onClickCapture:()=>a.location.state?window.history.back():_.push(`/${localStorage.getItem("accountName")}`),children:oi.backLinkLabel}),t("div",{className:Ia.ctaContainer,children:[t("div",{className:Ia.ctaContent,children:[e("div",{className:Ia.ctaHeader,children:l.cta.header_text}),e("img",{className:Ia.ctaImg,src:l.cta.image,alt:""}),e("div",{className:Ia.ctaSubHeader,children:l.cta.sub_header_text})]}),t("div",{className:Ia.iframeContainer,children:[e("iframe",{style:{fontFamily:c},className:Ia.iframe,scrolling:i?"":"no",title:"embedded code",src:i,srcDoc:i?void 0:l.cta.embedded_code,frameBorder:"0",marginHeight:0,marginWidth:0,height:"100%",onLoad:b,ref:h,children:e("p",{children:"Loading..."})}),t("div",{className:Ia.ctaPolicy,children:[oi.ctaTermPolicy,e("a",{className:Ia.policy_url,target:"_blank",href:((S=n.company_information)==null?void 0:S.privacy_policy_url.includes("https://"))||((f=n.company_information)==null?void 0:f.privacy_policy_url.includes("http://"))?(A=n.company_information)==null?void 0:A.privacy_policy_url:`https://${(I=n.company_information)==null?void 0:I.privacy_policy_url}`,rel:"noreferrer",children:n.company_information.company_name})," and ",e("a",{className:Ia.policy_url,target:"_blank",rel:"noreferrer",href:((N=n.partner_company_information)==null?void 0:N.privacy_policy_url.includes("https://"))||((W=n.partner_company_information)==null?void 0:W.privacy_policy_url.includes("http://"))?(D=n.partner_company_information)==null?void 0:D.privacy_policy_url:`https://${($=n.partner_company_information)==null?void 0:$.privacy_policy_url}`,children:n.partner_company_information.company_name})]})]})]})]}),e(sr,{partnerShipDetail:n})]}):u&&e(ft,{})})},iw=()=>{let a,n;return window.location.hostname==="localhost"?(a="itachi",n="uchiha"):(a=window.location.hostname.split(".")[0],n=window.location.pathname.split("/")[1]),console.log(a,"subDomainName"),console.log(n,"accName"),localStorage.setItem("subDomainName",a),localStorage.setItem("accountName",n),t(qs,{children:[e($t,{component:ow,exact:!0,layout:xa,path:`/${n}/cta`}),e($t,{component:qS,exact:!0,layout:xa,path:`/${n}/viewAssets`}),e($t,{component:nS,exact:!0,layout:xa,path:"*"}),e(vs,{to:"/not-found"})]})},rw=zs(),lw=Us();function Ao(){return e(js,{theme:lw,children:e(Vs,{history:rw,children:e(iw,{})})})}const cw="_viewAssetsMainContainer_1i47m_1",dw="_viewAssetsListPreviewContainer_1i47m_13",mw="_viewAssetsHeaderContainer_1i47m_23",uw="_viewAssetsListContainer_1i47m_39",pw="_resizedviewAssetsListContainer_1i47m_57",hw="_paddingContainer_1i47m_75",_w="_resizerWrap_1i47m_85",gw="_resizerEnabledWrap_1i47m_103",fw="_resizeBtn_1i47m_125",yw="_pointRight_1i47m_149",vw="_viewAssetsPreviewContainer_1i47m_189",bw="_viewAssetsLogoContainer_1i47m_211",Cw="_assetCollectionTitle_1i47m_219",Sw="_assetCollectionNoAsset_1i47m_235",ww="_previewContainer_1i47m_251",xw="_imageAndContentContainer_1i47m_265",Aw="_image_1i47m_265",Iw="_companyLogo_1i47m_293",Tw="_partnerCompanyLogo_1i47m_305",Nw="_contentContainer_1i47m_315",kw="_title_1i47m_329",Mw="_description_1i47m_353",Lw="_imageAndAssetsMainContainer_1i47m_379",$w="_imageAndAssetsContentContainer_1i47m_391",Fw="_resizedImageAndAssetsContentContainer_1i47m_411",Ew="_pfdImage_1i47m_433",Dw="_resizedPdfImage_1i47m_443",Pw="_pdfTitle_1i47m_459",Hw="_paginationContainer_1i47m_479";var ca={viewAssetsMainContainer:cw,viewAssetsListPreviewContainer:dw,viewAssetsHeaderContainer:mw,viewAssetsListContainer:uw,resizedviewAssetsListContainer:pw,paddingContainer:hw,resizerWrap:_w,resizerEnabledWrap:gw,resizeBtn:fw,pointRight:yw,viewAssetsPreviewContainer:vw,viewAssetsLogoContainer:bw,assetCollectionTitle:Cw,assetCollectionNoAsset:Sw,previewContainer:ww,imageAndContentContainer:xw,image:Aw,companyLogo:Iw,partnerCompanyLogo:Tw,contentContainer:Nw,title:kw,description:Mw,imageAndAssetsMainContainer:Lw,imageAndAssetsContentContainer:$w,resizedImageAndAssetsContentContainer:Fw,pfdImage:Ew,resizedPdfImage:Dw,pdfTitle:Pw,paginationContainer:Hw};const Bw=()=>{const a=gt(),[n,o]=s.exports.useState({file:"",fileType:""}),[l,m]=s.exports.useState([""]),[i,d]=s.exports.useState([]);s.exports.useState("");const[u,r]=s.exports.useState(!0),[c,p]=s.exports.useState({companyLogo:"",partnerCompanyLogo:""}),[h,y]=s.exports.useState(""),[_,b]=s.exports.useState([]),[S,f]=s.exports.useState(!1),A=g=>{r(!0);const w=localStorage.getItem("token");fe(`partnership/?partnership_id=${g}`,{Accept:"application/json","Content-Type":"application/json",Authorization:`Token ${w}`}).then(x=>{x.result===!0&&p({companyLogo:x.data.company_information.logo,partnerCompanyLogo:x.data.partner_company_information.logo}),r(!1)})},I=(g,w,x)=>{x&&r(!0);const V=localStorage.getItem("token");fe(`partnership/solution-narrative/get-assets/?partnership_id=${g}&solution_narrative_id=${w}&is_selected=true`,{Accept:"application/json",Authorization:`Token ${V}`}).then(G=>{if(G.result===!0){b(G.data);const ie=G.data[0].file;let Y=G.data[0].file.split(".").pop();Y==="PNG"&&(Y="png"),m([w]),o({file:ie,fileType:Y}),r(!1)}else r(!1);r(!1)})},N=()=>{r(!0);const g=localStorage.getItem("token"),w=localStorage.getItem("subDomainName"),x={Authorization:`Token ${g}`};fe(`partnership/sales-hub/site/?subdomain=${w}`,x).then(V=>{if(V.result===!0){const G=V.data;p({companyLogo:G.company_information.logo,partnerCompanyLogo:G.partner_company_information.logo}),console.log(G.solution_narratives,"cameee")}r(!1)}).finally(()=>r(!1))},W=()=>{const g=localStorage.getItem("token"),w=localStorage.getItem("subDomainName"),x={Authorization:`Token ${g}`};fe(`partnership/sales-hub/get-solution-narratives-assets/?sales_hub_domain=${w}`,x).then(V=>{V.result===!0&&(d(V.data),console.log(V.data,"getAssetCollectionBySalesHubSite"))})};s.exports.useEffect(()=>{const g=new URLSearchParams(window.location.search),w=g.get("partner_id")||"0",x=g.get("solution_narrative_id")||"0";y(w),W(),I(w,x,""),A(w),N()},[]);const D=g=>{let w=g.file.split(".").pop();w==="PNG"&&(w="png"),o({file:g.file,fileType:w})},$=g=>{let w="";switch(g){case"Pdf":w=mr;break;case"Image":w=_r;break;case"Video":w=hr;break;case"Powerpoint":w=ur;break;case"Word":w=dr;break;case"Excel":w=pr;break;case"Others":w=Hs;break;default:w=Hs}return w},P=(g,w)=>{const x=w.filter(V=>!l.includes(V));m(x)},E=g=>(console.log(g,"nodeId"),l.includes(g)?lr:rr),M=ba(Xo)(({theme:g})=>({color:g.palette.text.secondary,[`& .${dn.content}`]:{color:g.palette.text.secondary,borderTopRightRadius:g.spacing(2),borderBottomRightRadius:g.spacing(2),paddingRight:g.spacing(1),fontWeight:g.typography.fontWeightMedium,"&.Mui-expanded":{fontWeight:g.typography.fontWeightRegular},"&:hover":{backgroundColor:g.palette.action.hover},"&.Mui-focused, &.Mui-selected, &.Mui-selected.Mui-focused":{backgroundColor:`var(--tree-view-bg-color, ${g.palette.action.selected})`,color:"var(--tree-view-color)"},[`& .${dn.label}`]:{fontWeight:"inherit",color:"inherit"}},[`& .${dn.group}`]:{marginLeft:0,[`& .${dn.content}`]:{paddingLeft:g.spacing(2)}}})),U=g=>{const re=g,{bgColor:w,color:x,labelIcon:V,labelInfo:G,labelText:ie}=re,Y=cn(re,["bgColor","color","labelIcon","labelInfo","labelText"]);return e(M,Z({label:t(zn,{sx:{display:"flex",alignItems:"center",p:.5,pr:0},children:[e("img",{style:{marginRight:"0.5rem"},src:V,alt:""}),e(bs,{variant:"body2",sx:{fontWeight:"inherit",flexGrow:1},children:ie}),e(bs,{variant:"caption",color:"inherit",children:G})]}),style:{"--tree-view-color":x,"--tree-view-bg-color":w}},Y))},L=()=>t(ei,{"aria-label":"gmail",defaultExpanded:["3"],defaultCollapseIcon:e(ti,{}),defaultExpandIcon:e(ai,{}),defaultEndIcon:e("div",{style:{width:24}}),sx:{height:"auto",flexGrow:1,maxWidth:400},multiSelect:!0,expanded:l,onNodeToggle:P,children:[console.log(i,"solutionNarrativeList"),i.length>0&&i.map(g=>e(U,{bgColor:"white",nodeId:g.solution_narrative_id.toString(),labelText:S?"":g.assets.length>0?g.name:`${g.name}(no assets)`,labelIcon:E(g.solution_narrative_id.toString()),children:g.assets&&g.assets.length>0&&g.assets.map(w=>e(U,{onClick:()=>{D(w)},labelText:S?"":w.asset_name,labelIcon:$(w.file_type)},w.asset_id))},g.solution_narrative_id.toString()))]}),k=g=>g==="svg"||g==="png"||g==="jpg"||g==="jpeg"?e("img",{src:n.file,width:"100%",height:"500px",alt:""}):g==="mp4"||g==="mkv"||g==="mov"?e("video",{src:n.file,width:"100%",height:"500px",controls:!0,children:e("track",{kind:"captions"})}):g==="pptx"||g==="ppt"||g==="doc"||g==="xls"||g==="txt"||g==="json"?e("iframe",{src:`https://docs.google.com/gview?url=${n.file}&embedded=true`,width:"100%",height:"500px",frameBorder:"0",title:"frame"}):e(os,{fileType:n.fileType,filePath:n.file},`${n.file.toString()}asset`);return t("div",{children:[!u&&t("div",{className:ca.viewAssetsMainContainer,children:[t("div",{className:ca.viewAssetsHeaderContainer,children:[t("div",{className:ca.viewAssetsLogoContainer,children:[c.companyLogo!==null&&e("img",{className:ca.companyLogo,src:c.companyLogo,alt:""}),c.partnerCompanyLogo!==null&&e("img",{className:ca.partnerCompanyLogo,src:c.partnerCompanyLogo,alt:""})]}),e("div",{className:ca.viewAssetsButtonContainer,children:e(At,{onClick:()=>a.push(`/home?partner_id=${h}`),children:"Back"})})]}),t("div",{className:ca.viewAssetsListPreviewContainer,children:[e("div",{className:S?ca.resizedviewAssetsListContainer:ca.viewAssetsListContainer,children:L()}),_.length!==0&&e("div",{className:S?ca.resizerEnabledWrap:ca.resizerWrap,children:e("div",{onClickCapture:()=>f(!S),className:ca.resizeBtn,children:e("img",{src:cr,className:S?ca.pointRight:"",alt:"arrow"})})}),e("div",{className:ca.viewAssetsPreviewContainer,children:n.file!==""&&n.fileType!==""?k(n.fileType):"No Assets Available"}),e("div",{className:ca.paddingContainer})]})]}),u&&e(ft,{})]})},Ow=()=>t(qs,{children:[e($t,{component:Ei,exact:!0,layout:ua,path:"/verifyMail"}),e($t,{component:Ui,exact:!0,layout:ua,path:"/emailVerification"}),e($t,{component:Mi,exact:!0,layout:ua,path:"/forgotPassword"}),e($t,{component:Li,exact:!0,layout:ua,path:"/resetPassword"}),e($t,{component:Di,exact:!0,layout:ua,path:"/signUp"}),e($t,{component:ki,exact:!0,layout:ua,path:"/"}),e(ya,{component:ar,exact:!0,layout:xa,path:"/home"}),e(ya,{component:Bw,exact:!0,layout:xa,path:"/viewAssets"}),e($t,{component:nr,exact:!0,layout:xa,path:"/terms"}),e($t,{component:Hi,exact:!0,layout:xa,path:"*"}),e(vs,{to:"/not-found"})]}),Ww=zs(),Rw=Us();function fr(){return e(js,{theme:Rw,children:e(Vs,{history:Ww,children:e(Ow,{})})})}const Io=a=>{let n;switch(!0){case a===Ea.devPortal:n=Tn.manager;break;case a===Ea.prodPortal:n=Tn.manager;break;case a===Ea.localPortal:n=Tn.manager;break;case a===Ea.localSalesHub:n=Tn.salesHub;break;default:n=Tn.salesHub;break}return n},qw=()=>{const a=window.location.href.split(".");return a[0].includes(Ea.localSalesHub)===!0?Io(Ea.localSalesHub):a[0].includes(Ea.localPortal)===!0?Io(Ea.localPortal):Io(`${a[0]}.${a[1]}`)},zw=()=>{const a=window.location.href.split(".");return console.log("textSplit",a),a[0].includes(Ea.localSalesHub)===!0?e(fr,{}):a[0].includes(Ea.localPortal)===!0?e(xo,{}):a[0].includes(Ea.localCampaign)===!0?e(Ao,{}):a[0]+a[1]+a[2]==="https://portaldevcosell"?e(xo,{}):a[0]+a[1]+a[2]==="https://portalstgcosell"?e(xo,{}):a[1]+a[2]==="devlp"?e(Ao,{}):a[1]+a[2]==="stglp"?e(Ao,{}):e(fr,{})},Uw=()=>{const[a,n]=s.exports.useState(null);return s.exports.useEffect(()=>{n(zw())},[]),e("div",{children:a})},jw=Ur({signInSlice:Ju,signUpSlice:uh,createPartnershipSlice:su,uploadAssetSlice:lu,assetCollectionSlice:Uc,salesHubSlice:uu,salesMotionSlice:yu,salesHubAccountSlice:tf,campaignHubSlice:ZC,form:Vr}),Vw=jr({reducer:jw});Gr.render(e(Ie.StrictMode,{children:e(Jr,{store:Vw,children:e(Uw,{})})}),document.getElementById("root"));
